(this["webpackJsonplms-frontend-v3"]=this["webpackJsonplms-frontend-v3"]||[]).push([[0],{415:function(e,t,n){},416:function(e,t,n){},788:function(e,t){},797:function(e,t){},799:function(e,t){},809:function(e,t){},811:function(e,t){},836:function(e,t){},837:function(e,t){},842:function(e,t){},844:function(e,t){},851:function(e,t){},870:function(e,t){},888:function(e,t,n){},889:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(33),r=n.n(c),i=(n(415),n(416),n(2)),o=n.n(i),l=n(4),u=n(14),d=n(21),j=n(22),b=n(23),m=n(5),h="Development",O={API:"https://dev-api-v3.tekteachlms.com",SIGNALR_URL:"https://rtc-dev-v3.tekteachlms.com/tekteach"},f={API:"https://tekteachlms-api.com"},p={API:"https://dev-api.tekteachlms.com"},x={};switch(h){case h:x=O;break;case"ALPHA":x=p;break;case"Production":x=f}x.FROALA_LICENSE="lSA3D-17E4B3A2B2E1F1rXYb1VPUGRHYZNRJd1JVOOb1HAc1zG2B1A2D3D6B1A1C4E1A3==";var v=x,g=v.API,w=v.SIGNALR_URL,N=function e(){var t=this;Object(u.a)(this,e),this.sendRequest=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s,c,r,i,u,d,j,b,h,O,f,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.path,s=n.method,c=void 0===s?"GET":s,r=n.data,i=void 0===r?{}:r,u=n.base,d=n.headers,j=u?u+a:g+a,b=window.location.host.split(".")[0],e.t0="Web|".concat(b.includes("localhost")?"dev":b,".tekteachlms.com"),e.t1="Bearer ",e.next=7,window.localStorage.getItem("token");case 7:return e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),e.t4={Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","X-LMS-KEY":e.t0,Authorization:e.t3},e.t5=c,h={headers:e.t4,method:e.t5},d&&(h=Object(m.a)(Object(m.a)({},h),{},{headers:d})),console.info("%cNew connection has established","color: red"),console.log({config:h,url:j,data:i}),"GET"!=c&&(h.body=JSON.stringify(i)),e.next=18,fetch(j,h).then(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return e.message.match(/Network request failed/)?(console.log({err:"Failed to establish connection"}),{network_error:!0,ok:!1}):e}));case 18:if(!(O=e.sent).network_error){e.next=21;break}return e.abrupt("return",O);case 21:return e.next=23,O.text();case 23:if(f=e.sent,t.isJSON(f)&&(f=JSON.parse(f)),401!=O.status){e.next=30;break}return e.next=28,localStorage.removeItem("token");case 28:return window.location.href="/login?message=You have been logged out! Please login again",e.abrupt("return");case 30:return p={res:O,ok:O.ok,status:O.status,data:f,statusMessage:t.getStatusMessage(O.status)},console.log({output:p}),e.abrupt("return",p);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.isJSON=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},this.getStatusMessage=function(e){switch(e){case 100:return"Continue";case 101:return"Switching Protocols";case 102:return"Processing";case 200:return"OK";case 201:return"Created";case 202:return"Accepted";case 203:return"Non-authoritative Information";case 204:return"No Content";case 205:return"Reset Content";case 206:return"Partial Content";case 207:return"Multi-Status";case 208:return"Already Reported";case 226:return"IM Used";case 300:return"Multiple Choices";case 301:return"Moved Permanently";case 302:return"Found";case 303:return"See Other";case 304:return"Not Modified";case 305:return"Use Proxy";case 307:return"Temporary Redirect";case 308:return"Permanent Redirect";case 400:return"Bad Request";case 401:return"Unauthorized";case 402:return"Payment Required";case 403:return"Forbidden";case 404:return"Not Found";case 405:return"Method Not Allowed";case 406:return"Not Acceptable";case 407:return"Proxy Authentication Required";case 408:return"Request Timeout";case 409:return"Conflict";case 410:return"Gone";case 411:return"Length Required";case 412:return"Precondition Failed";case 413:return"Payload Too Large";case 414:return"Request-URI Too Long";case 415:return"Unsupported Media Type";case 416:return"Requested Range Not Satisfiable";case 417:return"Expectation Failed";case 418:return"I'm a teapot";case 421:return"Misdirected Request";case 422:return"Unprocessable Entity";case 423:return"Locked";case 424:return"Failed Dependency";case 426:return"Upgrade Required";case 428:return"Precondition Required";case 429:return"Too Many Requests";case 431:return"Request Header Fields Too Large";case 444:return"Connection Closed Without Response";case 451:return"Unavailable For Legal Reasons";case 499:return"Client Closed Request";case 500:return"Internal Server Error";case 501:return"Not Implemented";case 502:return"Bad Gateway";case 503:return"Service Unavailable";case 504:return"Gateway Timeout";case 505:return"HTTP Version Not Supported";case 506:return"Variant Also Negotiates";case 507:return"Insufficient Storage";case 508:return"Loop Detected";case 510:return"Not Extended";case 511:return"Network Authentication Required";case 599:return"Network Connect Timeout Error";default:return"Something went wrong: "+e}}},y=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).login=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Login",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.profile=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Login"}));case 1:case"end":return t.stop()}}),t)}))),e.theme=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/Theme"}));case 1:case"end":return t.stop()}}),t)}))),e}return n}(N),k=n(908),C=n(18),S={info:function(e){console.log("%c ".concat(e," "),"color: cyan; font-weight: bold;")}},T=function(){return window.location.pathname.includes("exam")&&window.location.pathname.includes("class")},A=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getSchoolLogo=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/logo",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.updateSchoolLogo=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/logo",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getSchoolTheme=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/Theme",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.updateSchoolTheme=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/Theme",method:"PUT",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllTeacher=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account?userroleid=3",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getTeachersList=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.createSchoolAdmin=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/admin/school",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateAccount=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteTeacher=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uploadTeacherList=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/Register/Excel",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.registerTeacher=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/Register",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTeacherInfo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getAllStudents=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account?userroleid=4",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getStudentsList=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.deleteStudent=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uploadStudentList=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/Register/Excel",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.registerStudent=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/Register",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateStudentInfo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getSchoolAdmin=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account?userroleid=2",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.deleteAccount=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resetDefaultPassword=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n,"/password/default"),method:"PUT"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changePassword=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n,"/password"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getSchoolList=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getSchoolInfo=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Admin/schoolcode/".concat(n,"/datefrom/").concat(a,"/dateto/").concat(s),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getTeachers=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getSchoolCodeAPI=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/code",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e}return n}(N),I=n(6),E=n(0),D=s.a.createContext(),L=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).setSelectedClassId=function(e){a.setState({selectedClassId:e})},a.refreshUser=Object(l.a)(o.a.mark((function e(){var t,n,s,c,r,i,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({loading:!0});case 2:return e.next=4,(new y).profile();case 4:if(!(r=e.sent).ok){e.next=46;break}(i=r.data).role=i.role.roleName||i.role,e.t0=i.role,e.next="Student"===e.t0?11:"Teacher"===e.t0?15:"School Admin"===e.t0?19:"Parent"===e.t0?23:"System Admin"===e.t0?27:31;break;case 11:return i.name="".concat(null===(t=i.student)||void 0===t?void 0:t.fname," ").concat(null===(n=i.student)||void 0===n?void 0:n.lname),i.isStudent=!0,i.subsType=window.localStorage.getItem("subsType"),e.abrupt("break",33);case 15:return i.name="".concat(null===(s=i.teacher)||void 0===s?void 0:s.fname," ").concat(null===(c=i.teacher)||void 0===c?void 0:c.lname),i.isTeacher=!0,i.subsType=window.localStorage.getItem("subsType"),e.abrupt("break",33);case 19:return i.name="School Admin",i.isSchoolAdmin=!0,i.subsType=window.localStorage.getItem("subsType"),e.abrupt("break",33);case 23:return i.name="Parent",i.isParent=!0,i.subsType=window.localStorage.getItem("subsType"),e.abrupt("break",33);case 27:return i.name="System Admin",i.isSystemAdmin=!0,i.subsType=window.localStorage.getItem("subsType"),e.abrupt("break",33);case 31:return i.name="No name",e.abrupt("break",33);case 33:return e.next=35,(new y).theme();case 35:return l=e.sent,console.log({themeResponse:l}),l.ok&&a.setThemeColor(l.data),e.next=40,(new A).getSchoolLogo();case 40:return(u=e.sent).ok&&a.setThemeLogo(u.data),e.next=44,a.setState({loading:!1,user:i});case 44:e.next=48;break;case 46:return e.next=48,a.setState({loading:!1,user:null});case 48:case"end":return e.stop()}}),e)}))),a.setThemeLogo=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({themeLogo:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setThemeColor=function(e){document.body.style.setProperty("--primary-color",e),a.setState({themeColor:e})},a.setLoading=function(e){a.setState({loading:e})},a.connect=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==a.connection.current){e.next=4;break}return S.info("Connection already exists"),e.abrupt("return");case 4:return a.connection.current=new k.a,e.next=7,a.setState({connectionStatus:"connecting"});case 7:return e.next=9,window.localStorage.getItem("token");case 9:return t=e.sent,console.log({token:t,SIGNALR_URL:w}),e.next=13,(new k.a).withUrl(w,{accessTokenFactory:function(){return t}}).configureLogging(C.a.Debug).build();case 13:return a.connection.current=e.sent,console.log({connection:a.connection.current}),a.connection.current.on("OnthemeLogoutMessage",(function(e,t){S.info("themeLogout message received:",t)})),a.connection.current.on("OnExamMessage",(function(e,t){S.info("Exam message received:",t),a.setState({takingExam:!(null===t||void 0===t?void 0:t.isExamEnded),examUrl:null===t||void 0===t?void 0:t.url}),(null===t||void 0===t?void 0:t.url)?(S.info("Has url",null===t||void 0===t?void 0:t.url),(null===t||void 0===t?void 0:t.url)!=window.location.pathname&&(S.info("URL is different from current URL"),window.location.pathname=t.url),S.info("url is same as current URL. No need to redirect")):(S.info("No url"),console.log({message:t}),(null===t||void 0===t?void 0:t.isExamEnded)?S.info("Exam has ended"):T()&&(S.info("On exam route"),window.location.pathname="/"))})),a.connection.current.on("Notification",(function(e,t){var n;S.info("Notification received:"),console.log({message:t}),I.b.info(null!==(n=null===t||void 0===t?void 0:t.message)&&void 0!==n?n:"Notification received")})),a.connection.current.onreconnecting((function(){S.info("reconnecting"),a.setState({connectionStatus:"reconnecting"})})),a.connection.current.onreconnected((function(){S.info("reconnected"),a.setState({connectionStatus:"connected"})})),e.next=22,a.connection.current.start().then((function(){S.info("connected"),a.setState({connectionStatus:"connected"})}));case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),S.info(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])}))),a.notify=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.description,s=void 0===n?"":n,c=t.classId,r=t.activityType,e.next=3,a.connection.current.invoke("Notifications",s,c,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.endExam=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connection.current.invoke("OnEndExam");case 2:case"end":return e.stop()}}),e)}))),a.takeExam=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.connection.current.invoke("OnExamTaking",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={user:!1,loading:!0,connectionStatus:"disconnected",takingExam:!1,examUrl:null,themeColor:"#EE9337",themeLogo:null,selectedClassId:null},a.connection=s.a.createRef(),a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.user,a=t.loading,s=t.connection,c=t.themeColor,r=t.connectionStatus,i=t.takingExam,o=t.themeLogo,l=t.selectedClassId;return Object(E.jsx)(D.Provider,{value:{data:{user:n,loading:a,connection:s,connectionStatus:r,takingExam:i,themeColor:c,themeLogo:o,selectedClassId:l,setSelectedClassId:this.setSelectedClassId,takeExam:this.takeExam,endExam:this.endExam,refreshUser:this.refreshUser,connect:this.connect,setThemeColor:this.setThemeColor,setThemeLogo:this.setThemeLogo,notify:this.notify}},children:e})}}]),n}(a.Component),M=L,F=n(9),B=n(11),H=n(3),P=n(904),z=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getClasses=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/".concat(n,"/classes"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllClass=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getClassesStudent=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPendingClasses=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/pending"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createClasses=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClassInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editClasses=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteClasses=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStudentTaskAnwswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/task/").concat(s,"/answer"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getStudentAssignmentAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/assignment/").concat(s,"/answer"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.submitStudentAssignmentAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/assignment/").concat(s,"/answer"),method:"POST",data:c}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),e.submitStudentTaskAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/task/").concat(s,"/answer"),method:"POST",data:c}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),e.getModule=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/course/".concat(n,"/item/1"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getModuleClass=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/class/".concat(n,"/item/1"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTaskModule=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/task"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.creatTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/module/".concat(n,"/class/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.deleteTasks=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteDiscussion=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateDiscussion=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getDiscussionComments=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/discussion/").concat(a,"/response"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.assignDiscussion=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/discussion/").concat(a,"/assign"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.updateAssignDiscusion=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/discussion/").concat(a,"/assign"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.createAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/module/".concat(n,"/class/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.delateAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.assignAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/assignment/").concat(a,"/assign"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.updateAssignAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/assignment/").concat(a,"/assign"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.assignTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/task/").concat(a,"/assign"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.updateAssignTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/task/").concat(a,"/assign"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.assignInteractive=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/interactive/").concat(a,"/assign"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.updateAssignInteractive=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/interactive/").concat(a,"/assign"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.createAnnouncementClass=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/type/".concat(n,"/reference"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getAnnouncementClass=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/class/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteAnnouncement=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateAnnouncement=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getFeedClass=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/feed"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getArchive=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/archive",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.retrieveArchive=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/archive/retrieve"),method:"POST"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.commentAnnouncement=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/feed/").concat(a,"/type/").concat(s,"/comment"),method:"POST",data:c}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),e.getComment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/feed/").concat(a,"/type/").concat(s,"/comment"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.likeCommentAnnouncement=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/feed/").concat(a,"/type/").concat(s,"/like"),method:"PUT"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.deleteCommentfeed=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/feed/comment/").concat(a),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getPages=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/class/".concat(n,"/module/").concat(a,"/pages"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getDiscussionUnit=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/discussionwithresponse"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createDiscussionModule=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/module/".concat(n,"/class/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.submitComment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/discussion/").concat(a,"/response"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.submitRequest=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/join/".concat(n),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteComment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/discussion/").concat(a,"/response/").concat(s),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getContent=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/class/".concat(n,"/module/").concat(a,"/pages/").concat(s),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getLink=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/link/type/").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/link/type/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.deleteLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/link/").concat(a),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getStudentList=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/status/").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getStudentEnrolledList=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/status/").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.acceptStudent=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/status/").concat(a),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.removeStudentWaitingList=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/status"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.removeStudentClassList=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/").concat(a,"/status"),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editClassLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/link/").concat(a),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getInteractive=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/interactive"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/assignment"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getClassModules=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/class/".concat(n,"/item/1"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClassTestModules=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/test"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getTestReport=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test/").concat(a,"/report"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getClassAssignmentModules=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/assignment"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getAssignmentReport=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/assignment/").concat(a,"/report"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getClassTaskModules=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/task"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getTaskReport=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/task/").concat(a,"/report"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getExamAnalysis=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/score/analysis"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getAssignmentAnalysis=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/assignment/").concat(s,"/analysis"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getTaskAnalysis=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/task/").concat(s,"/analysis"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getClassInteractiveModules=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/module/").concat(a,"/interactive"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getInformationExam=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/information"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getInteractiveReport=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/interactive/").concat(a,"/report"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.considerAnswerExamTrue=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/answer/").concat(c),method:"PUT",data:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s,c){return t.apply(this,arguments)}}(),e.updateExamPoints=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/answer/").concat(c),method:"PUT",data:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s,c){return t.apply(this,arguments)}}(),e.updateAssignmentPoints=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/assignment/").concat(s,"/answer/").concat(c),method:"PUT",data:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s,c){return t.apply(this,arguments)}}(),e.updateTaskPoints=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/task/").concat(s,"/answer/").concat(c),method:"PUT",data:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s,c){return t.apply(this,arguments)}}(),e.retakeExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test/").concat(a,"/student/").concat(s,"/retake"),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.uploadClassList=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n.classId,"/student/excel"),method:"POST",data:n.data}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStudentInformation=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/information/status?classId=").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getVideoInformation=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/video?moduleid=").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteVideo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/video/").concat(a),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getExamReport=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sendRequest({path:"/api/Class/".concat(n,"/test/report"),method:"GET"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClassUnit=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/class/".concat(n,"/item/1"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAccountInfo=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getSchoolCode=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/School/code",method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateMeeting=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/Meeting"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getFrequencyReport=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test/").concat(a,"/report/frequency"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.reTakeAssigment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/assignment/").concat(a,"/student/").concat(s,"/retake"),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.reTakeTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/task/").concat(a,"/student/").concat(s,"/retake"),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.teacherMiranda=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Miranda/loggeduser",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.studentMiranda=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Miranda/loggeduser",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.uploadCoverPhotoClass=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/class/".concat(n,"/cover"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(N),Y=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).fetchAcademicTerm=function(t){return e.sendRequest({path:"/api/AcademicTerm",method:"GET"})},e.addAcademicTerm=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/AcademicTerm",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteAcademicTerm=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/AcademicTerm/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateAcademicTerm=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/AcademicTerm/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.setCurrentAcademicTerm=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/AcademicTerm/".concat(n,"/setcurrent"),method:"PUT"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N),R=n(899),q=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getStudentInfo=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTeacherInfo=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateStudentInfo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateTeacherInfo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.uploadProfile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/user/".concat(n,"/profile"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getProfileImage=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n,"/Image"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N);function G(e){var t,n,s=e.visible,c=Object(a.useContext)(D).data.user,r=(Object(B.useParams)().id,Object(a.useState)("")),i=Object(H.a)(r,2),u=i[0],d=i[1],j=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.clear();case 2:window.location.href="/login";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.userId,e.next=3,(new q).getProfileImage(t);case 3:(n=e.sent).ok&&d(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(c.isStudent||c.isTeacher)&&b()}),[]),Object(E.jsxs)("div",{className:"profile-dropdown-container dropdown-menu shadow ".concat(s&&"show"),children:[Object(E.jsxs)("div",{className:"user-header",children:[Object(E.jsx)("div",{className:"user-image-container",children:u?Object(E.jsx)(R.a,{className:"profileImage",style:{width:50,height:50,borderRadius:30},src:"".concat(u,"?").concat((new Date).getTime())}):Object(E.jsx)("i",{class:"fas fa-user"})}),Object(E.jsxs)("div",{className:"user-name-container",children:[Object(E.jsx)("p",{className:"user-name",children:null===c||void 0===c?void 0:c.name}),c.isStudent&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(F.b,{to:"/profile/".concat(null===c||void 0===c||null===(t=c.student)||void 0===t?void 0:t.id),children:"See your profile"})}),c.isTeacher&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(F.b,{to:"/profile/".concat(null===c||void 0===c||null===(n=c.teacher)||void 0===n?void 0:n.id),children:"See your profile"})})]})]}),Object(E.jsxs)("div",{className:"profile-dropdown-links",children:[Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link feedback-link ",children:[Object(E.jsx)("div",{className:"profile-dropdown-link-icon",children:Object(E.jsx)("i",{class:"fas fa-exclamation-circle"})}),Object(E.jsxs)("div",{className:"feedback-texts",onClick:function(){return I.b.error("Feature under development")},children:[Object(E.jsx)("p",{className:"title",children:"Give feedback"}),Object(E.jsx)("p",{className:"sub-title",children:"Help us improve TekTeach LMS"})]})]}),Object(E.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://support.tekteach.com/",className:"profile-dropdown-link",children:[Object(E.jsx)("div",{className:"profile-dropdown-link-icon",children:Object(E.jsx)("i",{class:"fas fa-question-circle"})}),"Help & Support"]}),null==c.isStudent&&null==c.isTeacher&&Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){return I.b.error("Feature under development")},children:[Object(E.jsx)("div",{className:"profile-dropdown-link-icon",children:Object(E.jsx)("i",{class:"fas fa-tv"})}),"Theme & Display"]}),Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:j,children:[Object(E.jsx)("div",{className:"profile-dropdown-link-icon",children:Object(E.jsx)("i",{class:"fas fa-sign-out-alt"})}),"Log Out"]})]})]})}function U(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),i=Object(H.a)(r,2),u=i[0],d=i[1],j=e.subsType,b=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,t.next=3,(new q).getProfileImage(n);case 3:(a=t.sent).ok&&d(a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){(e.isStudent||e.isTeacher)&&b()}),[]),Object(E.jsxs)("div",{children:["Ebooks"==j?Object(E.jsx)("div",{className:"floating-options",children:Object(E.jsx)(F.b,{className:"floating-option",to:"#",onClick:function(e){return c(!s)},children:u?Object(E.jsx)(R.a,{className:"profileImage",style:{width:64,height:64,borderRadius:32},src:"".concat(u,"?").concat((new Date).getTime())}):Object(E.jsx)("div",{children:Object(E.jsx)("i",{class:"fas fa-user"})})})}):Object(E.jsxs)("div",{className:"floating-options",children:[Object(E.jsx)(F.b,{className:"floating-option ".concat("/calendar"==window.location.pathname?"active":""),to:"/calendar",children:Object(E.jsx)("div",{children:Object(E.jsx)("i",{class:"far fa-calendar"})})}),Object(E.jsx)(F.b,{className:"floating-option ".concat("/notifications"==window.location.pathname?"active":""),to:"/notifications",children:Object(E.jsx)("div",{children:Object(E.jsx)("i",{class:"fas fa-bell"})})}),Object(E.jsx)(F.b,{className:"floating-option",to:"#",onClick:function(e){return c(!s)},children:u?Object(E.jsx)(R.a,{className:"profileImage",style:{width:64,height:64,borderRadius:32},src:"".concat(u,"?").concat((new Date).getTime())}):Object(E.jsx)("div",{children:Object(E.jsx)("i",{class:"fas fa-user"})})})]}),Object(E.jsx)(G,{visible:s})]})}var V=n(909);function _(){var e=Object(a.useContext)(D).data,t=e.themeLogo,n=e.user,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=n.subsType;Object(a.useEffect)((function(){var e=localStorage.getItem("academicTerm");b(e),h()}),[]);var h=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).fetchAcademicTerm();case 2:(t=e.sent).ok?(i(null===t||void 0===t?void 0:t.data),n=t.data,a=localStorage.getItem("academicTerm"),s=n.find((function(e){return!0===e.isCurrentTerm})),null===a&&(b(a||s.academicTermName),localStorage.setItem("academicTerm",s.academicTermName))):I.b.error("Something went wrong while fetching all Academic Term");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"home-links",children:[Object(E.jsx)(F.b,{className:"home-link ",to:"TeacherResources"==m&&n.isTeacher?"/courses":"TeacherResources"==m&&n.isStudent?"/classes":"LMS"==m?"/teacherdashboard":"/classes",children:Object(E.jsx)("div",{children:t?Object(E.jsx)("img",{src:t,alt:"logo",className:"home-link-logo"}):Object(E.jsx)("i",{className:"fas fa-home"})})}),Object(E.jsxs)("div",{className:"school-year-container",children:[Object(E.jsx)("span",{children:"S.Y."}),"Ebooks"==m||"TeacherResources"==m||"Interactives"==m?Object(E.jsxs)("p",{className:"school-year-dropdown",children:[" ",j]}):Object(E.jsxs)(V.a,{children:[Object(E.jsx)(V.a.Toggle,{variant:"reset",id:"dropdown-basic",className:"school-year-dropdown",children:j}),Object(E.jsx)(V.a.Menu,{children:r.map((function(e,t){return Object(E.jsx)(V.a.Item,{onClick:function(){return function(e){localStorage.setItem("academicTerm",e),b(e);var t=window.location.pathname;"/teacherdashboard"!=t&&"/classes"!=t||window.location.reload()}(e.academicTermName)},children:e.academicTermName},t)}))})]})]})]})}function J(e){var t=e.activeHeader;return Object(a.useContext)(D).data.user.isParent?Object(E.jsxs)("div",{className:"header-links",children:[Object(E.jsx)(F.b,{className:"dashboard"===t&&"active",to:"/parent/dashboard",children:"Dashboard"}),Object(E.jsx)(F.b,{className:"profile"===t&&"active",to:"/parent/profile",children:"Profile"})]}):Object(E.jsx)("div",{})}function Q(e){var t=e.activeHeader;return Object(a.useContext)(D).data.user.isSchoolAdmin?Object(E.jsxs)("div",{className:"header-links",children:[Object(E.jsx)(F.b,{className:"dashboard"===t&&"active",to:"/dashboard",children:"Dashboard"}),Object(E.jsx)(F.b,{className:"school"===t&&"active",to:"/school",children:"School"}),Object(E.jsx)(F.b,{className:"grading"===t&&"active",to:"/admin/grading",children:"Grading"}),Object(E.jsx)(F.b,{className:"courses"===t&&"active",to:"/courses",children:"Courses"}),Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/schoolAdminClasses",children:"Classes"})]}):Object(E.jsx)("div",{})}function Z(e){var t=e.activeHeader,n=Object(a.useContext)(D).data.user,s=n.subsType;return n.isStudent?Object(E.jsxs)("div",{className:"header-links",children:["Ebooks"==s&&Object(E.jsx)(F.b,{to:"/ebook_links",children:"Ebooks"}),"Interactives"==s&&Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/classes",children:"Classes"}),"TeacherResources"==s&&Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/classes",children:"Classes"}),"LMS"==s&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:"teacherdashboard"===t&&"active",to:"/teacherdashboard",children:"Dashboard"}),Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/classes",children:"Classes"})]})]}):Object(E.jsx)("div",{})}function W(e){var t=e.activeHeader,n=Object(a.useContext)(D).data.user,s=n.subsType;return n.isSystemAdmin?Object(E.jsxs)("div",{className:"header-links",children:[Object(E.jsx)(F.b,{className:"dashboard"===t&&"active",to:"/system-admin/dashboard",children:"Dashboard"}),"Ebooks"==s?Object(E.jsx)(F.b,{className:"courses"===t&&"active",to:"/system-admin/ebooks",children:"Courses"}):Object(E.jsx)(F.b,{className:"courses"===t&&"active",to:"/system-admin/courses",children:"Courses"}),Object(E.jsx)(F.b,{className:"profile"===t&&"active",to:"/system-admin/profile",children:"Profile"}),Object(E.jsx)(F.b,{className:"school"===t&&"active",to:"/system-admin/teachers",children:"School"}),Object(E.jsx)(F.b,{className:"miranda"===t&&"active",to:"/system-admin/miranda",children:"Miranda"})]}):Object(E.jsx)("div",{})}function K(e){var t=e.activeHeader,n=Object(a.useContext)(D).data.user,s=n.subsType;return n.isTeacher?Object(E.jsxs)("div",{className:"header-links",children:["LMS"==s&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:"teacherdashboard"===t&&"active",to:"/teacherdashboard",children:"Dashboard"}),Object(E.jsx)(F.b,{className:"courses"===t&&"active",to:"/courses",children:"Courses"}),Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/classes",children:"Classes"}),Object(E.jsx)(F.b,{className:"files"===t&&"active",to:"/files",children:"Files"}),Object(E.jsx)(F.b,{className:"reports"===t&&"active",to:"/reports",children:"Reports"})]}),"Ebooks"==s&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(F.b,{to:"/ebook_links",children:"Ebooks"})}),"TeacherResources"==s&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:"courses"===t&&"active",to:"/courses",children:"Courses"}),Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/classes",children:"Classes"})]}),"Interactives"==s&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:"courses"===t&&"active",to:"/courses",children:"Courses"}),Object(E.jsx)(F.b,{className:"classes"===t&&"active",to:"/classes",children:"Classes"}),Object(E.jsx)(F.b,{className:"reports"===t&&"active",to:"/reports",children:"Reports"})]})]}):Object(E.jsx)("div",{})}function X(e){var t=e.activeHeader;return Object(E.jsxs)("div",{className:"header bg-white",children:[Object(E.jsx)(_,{}),Object(E.jsx)(K,{activeHeader:t}),Object(E.jsx)(Z,{activeHeader:t}),Object(E.jsx)(Q,{activeHeader:t}),Object(E.jsx)(J,{activeHeader:t}),Object(E.jsx)(W,{activeHeader:t}),Object(E.jsx)(U,{})]})}var $=n(400);n(422);function ee(){var e=s.a.useContext(D).data.themeColor;return Object(E.jsx)("div",{className:"full-screen-loader",children:Object(E.jsx)($.Sentry,{size:100,speed:.5,color:e})})}function te(e){var t=e.children,n=e.headerVisible,a=void 0===n||n,s=e.fluid,c=(e.loading,e.activeHeader),r=e.style,i=s?"container-fluid":"container ",o=a?"":"no-header";return Object(E.jsxs)("div",{className:"main-container",children:[a&&Object(E.jsx)(X,{activeHeader:c}),Object(E.jsxs)("div",{className:"content ".concat(o," ").concat(r),children:[Object(E.jsx)("div",{className:i,children:t}),Object(E.jsxs)("div",{class:"lms-footer text-dark",children:[Object(E.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAAAbCAYAAAAEYKF5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABVgSURBVHhe7VwJkBzVef77mJm973u1u1ppD2lXqxOJsxCHoUgFxyYYTCUmDnE5ppLKQU4ScMUxlHEoJ8ROKthxQiWpxFwOCcEQAjYQLmGt0LVa7X1r713tObtzdXe+/3WPpqenZ3YXBEiOvlLvTL9+/c7/e//x3kjy+/0GXcIlXMJ5gWx9XsIlXMJ5wM+EhjKMxC5IkmR9Wy8MlGN93SA2XtclbATO+b2Qx3tDhAqHIzQxNUPFhfmUluazUj9ZaJpGnX1DtLoasFJM5GRl0uaqcvJ6vVZKavhf+TPyBKasu41AIqXl86TUHrTuLyBEAqQPvUla7lbyFG21Ei8eLC8H6FRHBymKaqWYiGgRaty6mQoK8q2UCwfrIhQTaRxEGh6dEKvF3h2NlJmZYT39ZBGJROhYezcGf8VKMZGXm03b62pA/DQrJTWWnrqbvCuj1t1GAEJd8VukNn3Wur8AEA5SZOQ90k/8CxnzQ2Tc+AilVe+3Hl48WFjw08T0JO1uabZSTHT19FGaz0MlxcVWyoWDlD4Ur/6j41PUeryd+gbPCGJ9YLvoY8b/RyNMx8qtD71NoZfvI+2Nr5MxN4DUi2O+UoFNPPuFPxesGCYlFGuigeEx6u4fpmAobKVewoUMbfQwhV9/iIzpTtxd/ES6GJFSQ+kXiTZyw/lquVx1Bcktdya9FP4srLdyf7IwdI3/WHc/22BFdSHC1YcKhkIUglZin2lqZs5KNaEoMjXV15LP5xOdSk/zIU2xnrKZqNOyf4WWcIVQDnNSxTscxMiC35UOn0aWU4/GaiAofKKVQAA+EoQE8HhUSk9Po2yUkeaLBRrYhzp6qpv8qM+OfPhQ2+BDcTuXUNbC0rLok6oqlJudRTnZmWhHbD1J5kOp132VlC3XW3drwwivwG8ZFuaW4Z9GA1fNB2oaSb5cknIqSMqvJcooMs0XN+gRMpbGSZ/tEZ8U8mOm0Na0XJJzq0gqrCMpvcBMA4zQEhnLk6SPHSWt9ftIMMdMAHVIl/82qaVN4tbILCMlLVt8FwAJRV0znWQsov+RgNnW7HKSixrR3kqsKvFBAWNllozVs+L7uR74cogyS4gWR0gbegd+3CpJRQ0kl+8hyZtpkn15An3qRT1jeL6Mglg4IEfoC4+JVLCVJE+6VWDMh9qzc4eVYqKzu498XpWKCgtoZXVVuCYxSJSRkU5ej0fIztz8grjC+M5zX1xUQHk52XFzb0coHKaFxSWaX1gS3w1dF/Lq83opNzdHvKuq8eNhRwKh2NTrHxoDmTCRa4CJtKOxlgry8yiCTo1NTNPI2KQQXDewAGVmpFHNpnIqKsiL6xTXyyQaGBmjs/OL4t4NXEZBXo6I4GVnZYrBTBaU2FJdgfLGMaCLVmoMBRicxvoakNOMVn5YQhmRIOkdz1Ok7QdYkZZMYUkGxUvK5utI3v9lkjMKrURzDLTJNjLe/wfSpzuEsLuC36+6ipS9v0pSXjWF+v+XjDcfTp7fhtCVf0LZ228S7dNRVwR1GVOoy07CKEBYKX8zqfu+RPKmy8U9I3L0CdKO/6v4HoW09WZSaq+lyBsPIUPQSkW6aOc9pB/5Hgh/zL0eARA/q5TUy75CEsrheU5KKA5KgFAccOro7qfy0hKRnzG/sCgWUx8W3eEz41RaUkwV5aWCYKwohobP0OLSEm1vqBN5omA56hscgRz5qay0mEqKi4RsyFAGOp6tYnGfnJoRUW6Wu62bqwVBnVAeeOCBr1nfz2EOjeIVfS0wIUqK8gWxOnoGaBSEYg2VCqFwhGbOzot8OdAUXAYL0szsHJ3qHiD/irWipwBrsJnZedExn9eDQZ9NIDGL8+T02aTlrQaDKCckyMlaN3TqP0gJgwgOyJsPkswaJRW0MGnv/Q1pbU/GCVNSQKiMuT6is32kV11DiuohHWTQul4k/a1vQmNgBU9FSH5/flAEIOSKRhB4lYzBt/iB+TwFtE3XkLeolvT2f6fIW49iJeGFM9l7SF+dI73/NZA1THLZbkEq1oQGyGiHnFlIWvfLaItt8ZIVUrfcQJGf/i0ZZ/uRsEb7Qsukj7xHGrSoWriFgsEwLa/4BWHsmDk7RwrkxgNNwbLQ0twoNE9RYb7QmFMzs7CSVmnv7h0gVBF5ISMso6xlmCjp0GB9A0NQBND4KMe/skLt0HqbysuoaVs9FRbkC7LxO/ycP5lcnF5TVYm5Mqirtw9KoUDIjh3uem8DYLOud2CEZucWrJQYmMEZMNPsmojBBOLo4TgGhnEW73b1Dwvzbb0II29nz6AYUDcEgyEzKpkCXG8gGL9/5UTk0F9T8Ok7Xa/QD++myNIUBcfaSOt5yXrDDkwvzDQJZhp5ErcZ9PHjpPW/bt6MvotV/LumybVOGCszFH79MZJggm0E4d7XoJmeALtCVsra0E4+RVrHf4q5c4M+eoRoBSauDVI6SMbEAyljkIQZqB64l5Tdd8NMLLXSLWhBko7/E63Of5A9QaasIRbR3S1N56wPJ4pADC+esbnIllVP/xA1QWOxJrOb4aytRmCpnZ2bj+t3JfLVb62l7j4sajAJ7XDVUAtLfuEDJQOzku1KZm5WRiadmYjvPDeporSIWrbXU1VlKZVi9WA/hlVuFNy8wGoQqluBZmNNklgf26ts2pUWFwprYwX57WA1bWAAgtA0ycjDpJZ5VU0iCJlYrVhTJtNQQujgF7leETxruJWUwZ+QMd1lvWDBm0XKwQfJe/V9pDTfDpPoJqzqJ9EJu/AbtBjxkVG6i6RDf4UZnLTSLaDd8qb9pOz5Ism1B3ELbQ7/zBw9C8EFMgLzFhEx8m4mFXwiNhNJ8ZCvsoWMtqcw+PG+MT9Tmm4jdcfnhN9kwH9zmpDsZ8n1t6CvHQka6lyb4G8xkSSMt9z0GTIm0Gf4eOeAcdGv+zp5N18liKUU74TpeZykzGKSS1uEacl99mZXU1DyJtVQHlUWvsw8LCkW8BgRJKqsKBNaqu10J50BIViTsf9uJ0sAFso8XIHl1QDlQs4qyrgM8xmT7MjxNuF7KUicW1gAeQaEduOyGOynTUxOif1YNiejcA1KMBtZAPugediMs0MFifbubBTBBRbo7v4RNN50UKPgoMGupnpRaRTM8rZOmDhQl1FwB6sqSukMtJWT6YX5ObBzt5zrAD/v6h2kyZk50QYOUnA9WVkZNA1zcdVBNgb7atWbygTB+4dGRT1OVFeW0ZaaSlp++lc2vrGrwMb+7BOkZuSZfhMLN7SGsQRiSGmkbL9FZBOrG4Q+8s5jpA+/LdKikEuaxUod/vEDCQKs1F9P6tV/iEzm5nQkhD6+/QhpI4eExpPS8uB3oH8V+0hp/HnSz7wHH+Yb8aTCGMs3Pkyeyn3iNtTxAhmtjyOPfbzhvxz4DVJBqKg1oZ9+gcKHv5PYpn2/hoYESTvxb1aKDd5M8tz8FyKYYYT9FNGDZPzod83AShRYJKTqK0nZ+imS82qIOFDDgQiVtUlM4BlrBSVYBjlwdtkeENFmBQ3AT5qbm6O62hohxx2dPbR9WwP86hwrB9H45DRNTExgoffj/V1xstre0S2CbWwuRkm4sLhMp7t6xeLLZGR5ZMVSvalCaLwoXE0+LkTmgqzC4gHhwD/uQACOGkf0nGBB547ws+jFPhNrNDtY0CamZhPIxOCgRZRMDK6vfksNXbV/F111YBcd2NNMu5obqAaEcJbL4DaUFOYJ8vHzgrxsMQBOJDNhNgIWCCkLjnFhPclVEBaszHLtlabTDzMp8uMHYR5+IYFMDCxdpE+dShBcFs5Q3S+eIxND9fpIueaPyHfXs+Ly3vaPEOBHTK2CNmiSe/RJI6QLDeUl/+hpVBo/3lJ6HgT8+jihpLob0IaYAEZhTOH9JJAb0e+SJnxRSPLlkKSC8AWOI0+o2xh6hyKv/TmFnvsShZ75PAWf/WUKv/ogaZ0vkO6fsTKmgE00nbPHsjQ7exZai4MGqtAeHJiYQZodbGFJ0KYZsLDsx+j4/UVoPfbJ7BqNo8K7d2yjxvpaKJQm2g8S793ZHEcmhiuhYkgtbB6PV4QWnZgHm1uPn467TnX1u5plbu+zmZYHh9EJTvdCMzHZ7Z11AzugdgJ5MLB4y7pbP9T990Jwn3C/PvNdUrOs4y8gBEexIq3fo9Dz91LoqTso/OLvkHboO3C0oVHCSYItTGgrBG2HBNMo4kk8qyZ54YtxiJpD2WwH27Ce3oWW4y0OAWi5EMUf0ZJ5kcgosO5iMIQ/5CIXbFaXxGsSlU2hXV8UmtQdKEeDTHDgA2MUefcxCj//ZdJ7f2KOSwpEHzv7zDLGzzLSY2OjQJtFt1/s0FC3F8/sssTBLS/kOm5xATgPb9vwAp1K9tYgVGqIPp2HFd4JJswCVPaHgViB1iDdugDbnkPHrhdMFklRSQch2GQLv/wHpLU9bfkftsWDzRxoL6mgzkqwA260i4ZGwVjo3TXOh0KSuhLHCvfQNAlItnGM9xWMlRMcrVNv/gZJZTutlDUQWKDwe9+m1TGnj7Y+aOifAbcirj9JIs9snTj7ze+r6geXmzUIlbpgFgS3TS529DmYsJ6r0EUTRTAAPl+mdRcDBzU4WMJHoVg1iwFxrCRRnH+au8MwIqS1/j38l8N8ZyYyMFFy6U5Sr72fvLf/M6m3/h2RtblqB2tNySUCyEGGcMBv3cSgB5ZB2F5zY1WDTwXNGDVb19NnNd3FjENZPtWx7aCFkT5v3cUgpfF8uckF+uHLsr7HwAIrF20jzy1/aY7DwQdgEt+OBabBjHw6BFogtExSxw/xJXmPoq+tb55dFgaAXQHNobnEfhW0nJsbwv7W0vKysKoEcV2USUpCuQ0bRPhcJ9iksjtz54AXOdhQW10Zd22uqkhI4wigc5UQdjA0lLPBHJp//0QHHTpykt45fAKfbXSsrRO+XGJAwq3tHwWMwCJ8o3etOxs2Xw8h+hYpdTeLqJkUiZDkYm4ZrL2g7ZwwsFLnzGGVto0BL2CR089R6L9gUj59FwWf/ByF4H9EXrkfdvaE2WeXjotTChbSS12OSfmnSJvmfaIYtJluEUhxIsEnssNNozGg1SQOlPBJj7IWUg7AjP6Fx8l71zPk+fTjJPGmsQMy78WxOegGDEl0WNY3z4nmHsMH8nBEz+6KsFvB8rfqcEV4G4aDEnxIgIMeHLhoPXoSnz3IH5ujlITiXWInuDLeMOWjGfMLy+LEgRMcceMoSpQQHA0cHZ+kw8fa6fipLursHaTB4TFxsiI93UcZLr+tMn8uMkkBdIQ10tjEFA0MjYoy+eKBYI3F392CErEufrQwQgER9XJCzyjFimNqbwMCpU+0wsd6X9w7ESpsgb9SZN1ZgABqx54gre9H5lEfCD2TyWh/Bs+werJJGfKLdA55hzPgb3GkDOZbHDA+nsFXUf8J0npfJV/FjkSfBmXpb3+LQiOtwkfivPrbj2LiHPtUKF9uuNW6SQ2eF23gdQr/9++J/TpB/ifvoNBz91BwuBXtNDWzzMeTGn4Ob8RTQ0T+klgfnPV8aKjFZQ7nGyI8HgUv7nyKorOzl6ZnzoJIQUGiUx1d1NLUSNvwbE9LM12xfy9trqmibHGELdb2pITign1wwpzggeJQ5TEQo2dghHKy0ykrM15LMen6hsboVGcf2DwqwuWcd2U1QHMg4vjkjDhiNIZPbkthfnaCluKoYP/QGaGN3m09QV19w+KUhR38TlVFWVw0MIr40j46mCHfxB8xyn0vkXbiByJyxeHyyBsPJwoowGTz5JaRsh1C5QgyGMFFirz5mAhwsEbSD8Ns5P0vOzyZZDTeRh6vj5YkEIXb4wBvHodfug9lPQJTBSJY71IXNILx6h9D6G8XeY3FM9aTGJTGT5OcW2HdpQbPjZRVTPpUuxk2hxnHpy3EGb93HyXt5JOCcFr7s+jX43jDRg20LVR9EJ9JNB4AMRRY3zy7ayh+t2ZTJfX0DcbtkfK+1OX7dgn3oqd/GJbRPO3bvVOcHYyCQ+dDI6NiD8yOpIRiFEP7uIWao+DQOEdPGrdUi+ibHUw8PmI0aJ2liw5AFHy0o25zJWVlZYlYfkWZY4VeB3ifKTcHvtbHxR43wG+Qq6+ybmyAycbn5DhypXe/aJLJxVeSwgEoowiF6+8kpXb9h3AFZJXkXV8gtWK3uM0u2gQhLhffkyG0PE8K3pG33oDK1z9wcs015h7UBgZbz99GMkzeBPCe3JHvU+T1hyjy08fFwV47eIPXs/Um6+6jBW/M1sCXbz16QpzXi4IPVe/Y3kAHQKydzdviXBvOd/j949RYvzXBOkpJKN48raksTzqETBoYnVB7WWJPiGP1aw03P+fzczu3153baOOQdm1VJdWDmG7axgluVwPyVleWJs3v4O9HBhnmlnzZV0guN4XaFRB8goCoN34Ny3y8NjNWpklZ7qe0jExSrr6P5D33oIOJARkn+CCp59r7SW6+HW0wJ9XjyyB95y+J0wjJEPbPoQnppFz5+6Re9uvIm209SQJoPHXvPaQe/FOS+MTFBsABK/Xy3ySl+Q6MQew0QVJgLGkLxum6r5I30wxWsX8T28/0i4uPu0XXAjb9+ZcG0ecrK6umXMZBEe/YywjAWorm4jN6dbXV9P6xNjrZ3in2oaJBh+jFVhcfaTrZ3kVHkG8byJST5bJArvUTeC6MzbTJ6VnhG+kwUfgoD2uYLLC2rKRQfGdwIxaX/OKMHFdummiGyM8HFNk0LMzPEyfOnXH+KHgA+bQ5H87l/yeCz+wxOD/vXvNxpMKCXBGNYXBH+Scm9v0sjpxxm/i0RXQF4QGdmp2H+8Gnvcwuc77s7Azxc45wzysks1kSBU8YsilVB8yzeGtAnDYfOUQ6/3QBJo4BH4gjYlLRNlKwulP+FowP0pBH/KyDIYQCf0p3kXru/3xA6+DHGGNH4cu0maYY/3yD/Sb2OXI3EVXsI5kvl6iaEIC5ftJ7/8eMBrKJCEJLafniZHqk6iCllTZYuTF+qxiTM4dJHz8m6hKRQ5CeNZ04GlR1OVF6/H6YPnXaPA1vlxzMj1J/i2kCO8Bt4mNV2ih8NH4P30W7uE/88w3emuBx4uAE+idZ5ijvCZ0ZGxdzbAebk+VlJWJPaAK+unMvMzMjQ5wYj7oRbJ6NjqFOrs8CN51lqbgo/rQ//3RjCrLOR+E42hyFkD+4QOUlReJnHOLggwvW9X9K2MFjswFL4byAG/gxV3kecD5bHZ2iD1DeRifsY5tg1COG6MKeWbEYAE4fPxlSmnxu+CT6f2EPeTKcz1ZzWR+wvI1O2Mc2wajnAicTQwRXNtDODRPqEi7hEpKB6P8AACbGnF/hvEIAAAAASUVORK5CYII=",alt:"logo"}),Object(E.jsxs)("p",{children:["Version: ","3.1.1"]})]})]})]})}var ne=n(901),ae=n(914),se=n(902),ce=n(401),re=n(912),ie=n(13),oe=n.n(ie);var le=function(e){var t,n,c,r=e.item,i=e.setOpenCoverPhotoModal,u=e.setOpenEditModal,d=e.setSeletedClass,j=e.getClasses,b=e.setClassIdCoverPhoto,h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useContext)(D).data.user,T=S.subsType,A=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteClasses(t);case 2:(n=e.sent).ok?(p(!1),j(),I.b.success("Done!")):alert(n.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=s.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(E.jsx)("span",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:n})}));return Object(a.useEffect)((function(){localStorage.setItem("typeresource","class")})),Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:f,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return A(k)},onCancel:function(){p(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Object(E.jsx)(ae.a,{className:"class-card",children:Object(E.jsxs)(F.b,{to:(c=r.classId,"LMS"==T?"/classescontent/".concat(c,"/feed"):"Ebooks"==T?"/classes/".concat(c,"/learn"):"Interactives"==T?"/classes/".concat(c,"/interactives"):"TeacherResources"==T&&S.isTeacher?"/classes/".concat(c,"/resources"):void 0),onClick:function(){return e=r.courseId,void localStorage.setItem("courseid",e);var e},children:[Object(E.jsx)(ae.a.Header,{className:"class-header-card",style:{backgroundImage:"url(".concat(r.classCover,")")},children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:10}),Object(E.jsx)(ce.a,{sm:2,style:{textAlign:"right"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},children:Object(E.jsxs)(V.a,{isOpen:g,toggle:function(){return w(!g)},children:[Object(E.jsx)(V.a.Toggle,{"data-toggle":"dropdown",as:L,children:Object(E.jsx)("i",{className:"fa fa-ellipsis-v fa-1x cursor-pointer-edit-class-card"})}),Object(E.jsxs)(V.a.Menu,{children:[Object(E.jsx)(V.a.Item,{onClick:function(e){return function(e,t){e.preventDefault(),d(t),u(!0)}(e,r)},children:"Edit"}),Object(E.jsx)(V.a.Item,{onClick:function(e){return function(e,t){i(!0),b(t)}(0,r.classId)},children:"Upload Photo"}),Object(E.jsx)(V.a.Item,{onClick:function(e){return function(e,t){p(!0),C(t)}(0,r.classId)},children:"Archive"})]})]})})})]})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(re.a,{placement:"top",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:r.className}))},children:Object(E.jsx)(ae.a.Title,{tag:"h5",children:(null===(t=r.className)||void 0===t?void 0:t.length)>20?"".concat(r.className.substring(0,20),"..."):r.className})}),Object(E.jsxs)(ae.a.Subtitle,{children:[Object(E.jsx)(ce.a,{className:"font-color",sm:10,children:r.classCode}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsxs)("b",{children:[r.teacherName," ",Object(E.jsx)("br",{}),Object(E.jsxs)("spam",{className:"font-color",children:[" ",r.gradeName," "]})," ",Object(E.jsx)("br",{}),Object(E.jsx)(re.a,{placement:"top",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:r.courseName}))},children:Object(E.jsx)("span",{children:(null===(n=r.courseName)||void 0===n?void 0:n.length)>20?"".concat(r.courseName.substring(0,20),"..."):r.courseName})}),Object(E.jsx)(ae.a.Subtitle,{})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})]}),Object(E.jsx)(ae.a.Text,{className:"font-color",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:8,children:["Student ",Object(E.jsx)("br",{})]}),Object(E.jsxs)(ce.a,{ms:22,style:{fontSize:"15px",textAlign:"right"},children:[Object(E.jsx)("i",{className:"fas fa-user"})," ",null===r||void 0===r?void 0:r.classEnrolledCount,Object(E.jsx)("br",{})]})]})})]})]})})]})},ue=n(398),de=n(903),je=n(402),be=n(12),me=n(910),he=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getGrade=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/GradeLevel",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e}return n}(N),Oe=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getCourses=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getCoursesTeacher=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Teacher/".concat(n,"/courses"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editCourse=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteCourse=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCourseInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createCourse=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createCourseUnit=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/course/".concat(n,"/item/1"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateModule=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteModule=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCourseUnit=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Module/course/".concat(n,"/item/1"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCourseUnitPages=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/course/".concat(n,"/module/").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getCourseUnitPagesContent=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/course/".concat(n,"/module/").concat(a,"/pages/").concat(s),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.createLesson=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/course/".concat(n,"/module/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editLesson=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getExamInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/module/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/module/".concat(n),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/module/".concat(n),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/module/".concat(n),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createDiscussion=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/module/".concat(n),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createVideo=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/course/".concat(n,"/video?moduleid=").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editDiscussion=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editVideo=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/video/").concat(a),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getDiscussionInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/module/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAssignmentInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/module/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTaskInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/module/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getVideosLinks=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/type/2"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getConferencesLinks=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/type/1"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getLinks=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/type/3"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteLesson=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Content/".concat(n),method:"DELETE",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n),method:"DELETE",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteDiscussion=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Discussion/".concat(n),method:"DELETE",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteTask=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Task/".concat(n),method:"DELETE",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Assignment/".concat(n),method:"DELETE",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getInterActive=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Interactive/module/".concat(n),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getFiles=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/files"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uploadCover=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/course/".concat(n,"/cover"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getLink=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/type/").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/type/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.deleteLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/").concat(a),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editClassLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/link/").concat(a),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getVideoInformation=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/video?moduleid=").concat(a),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteVideo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/video/").concat(a),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getContributor=function(t){return e.sendRequest({path:"/api/Course/".concat(t,"/distributor"),method:"GET"})},e.addDistributor=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/distributor"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.removeContributor=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/distributor/").concat(a),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(N);var fe=function(e){var t=e.setModal,n=e.modal,s=e.getClasses,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1],R=Object(a.useState)([]),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(""),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)(!1),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useContext)(D).data.user,ee=$.subsType;console.log("course12312:",f);var te=function(){t(!n),w(""),C(""),L(""),P(""),Q(""),X(!1)};console.log(g);var ne=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new he).getGrade();case 2:(t=e.sent).ok?m(t.data):alert("Something went wrong while fetching all Grade");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne()}),[]);var ae=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).fetchAcademicTerm();case 2:(t=e.sent).ok?U(t.data):alert("Something went wrong while fetching all Academic Term");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ae()}),[]);var se=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourses();case 2:(t=e.sent).ok?p(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){se()}),[]);var ce=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!1===t.currentTarget.checkValidity()&&(t.preventDefault(),t.stopPropagation()),X(!0),""!=J&&""!=A&&""!=k){e.next=8;break}I.b.error("Please input all required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=13;break;case 8:return n=$.teacher.id,e.next=11,(new z).createClasses({classCode:g,gradeLevelId:k,className:B,courseId:A,teacherId:n,academicTermId:J});case 11:(a=e.sent).ok?(I.b.success("Successfully created class",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),te(),s(),w("")):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTWXYZ1234567890",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:te,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Class"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{noValidate:!0,validated:K,onSubmit:ce,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Grade Level"}),Object(E.jsxs)(me.a.Select,{required:!0,onChange:function(e){return C(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"-- Select Grade Level Here --"}),b.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.gradeName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Course"}),Object(E.jsx)(me.a.Control,{autoComplete:"off",required:!0,list:"courses",onChange:function(e){return function(e){console.log(e);var t=f.find((function(t){return t.courseName==e}));L(null===t||void 0===t?void 0:t.id.toString())}(e.target.value)},placeholder:"-- Select Course Level Here --",name:"course",id:"courseInput"}),Object(E.jsx)("datalist",{id:"courses",onChange:function(e){return console.log(e,"sample")},children:f.map((function(e){return Object(E.jsx)("option",{value:e.courseName})}))})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"School Year"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return Q(e.target.value)},children:[Object(E.jsx)("option",{children:"-- Select School Year HERE --"}),G.map((function(e){return("LMS"==ee||e.isCurrentTerm)&&Object(E.jsx)("option",{value:e.id,children:e.academicTermName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Class Name"}),Object(E.jsx)(me.a.Control,{required:!0,onChange:function(e){return P(e.target.value)},type:"text",placeholder:"Enter class name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Class Code"}),"\xa0"," ",Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(e){e.preventDefault(),w(re(4))},children:"Get class code"})]}),Object(E.jsx)(me.a.Group,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{required:!0,pattern:"^[a-zA-Z0-9]+$",title:"Please Avoid special character on Class Code",value:g,onChange:function(e){return w(e.target.value)},type:"text",placeholder:"Enter class Code here"})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Class"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:i,title:"Done!",onConfirm:function(){u(!1)}})]})};var pe=function(e){var t=e.getClasses,n=e.onSearch,s=Object(a.useState)(!1),c=Object(H.a)(s,2),r=c[0],i=c[1],o=Object(a.useContext)(D).data.user,l=Object(B.useHistory)();return Object(E.jsxs)("div",{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"15px"},children:[Object(E.jsx)(ce.a,{className:"title-header",children:Object(E.jsxs)("p",{className:"title-header",children:["Classes ",Object(E.jsxs)(ue.a,{className:o.isTeacher?"btn-create-class":"d-none",variant:"link",onClick:function(){return i(!0)},children:[" ",Object(E.jsx)("i",{className:"fa fa-plus"}),"  Create Class  "]})]})}),Object(E.jsxs)(ce.a,{style:{textAlign:"right"},className:o.isSchoolAdmin?"d-none":"",children:[Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(){l.push("/classes")},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Active"})}),Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(){l.push("/archive")},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Archive"})})]})]}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return n(e.target.value)},className:"search-box","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search here for available classes",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(fe,{setModal:i,modal:r,getClasses:t})]})};var xe=function(e){var t=e.seletedClass,n=e.openEditModal,s=e.setOpenEditModal,c=e.getClasses,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)([]),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)([]),B=Object(H.a)(F,2),P=B[0],R=B[1],q=Object(a.useState)(""),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)(!1),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=Object(a.useContext)(D).data.user,K=function(){s(!1),Z(!1)},X=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).fetchAcademicTerm();case 2:(t=e.sent).ok?R(t.data):alert("Something went wrong while fetching all Academic Term");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){X()}),[]);var $=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourses();case 2:(t=e.sent).ok?h(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){$()}),[]);var ee=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new he).getGrade();case 2:(t=e.sent).ok?x(t.data):alert("Something went wrong while fetching all Grade");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ee(),$()}),[]);var te=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),Z(!0),a=W.teacher.id,s=t.classId,r=t.classCode,e.next=9,(new z).editClasses(s,{classCode:r,className:w,courseId:C,gradeLevelId:L,academicTermId:U,teacherId:a});case 9:(i=e.sent).ok?(ne(),c(),K()):I.b.error(i.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){I.b.success("Successfully updated class",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(a.useEffect)((function(){null!==t&&(M(null===t||void 0===t?void 0:t.gradeLevelId),N(null===t||void 0===t?void 0:t.className),S(null===t||void 0===t?void 0:t.courseId),V(null===t||void 0===t?void 0:t.academicTermId))}),[t]),Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:function(){return K()},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Class"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{noValidate:!0,validated:Q,onSubmit:te,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Grade Level"}),Object(E.jsxs)(me.a.Select,{required:!0,onChange:function(e){return M(e.target.value)},children:[Object(E.jsx)("option",{value:null===t||void 0===t?void 0:t.gradeLevelId,children:null===t||void 0===t?void 0:t.gradeName}),p.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.gradeName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Course"}),Object(E.jsx)(me.a.Control,{list:"courses",onChange:function(e){return function(e){console.log(e);var t=m.find((function(t){return t.courseName==e}));S(null===t||void 0===t?void 0:t.id.toString())}(e.target.value)},placeholder:null===t||void 0===t?void 0:t.courseName,name:"course",id:"courseInput2"}),Object(E.jsx)("datalist",{id:"courses",onChange:function(e){return console.log(e,"sample")},children:m.map((function(e){return Object(E.jsx)("option",{value:e.courseName})}))})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"School Year"}),Object(E.jsxs)(me.a.Select,{required:!0,onChange:function(e){return V(e.target.value)},children:[Object(E.jsx)("option",{value:null===t||void 0===t?void 0:t.academicTermId,children:null===t||void 0===t?void 0:t.termName}),P.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.academicTermName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Class Name"}),Object(E.jsx)(me.a.Control,{required:!0,defaultValue:null===t||void 0===t?void 0:t.className,onChange:function(e){return N(e.target.value)},type:"text",placeholder:"Enter class name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Class Code"})," ",Object(E.jsx)(ue.a,{className:"tficolorbg-button",disabled:!0,children:"Get class code"})]}),Object(E.jsx)(me.a.Group,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{defaultValue:null===t||void 0===t?void 0:t.classCode,type:"text",placeholder:"Enter class Code here",disabled:!0})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Class"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:u,title:"Done!",onConfirm:function(){d(!1)}})]})},ve=n(7),ge=n.n(ve);var we=function(e){var t,n=e.item,s=Object(a.useContext)(D).data.user,c=s.subsType;return Object(E.jsx)("div",{children:Object(E.jsx)(ae.a,{className:"class-card",children:Object(E.jsxs)(F.b,{to:(t=n.classId,"LMS"==c?"/classescontent/".concat(t,"/feed"):"Ebooks"==c?"/classes/".concat(t,"/learn"):"Interactives"==c&&s.isStudent||"TeacherResources"==c?"/classes/".concat(t,"/interactives"):void 0),children:[Object(E.jsx)(ae.a.Header,{className:"class-header-card",style:{backgroundImage:"url(".concat(n.classCover,")")},children:Object(E.jsx)(se.a,{})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{}),Object(E.jsxs)(ae.a.Subtitle,{children:[n.className,Object(E.jsx)(ce.a,{className:"font-color",sm:10,children:n.classCode}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsxs)("b",{children:[n.teacherName," ",Object(E.jsx)("br",{}),Object(E.jsxs)("spam",{className:"font-color",children:[" ",n.gradeName," "]})," ",Object(E.jsx)("br",{}),n.courseName]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})]}),Object(E.jsx)(ae.a.Text,{className:"font-color",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:8,children:["Student ",Object(E.jsx)("br",{})]}),Object(E.jsxs)(ce.a,{ms:22,style:{fontSize:"15px",textAlign:"right"},children:[Object(E.jsx)("i",{className:"fas fa-user"})," ",null===n||void 0===n?void 0:n.classEnrolledCount,Object(E.jsx)("br",{})]})]})})]})]})})})};var Ne=function(e){var t=e.joinClassesToggle,n=e.joinClassestModal,s=e.getPendingClasses,c=Object(a.useState)(""),r=Object(H.a)(c,2),i=r[0],u=r[1],d=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,(new z).submitRequest(i,{code:i});case 3:(a=e.sent).ok?(s(),u(""),t(),I.b.success("Done!")):""===i?I.b.error("Please enter the classcode"):I.b.error(a.data.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:t,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Join Classes"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:d,children:[Object(E.jsx)(me.a.Group,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{onChange:function(e){return u(e.target.value)},type:"text",placeholder:"Enter class Code here"})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Request"})})]})})]})})};var ye=function(e){var t=e.joinClassesToggle,n=e.joinClassestModal,a=e.getPendingClasses,s=e.onSearch;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{style:{display:"inline-flex"},children:Object(E.jsx)("div",{className:"col-md-10 pages-header",children:Object(E.jsxs)("h1",{children:["Classes ",Object(E.jsxs)(ue.a,{onClick:function(){return t()},className:"btn-create-class",Button:!0,variant:"link",children:[" ",Object(E.jsx)("i",{className:"fa fa-plus"}),"  Join Class  "]})]})})})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return s(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search here for available classes",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Ne,{joinClassesToggle:t,joinClassestModal:n,getPendingClasses:a})]})};var ke=function(e){var t=e.item;return Object(E.jsx)("div",{children:Object(E.jsxs)(ae.a,{className:"class-card",children:[Object(E.jsx)(ae.a.Header,{className:"class-header-card-pending",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:10}),Object(E.jsx)(ce.a,{sm:2,style:{textAlign:"right"}}),Object(E.jsx)(ce.a,{sm:10})]})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{}),Object(E.jsxs)(ae.a.Subtitle,{children:[t.className,Object(E.jsx)(ce.a,{className:"font-color",sm:10,children:t.classCode}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsxs)("b",{children:[t.teacherName," ",Object(E.jsx)("br",{}),Object(E.jsxs)("spam",{className:"font-color",children:[" ",t.gradeName," "]})," ",Object(E.jsx)("br",{}),t.courseName]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})]}),Object(E.jsx)(ae.a.Text,{className:"font-color",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:8,children:["Student ",Object(E.jsx)("br",{})]}),Object(E.jsxs)(ce.a,{ms:22,style:{fontSize:"15px",textAlign:"right"},children:[Object(E.jsx)("i",{className:"fas fa-user"})," ",null===t||void 0===t?void 0:t.classEnrolledCount,Object(E.jsx)("br",{})]})]})})]})]})})};var Ce=function(e){var t=e.openCoverPhotoModal,n=e.setOpenCoverPhotoModal,s=e.classIdCoverPhoto,c=e.setClassIdCoverPhoto,r=e.getClasses,i=Object(a.useState)({}),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};console.log("classIdCoverPhoto:",s);var m=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fileToUpload:",d),e.next=3,(new z).uploadCoverPhotoClass(s,d);case 3:(t=e.sent).ok?(I.b.success("Cover image uploaded successfully."),n(!1),c(null),r()):(I.b.error(null===(a=t.data)||void 0===a?void 0:a.errorMessage),alert("123"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Upload Cover"}),Object(E.jsxs)(be.a.Body,{className:"modal-label b-0px",children:[Object(E.jsx)(ce.a,{children:Object(E.jsx)("input",{className:"",accept:"image/png, image/gif, image/jpeg",type:"file",style:{backgroundColor:"inherit"},onChange:function(e){return t=e.target.files[0],console.log(t),void(""!=t&&b(t).then((function(e){var n={fileName:t.name,base64String:e};j(n)})));var t}})}),Object(E.jsx)(ce.a,{className:"font-color",children:"File Extension .jpg, .jpeg, .tiff, .bmp, .png"}),Object(E.jsx)(ce.a,{className:"font-color",children:"Image must 290x168"}),Object(E.jsx)(ue.a,{onClick:function(){return m()},className:"m-r-5 color-white tficolorbg-button float-right",size:"sm",children:"UPLOAD"})]})]})})};function Se(){var e,t=Object(a.useState)(!0),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)([]),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(null),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),I=A[0],L=A[1],M=Object(a.useState)(!1),F=Object(H.a)(M,2),B=F[0],R=F[1],q=Object(a.useState)(null),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useContext)(D).data.user,J=null===_||void 0===_||null===(e=_.student)||void 0===e?void 0:e.id,Q=Object(a.useState)(""),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(""),$=Object(H.a)(X,2),ee=$[0],ne=$[1],ae=function(e){K(e)},se=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new z).getClasses(_.isTeacher?null===_||void 0===_||null===(t=_.teacher)||void 0===t?void 0:t.id:null===_||void 0===_||null===(n=_.student)||void 0===n?void 0:n.id);case 3:a=e.sent,c(!1),a.ok?d(a.data):alert("Something went wrong while fetching all getClasses"),c(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new z).getClassesStudent(J);case 3:t=e.sent,c(!1),t.ok?h(t.data):alert("Something went wrong while fetching all getClassesStudent");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getPendingClasses(J);case 2:(t=e.sent).ok?x(t.data):alert("Something went wrong while fetching all getPendingClasses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).fetchAcademicTerm();case 2:(t=e.sent).ok&&(n=t.data,a=localStorage.getItem("academicTerm"),s=n.find((function(e){return!0===e.isCurrentTerm})),ne(a||s.academicTermName),localStorage.setItem("academicTerm",s.academicTermName));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=localStorage.getItem("academicTerm");if(ne(e),ie(),null===(null===_||void 0===_?void 0:_.teacher))return ce(),re()}),[]),Object(a.useEffect)((function(){var e=localStorage.getItem("academicTerm");if(ne(e),ie(),null===(null===_||void 0===_?void 0:_.student))return se()}),[]),Object(E.jsxs)(te,{activeHeader:"classes",loading:s,children:[Object(E.jsx)("div",{className:"page-container",children:Object(E.jsxs)("div",{className:"containerpages",children:[_.isStudent&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ye,{setJoinClassesModal:L,onSearch:ae,getPendingClasses:re,joinClassesToggle:function(){L(!I)},joinClassestModal:I}),Object(E.jsxs)(P.a,{className:"card-group2",children:[m.length?m.filter((function(e){return""==W||e.className.toLowerCase().includes(W.toLocaleLowerCase())||(null===e||void 0===e?void 0:e.classCode.toLowerCase().includes(W.toLowerCase()))?e:void 0})).map((function(e){return e.termName==ee&&Object(E.jsx)(we,{item:e})})):Object(E.jsx)(E.Fragment,{}),p.length?p.filter((function(e){return""==W||e.className.toLocaleLowerCase().includes(W.toLocaleLowerCase())||(null===e||void 0===e?void 0:e.classCode.toLowerCase().includes(W.toLowerCase()))?e:void 0})).map((function(e){return e.termName==ee&&Object(E.jsx)(ke,{item:e})})):Object(E.jsx)(E.Fragment,{})]})]}),(null===_||void 0===_?void 0:_.teacher)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(pe,{onSearch:ae,getClasses:se}),Object(E.jsx)(P.a,{className:"card-group2",children:u.length?u.filter((function(e){return""==W||(null===e||void 0===e?void 0:e.className.toLowerCase().includes(W.toLowerCase()))||(null===e||void 0===e?void 0:e.classCode.toLowerCase().includes(W.toLowerCase()))?e:void 0})).map((function(e){return e.termName==ee&&Object(E.jsx)(le,{classIdCoverPhoto:U,setClassIdCoverPhoto:V,openCoverPhotoModal:B,setOpenCoverPhotoModal:R,getClasses:se,item:e,setOpenEditModal:S,setSeletedClass:N})})):Object(E.jsx)("span",{})})]})]})}),Object(E.jsx)(xe,{getClasses:se,seletedClass:w,openEditModal:C,setOpenEditModal:S}),Object(E.jsx)(Ce,{getClasses:se,classIdCoverPhoto:U,setClassIdCoverPhoto:V,openCoverPhotoModal:B,setOpenCoverPhotoModal:R})]})}var Te=n(17);n(173),n(276);function Ae(e){var t=e.courseCover,n=e.courseId,c=e.courseName,r=e.subjectAreaName,i=e.description,u=e.authorName,d=e.courseInfo,j=e.setOpenEditModal,b=e.setSelectedCourse,h=(e.getCourses,e.uploadModalTrigger),O=e.handleClickContributor,f=Object(a.useContext)(D).data.user,p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!0),N=Object(H.a)(w,2),y=N[0],k=N[1];Object(a.useEffect)((function(){C()}),[]);var C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(n);case 2:(t=e.sent).ok&&(a=t.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==f.userId})),k(!!s));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=s.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(E.jsx)("span",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:n})}));return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ae.a,{className:"card-design b-0px m-r-10",children:[Object(E.jsx)(ae.a.Header,{className:"card-header-courses",style:{backgroundImage:"url(".concat(t,")")},children:Object(E.jsxs)(se.a,{style:{color:"white"},children:[f.isTeacher&&y&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{md:12,children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},children:Object(E.jsxs)(V.a,{className:"float-right",isOpen:v,toggle:function(){return g(!v)},children:[Object(E.jsx)(V.a.Toggle,{"data-toggle":"dropdown",as:S,children:Object(E.jsx)("i",{className:"fa fa-ellipsis-v fa-2x"})}),Object(E.jsxs)(V.a.Menu,{children:[Object(E.jsx)(V.a.Item,{onClick:function(e){return function(e,t){e.preventDefault(),sessionStorage.setItem("courseid",t.id),b(t),j(!0)}(e,d)},children:"Edit"}),Object(E.jsx)(V.a.Item,{onClick:function(e){return h(d)},children:"Upload Cover"}),Object(E.jsx)(V.a.Item,{onClick:function(e){return O(d.id)},children:"Contributor"})]})]})})})}),Object(E.jsx)(ce.a,{md:12,className:"t-a-c m-t-20"})]})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(re.a,{placement:"top",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:c}))},children:Object(E.jsx)(ae.a.Title,{tag:"h5",children:(null===c||void 0===c?void 0:c.length)>20?"".concat(c.substring(0,20),"..."):c})}),Object(E.jsx)(ae.a.Subtitle,{className:"mb-2 text-muted",tag:"h6",children:r}),Object(E.jsxs)(ae.a.Text,{children:[i,null===t&&"No Cover"]}),Object(E.jsx)(ae.a.Text,{children:u})]})]})})}function Ie(e){var t=e.subjectAreaName,n=e.filter,c=e.getCourses,r=(e.setFilter,e.course),i=e.setLoading,u=e.setOpenEditModal,d=e.setSelectedCourse,j=Object(a.useContext)(D).data.user,b=Object(a.useState)(!1),m=Object(H.a)(b,2),h=(m[0],m[1],Object(a.useState)([])),O=Object(H.a)(h,2),f=(O[0],O[1],Object(a.useState)(!1)),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)({}),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),B=M[0],P=M[1],z=Object(a.useState)([]),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)([]),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(""),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)({}),X=Object(H.a)(K,2),$=(X[0],X[1]),ee=Object(a.useState)(""),te=Object(H.a)(ee,2),ne=te[0],ae=te[1],re=j.subsType;console.log(r,"================================================");var ie=function(e){d(e),v(!0),console.log(e),T(e.id)},oe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(N),v(!1),e.next=4,(new Oe).uploadCover(S,N);case 4:(t=e.sent).ok?(I.b.success("Cover image uploaded successfully."),c()):I.b.error(null===(n=t.data)||void 0===n?void 0:n.errorMessage.replace("distributor","contributor"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(N),v(!1),e.next=4,(new A).getTeachers();case 4:(t=e.sent).ok?q(t.data):I.b.error(null===(n=t.data)||void 0===n?void 0:n.errorMessage.replace("distributor","contributor"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(e){console.log(e),""!=e&&function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}(e).then((function(t){var n={fileName:e.name,base64String:t};y(n)}))},je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(t);case 2:(n=e.sent).ok?($(n.data),ae(n.data.createdBy),console.log(n,"-=-=-")):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(t);case 2:(n=e.sent).ok?_(Object(Te.a)(n.data)):I.b.error(null===(a=n.data)||void 0===a?void 0:a.errorMessage.replace("distributor","contributor"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={courseId:Z,userAccountId:t.userAccountID},e.next=4,(new Oe).addDistributor(Z,n);case 4:(a=e.sent).ok?(I.b.success("Contributor added successfully"),me(Z)):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(e){P(!B),le(),me(e),W(e),je(e)},pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.distributorInformation.userAccountId!=ne){e.next=5;break}I.b.error("You can't remove the author of this course."),e.next=9;break;case 5:return e.next=7,(new Oe).removeContributor(Z,t.distributorInformation.id);case 7:(n=e.sent).ok?(I.b.success("Contributor removed successfully"),me(Z)):I.b.error(null===(a=n.data)||void 0===a?void 0:a.errorMessage.replace("distributor","contributor"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){localStorage.setItem("typeresource","course")}));var xe=function(e){return j.isTeacher&&"TeacherResources"==re?"/courses/".concat(e,"/resources"):j.isTeacher&&"Interactives"==re?"/courses":j.isTeacher?"coursecontent/".concat(e,"/learn"):j.isSchoolAdmin?"/school_courses/".concat(e):void 0};return Object(E.jsxs)(s.a.Fragment,{children:[t.filter((function(e){return e.courseName.toLowerCase().includes(n.toLowerCase())})).map((function(e,t){return Object(E.jsx)(E.Fragment,{children:(null===e||void 0===e?void 0:e.status)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(F.b,{to:xe(e.id),onClick:function(){return function(e){sessionStorage.setItem("courseid",e),sessionStorage.setItem("breadname","Learn")}(e.id)},course:r,setLoading:i,className:"active card-title",children:Object(E.jsx)(Ae,{courseCover:e.courseCover,courseId:e.id,courseName:e.courseName,subjectAreaName:e.subjectArea.subjectAreaName,description:e.description,authorName:e.authorName,courseInfo:e,setOpenEditModal:u,setSelectedCourse:d,getCourses:c,uploadModalTrigger:ie,handleClickContributor:fe})})}):Object(E.jsx)(E.Fragment,{})})})),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:x,onHide:function(){return v(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Upload Cover"}),Object(E.jsxs)(be.a.Body,{className:"modal-label b-0px",children:[Object(E.jsx)(ce.a,{children:Object(E.jsx)("input",{className:"",accept:"image/png, image/gif, image/jpeg",type:"file",style:{backgroundColor:"inherit"},onChange:function(e){return de(e.target.files[0])}})}),Object(E.jsx)(ce.a,{className:"font-color",children:"File Extension .jpg, .jpeg, .tiff, .bmp, .png"}),Object(E.jsx)(ce.a,{className:"font-color",children:"Image must 300x300"}),Object(E.jsx)(ue.a,{onClick:function(){return oe()},className:"m-r-5 color-white tficolorbg-button float-right",size:"sm",children:"UPLOAD"})]})]}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:B,onHide:function(){return P(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Contributor"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("div",{className:"contributors-container",children:[Object(E.jsx)("p",{className:"font-20",children:"Contributor/s"}),V.map((function(e,t){return Object(E.jsxs)(se.a,{className:"mb-3",children:[Object(E.jsx)(ce.a,{md:8,children:Object(E.jsxs)("span",{children:[e.userInformation.firstname," ",e.userInformation.lastname," "]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("span",{children:Object(E.jsx)("i",{onClick:function(){return pe(e)},className:"fa fa-minus bg-danger color-white d-flex justify-content-center align-items-center br-3",style:{width:23,height:23}})})})]})}))]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("div",{className:"contributors-container",children:[Object(E.jsx)("p",{className:"font-20",children:"Teacher/s"}),R.map((function(e,t){return Object(E.jsxs)(se.a,{className:"mb-3",children:[Object(E.jsx)(ce.a,{md:8,children:Object(E.jsxs)("span",{className:"w-75",children:[e.fname," ",e.lname]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("span",{children:Object(E.jsx)("i",{onClick:function(){return he(e)},className:"fa fa-plus tficolorbg-button color-white d-flex justify-content-center align-items-center br-3",style:{width:23,height:23}})})})]})}))]})})]})})]})]})}var Ee=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getSubjectArea=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/SubjectArea",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e}return n}(N);function De(e){var t=e.getCourses,n=(e.setCourse,e.openModal),s=e.setOpenModal,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)([]),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(""),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],B=M[1],P=Object(a.useContext)(D),z=Object(a.useState)(!1),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=P.data.user,U=function(e){e.preventDefault(),s(!1),q(!1)},V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Ee).getSubjectArea();case 3:t=e.sent,i(!1),t.ok?(k(t.data),console.log(t.data)):alert("Something went wrong while fetching all courses");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),q(!0),""!==O){e.next=8;break}I.b.error("Please insert all the required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 8:return i(!0),a="Teacher"!==G.role&&!0,e.next=12,(new Oe).createCourse({courseName:j,description:O,subjectAreaId:v,status:T,locked:F,isTechFactors:a});case 12:(s=e.sent).ok?(J(),U(n),b(""),f(""),g(""),A(""),B(!1),t()):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){V()}),[]);var J=function(){I.b.success("Successfully created course",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return s(!1),void q(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Course"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{noValidate:!0,validated:R,onSubmit:_,children:[Object(E.jsxs)(me.a.Group,{controlId:"validationCustom01",className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"subjectArea",children:"Subject Area"}),Object(E.jsxs)(me.a.Select,{required:!0,size:"lg",onChange:function(e){return g(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select subject area..."}),y.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.subjectAreaName})}))]})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Course Name"}),Object(E.jsx)(me.a.Control,{required:!0,className:"custom-input",size:"lg",type:"text",placeholder:"Enter course name here",onChange:function(e){return b(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Course Description"}),Object(E.jsx)(me.a.Control,{required:!0,className:"custom-input",size:"lg",type:"text",placeholder:"Enter course description here",onChange:function(e){return f(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{required:!0,size:"lg",onChange:function(e){return A(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select status here..."}),Object(E.jsx)("option",{value:!0,children:"Active"}),Object(E.jsx)("option",{value:!1,children:"Inactive"})]})]})," "," ",Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Course"})})]})})]})})}function Le(e){var t=e.getCourses,n=(e.setCourse,e.openEditModal),s=e.setOpenEditModal,c=e.selectedCourse,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=(i[0],i[1]),d=Object(a.useState)(""),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)([]),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],D=T[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],B=M[1],P=Object(a.useState)(!1),z=Object(H.a)(P,2),Y=z[0],R=z[1],q=function(e){e.preventDefault(),s(!1)},G=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(new Ee).getSubjectArea();case 3:t=e.sent,u(!1),t.ok?(C(t.data),console.log(t.data)):alert("Something went wrong while fetching all courses");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),R(!0),""!==f){e.next=8;break}I.b.error("Please insert all the required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=16;break;case 8:return u(!0),!0,a=sessionStorage.getItem("courseid"),e.next=13,(new Oe).editCourse(a,{courseName:b,description:f,subjectAreaId:g,status:A,locked:F,isTechFactors:true});case 13:(s=e.sent).ok?(V(),t(),q(n),R(!1)):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),u(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){G()}),[]),Object(a.useEffect)((function(){null!==c&&(m(null===c||void 0===c?void 0:c.courseName),p(null===c||void 0===c?void 0:c.description),w(null===c||void 0===c?void 0:c.subjectAreaId),B(null===c||void 0===c?void 0:c.locked),D(null===c||void 0===c?void 0:c.status))}),[c]);var V=function(){I.b.success("Successfully updated course",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return s(!1),void R(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Course"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{noValidate:!0,validated:Y,onSubmit:U,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Course Name"}),Object(E.jsx)(je.a,{required:!0,defaultValue:null===c||void 0===c?void 0:c.courseName,className:"custom-input",size:"lg",type:"text",onChange:function(e){return m(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Description"}),Object(E.jsx)(je.a,{required:!0,defaultValue:null===c||void 0===c?void 0:c.description,className:"custom-input",size:"lg",type:"text",onChange:function(e){return p(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"subjectArea",children:"Subject Area"}),Object(E.jsx)(me.a.Select,{required:!0,size:"lg",onChange:function(e){return w(e.target.value)},children:k.map((function(e){return Object(E.jsx)("option",{value:e.id,selected:(null===c||void 0===c?void 0:c.subjectAreaId)===e.id,children:e.subjectAreaName})}))})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{required:!0,size:"lg",onChange:function(e){return D(e.target.value)},children:[Object(E.jsx)("option",{value:!0,selected:!0===(null===c||void 0===c?void 0:c.status),children:"Active"}),Object(E.jsx)("option",{value:!1,selected:!1===(null===c||void 0===c?void 0:c.status),children:"Inactive"})]})]})," "," ",Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Course"})})]})})]})})}var Me=function(e){var t=e.subjectAreaName,n=e.inActive,c=e.filter,r=e.getCourses,i=(e.setFilter,e.course),u=e.setLoading,d=e.setOpenEditModal,j=e.setSelectedCourse,b=Object(a.useContext)(D).data.user,h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(H.a)(x,2),g=(v[0],v[1],Object(a.useState)(!1)),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)({}),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),L=Object(H.a)(A,2),M=L[0],B=L[1],P=function(e,t){e.preventDefault(),sessionStorage.setItem("courseid",t.id),j(t),d(!0)};console.log("inActive:",n);var z=s.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(E.jsx)("span",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:n})})),Y=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},R=function(e,t){e.preventDefault(),j(t),y(!0),console.log(t),B(t.id)},q=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(S),y(!1),e.next=4,(new Oe).uploadCover(M,S);case 4:(t=e.sent).ok?(I.b.success("Cover image uploaded successfully."),r()):I.b.error(null===(n=t.data)||void 0===n?void 0:n.errorMessage.replace("distributor","contributor"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){console.log(e),""!=e&&function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}(e).then((function(t){var n={fileName:e.name,base64String:t};T(n)}))};return Object(a.useEffect)((function(){localStorage.setItem("typeresource","course")})),console.log("subjectAreaName:",t),Object(E.jsxs)(E.Fragment,{children:[n.filter((function(e){return e.courseName.toLowerCase().includes(c.toLowerCase())})).map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(F.b,{to:b.isTeacher?"coursecontent/".concat(e.id,"/learn"):"/school_courses/".concat(e.id),onClick:function(){return function(e){sessionStorage.setItem("courseid",e),sessionStorage.setItem("breadname","Learn")}(e.id)},course:i,setLoading:u,className:"active card-title",children:Object(E.jsxs)(ae.a,{className:"card-design b-0px m-r-10",children:[Object(E.jsx)(ae.a.Header,{className:"card-header-courses",style:{backgroundImage:"url(".concat(e.courseCover,")")},children:Object(E.jsxs)(se.a,{style:{color:"white"},children:[b.isTeacher&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{md:12,children:["Techfactors Inc."!==e.authorName&&Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:Y,children:Object(E.jsxs)(V.a,{className:"float-right",isOpen:f,toggle:function(){return p(!f)},children:[Object(E.jsx)(V.a.Toggle,{"data-toggle":"dropdown",as:z,children:Object(E.jsx)("i",{className:"fa fa-ellipsis-v fa-2x"})}),Object(E.jsxs)(V.a.Menu,{children:[Object(E.jsx)(V.a.Item,{onClick:function(t){return P(t,e)},children:"Edit"}),Object(E.jsx)(V.a.Item,{onClick:function(t){return R(t,e)},children:"Upload Cover"})]})]})}),"Techfactors Inc."===e.authorName&&7===b.teacher.positionID&&Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:Y,children:Object(E.jsxs)(V.a,{className:"float-right",isOpen:f,toggle:function(){return p(!f)},children:[Object(E.jsx)(V.a.Toggle,{"data-toggle":"dropdown",as:z,children:Object(E.jsx)("i",{className:"fa fa-ellipsis-v fa-2x"})}),Object(E.jsxs)(V.a.Menu,{children:[Object(E.jsx)(V.a.Item,{onClick:function(t){return P(t,e)},children:"Edit"}),Object(E.jsx)(V.a.Item,{children:"Delete"}),Object(E.jsx)(V.a.Item,{onClick:function(t){return R(t,e)},children:"Upload Cover"})]})]})})]})}),Object(E.jsx)(ce.a,{md:12,className:"t-a-c m-t-20"})]})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsxs)(ae.a.Title,{tag:"h5",children:[e.courseName.substring(0,20),"..."]}),Object(E.jsx)(ae.a.Subtitle,{className:"mb-2 text-muted",tag:"h6",children:e.subjectArea.subjectAreaName}),Object(E.jsxs)(ae.a.Text,{children:[e.description,null===e.courseCover&&"No Cover"]}),Object(E.jsx)(ae.a.Text,{children:e.authorName})]})]})})})})),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:N,onHide:function(){return y(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Upload Cover"}),Object(E.jsxs)(be.a.Body,{className:"modal-label b-0px",children:[Object(E.jsx)(ce.a,{children:Object(E.jsx)("input",{className:"",accept:"image/png, image/gif, image/jpeg",type:"file",style:{backgroundColor:"inherit"},onChange:function(e){return G(e.target.files[0])}})}),Object(E.jsx)(ue.a,{onClick:function(){return q()},className:"m-r-5 color-white tficolorbg-button float-right",size:"sm",children:"UPLOAD"})]})]})]})};function Fe(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(null),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)([]),A=Object(H.a)(T,2),I=A[0],L=A[1],M=Object(a.useState)([]),F=Object(H.a)(M,2),B=F[0],z=F[1],Y=Object(a.useState)([]),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)([]),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)([]),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)([]),$=Object(H.a)(X,2),ee=$[0],ne=$[1],ae=Object(a.useState)([]),re=Object(H.a)(ae,2),ie=re[0],oe=re[1],le=Object(a.useState)([]),be=Object(H.a)(le,2),me=be[0],he=be[1],fe=Object(a.useState)([]),pe=Object(H.a)(fe,2),xe=pe[0],ve=pe[1],ge=Object(a.useState)([]),we=Object(H.a)(ge,2),Ne=we[0],ye=we[1],ke=Object(a.useState)([]),Ce=Object(H.a)(ke,2),Se=Ce[0],Te=Ce[1],Ae=Object(a.useState)([]),Ee=Object(H.a)(Ae,2),Fe=Ee[0],Be=Ee[1],He=Object(a.useState)([]),Pe=Object(H.a)(He,2),ze=Pe[0],Ye=Pe[1],Re=Object(a.useState)([]),qe=Object(H.a)(Re,2),Ge=qe[0],Ue=qe[1],Ve=Object(a.useState)([]),_e=Object(H.a)(Ve,2),Je=_e[0],Qe=_e[1],Ze=Object(a.useState)([]),We=Object(H.a)(Ze,2),Ke=We[0],Xe=We[1],$e=Object(a.useState)([]),et=Object(H.a)($e,2),tt=et[0],nt=et[1],at=Object(a.useState)([]),st=Object(H.a)(at,2),ct=st[0],rt=st[1],it=Object(a.useState)([]),ot=Object(H.a)(it,2),lt=ot[0],ut=ot[1],dt=Object(a.useState)(!1),jt=Object(H.a)(dt,2),bt=jt[0],mt=jt[1],ht=e.subsType,Ot=function(e){S(e)},ft=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c,r,i,l,u,j,b,m,h,O,f,p,x,v,g,w,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(new Oe).getCourses();case 3:t=e.sent,d(!1),t.ok?(n=t.data.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1})),oe(n),a=t.data.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1})),N(a),s=t.data.filter((function(e){return 0==(null===e||void 0===e?void 0:e.status)&&0==(null===e||void 0===e?void 0:e.isTechfactors)})),ut(s),c=t.data.filter((function(e){return"1"==e.subjectArea.id})),L(c.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),r=t.data.filter((function(e){return"2"==e.subjectArea.id})),z(r.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),i=t.data.filter((function(e){return"3"==e.subjectArea.id})),G(i.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),l=t.data.filter((function(e){return"4"==e.subjectArea.id})),J(l.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),u=t.data.filter((function(e){return"5"==e.subjectArea.id})),K(u.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),j=t.data.filter((function(e){return"6"==e.subjectArea.id})),ne(j.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),b=t.data.filter((function(e){return"7"==e.subjectArea.id})),he(b.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),m=t.data.filter((function(e){return"9"==e.subjectArea.id})),ve(m.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),h=t.data.filter((function(e){return"10"==e.subjectArea.id})),ye(h.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),O=t.data.filter((function(e){return"8"==e.subjectArea.id})),Te(O.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),f=t.data.filter((function(e){return"11"==e.subjectArea.id})),Be(f.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),p=t.data.filter((function(e){return"12"==e.subjectArea.id})),Ye(p.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),x=t.data.filter((function(e){return"14"==e.subjectArea.id})),Ue(x.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),v=t.data.filter((function(e){return"15"==e.subjectArea.id})),Qe(v.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),g=t.data.filter((function(e){return"16 "==e.subjectArea.id})),Xe(g.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),w=t.data.filter((function(e){return"17"==e.subjectArea.id})),nt(w.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1}))),y=t.data.filter((function(e){return"18"==e.subjectArea.id})),rt(y.sort((function(e,t){return e.courseName.toLowerCase()>t.courseName.toLowerCase()?1:-1})))):alert("Something went wrong while fetching all courses");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ft()}),[]);var pt=function(e){oe(e)};return Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsx)(te,{loading:u,activeHeader:"courses",children:Object(E.jsx)("div",{className:"page-container",children:Object(E.jsxs)("div",{className:"containerpages",children:[e.isTeacher&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(se.a,{style:{paddingTop:"15px"},children:[Object(E.jsx)(ce.a,{className:"title-header",children:Object(E.jsxs)("h1",{children:["Courses ","LMS"==ht&&Object(E.jsxs)(ue.a,{variant:"link",className:"btn-create-class",onClick:function(e){e.preventDefault(),c(!0)},children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Create Course"]})]})}),"LMS"==ht&&Object(E.jsxs)(ce.a,{style:{textAlign:"right"},className:e.isSchoolAdmin?"d-none":"",children:[Object(E.jsx)(ue.a,{onClick:function(){mt(!1)},className:"btn-Enrolled",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Active"})}),Object(E.jsx)(ue.a,{onClick:function(){mt(!0)},className:"btn-Enrolled",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Inactive"})})]})]})}),e.isSchoolAdmin&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-10 pages-header",children:Object(E.jsx)("h1",{children:"Courses List "})})})}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:Ot,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search here for available courses",type:"search",onChange:function(e){return Ot(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)("div",{style:{textAlign:"center",paddingBottom:" 20px"},children:[Object(E.jsx)(ue.a,{onClick:function(){return pt(w)},className:"m-r-5 color-white btn-filter",size:"sm",children:"All"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(ee)},className:"m-r-5 color-white btn-filter",size:"sm",children:"Aralin Panlipunan"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(tt)},className:"m-r-5 color-white btn-filter",size:"sm",children:"CLE"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(B)},className:"m-r-5 color-white btn-filter",size:"sm",children:"English"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(_)},className:"m-r-5 color-white btn-filter",size:"sm",children:"Filipino"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(ct)},className:"m-r-5 color-white btn-filter",size:"sm",children:"God's Park"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(Je)},className:"m-r-5 color-white btn-filter",size:"sm",children:"HELE"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(I)},className:"m-r-5 color-white btn-filter",size:"sm",children:"ICT"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(Ke)},className:"m-r-5 color-white btn-filter",size:"sm",children:"MAPEH"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(q)},className:"m-r-5 color-white btn-filter",size:"sm",children:"Math"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(ze)},className:"m-r-5 color-white btn-filter",size:"sm",children:"Robotics"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(W)},className:"m-r-5 color-white btn-filter",size:"sm",children:"Science"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(Se)},className:"m-r-5 color-white btn-filter",size:"sm",children:"SHS-ABM"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(xe)},className:"m-r-5 color-white btn-filter",size:"sm",children:"SHS-APPLIED"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(Ne)},className:"m-r-5 color-white btn-filter",size:"sm",children:"SHS-CORE"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(Fe)},className:"m-r-5 color-white btn-filter",size:"sm",children:"SHS-HUMMS"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(me)},className:"m-r-5 color-white btn-filter",size:"sm",children:"SHS-STEM"}),Object(E.jsx)(ue.a,{onClick:function(){return pt(Ge)},className:"m-r-5 color-white btn-filter",size:"sm",children:"TLE"})]}),Object(E.jsxs)(P.a,{className:"justify-content-center",children:[Object(E.jsx)(De,{subjectAreaName:ie,setSubjectAreaName:oe,getCourses:ft,setCourse:N,openModal:s,setOpenModal:c}),Object(E.jsx)(Le,{getCourses:ft,handleOnclick:pt,setCourse:N,openEditModal:p,setOpenEditModal:x,selectedCourse:m}),!1===bt?Object(E.jsx)(Ie,{getCourses:ft,subjectAreaName:ie,filter:C,setFilter:S,course:w,setLoading:d,setOpenEditModal:x,setSelectedCourse:h}):Object(E.jsx)(Me,{getCourses:ft,subjectAreaName:ie,filter:C,setFilter:S,course:w,setLoading:d,setOpenEditModal:x,setSelectedCourse:h,inActive:lt})]})]})})})}var Be=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsxs)("div",{className:"col-md-10 pages-header",children:[Object(E.jsx)("h1",{className:"exam-title",children:"Exam "}),Object(E.jsxs)(ue.a,{className:"btn-create-exam btn-primary",Button:!0,variant:"link",children:[" ",Object(E.jsx)("i",{className:"fa fa-plus"}),"  Create Exam  "]}),Object(E.jsx)("h4",{className:"exam-or",children:"OR"}),Object(E.jsxs)(ue.a,{className:"btn-create-exam",Button:!0,variant:"link",onClick:function(){return I.b.error("Feature under development")},children:[" ",Object(E.jsx)("i",{className:"fa fa-plus"}),"  Import Exam  "]})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search...",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]})},He=n(905);var Pe=function(){return Object(E.jsx)("div",{children:Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{className:"tr-exam-list",children:[Object(E.jsx)("th",{children:"NO."}),Object(E.jsx)("th",{children:"Exam"}),Object(E.jsx)("th",{children:"Exam Code"}),Object(E.jsx)("th",{children:"Publisher"}),Object(E.jsx)("th",{children:"No. of Test"}),Object(E.jsx)("th",{children:"No. of Questions"}),Object(E.jsx)("th",{children:"Total Points"}),Object(E.jsx)("th",{children:"Options"})]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{className:"tr-exam-list",children:[Object(E.jsx)("td",{className:"td-number-exam",children:"1"}),Object(E.jsxs)("td",{className:"td-title-exam",children:["Exam 1  ",Object(E.jsx)("br",{}),"Math"]}),Object(E.jsx)("td",{className:"td-number-exam",children:"EQF1"}),Object(E.jsx)("td",{className:"td-icon-plus",children:Object(E.jsx)("i",{class:"fas fa-plus-circle"})}),Object(E.jsx)("td",{className:"td-number-exam",children:"2"}),Object(E.jsx)("td",{className:"td-number-exam",children:"20"}),Object(E.jsx)("td",{className:"td-number-exam",children:"20"}),Object(E.jsxs)("td",{className:"td-icon-plus",children:[Object(E.jsx)("i",{class:"fas fa-edit",style:{paddingRight:"10px"}}),Object(E.jsx)("i",{class:"far fa-share-square",children:Object(E.jsx)("i",{class:"fas fa-trash-alt",style:{paddingLeft:"10px"}})})]})]}),Object(E.jsxs)("tr",{className:"tr-exam-list",children:[Object(E.jsx)("td",{className:"td-number-exam",children:"2"}),Object(E.jsxs)("td",{className:"td-title-exam",children:["Exam 2 ",Object(E.jsx)("br",{}),"Math"]}),Object(E.jsx)("td",{className:"td-number-exam",children:"EQF2"}),Object(E.jsx)("td",{className:"td-icon-plus",children:Object(E.jsx)("i",{class:"fas fa-plus-circle"})}),Object(E.jsx)("td",{className:"td-number-exam",children:"2"}),Object(E.jsx)("td",{className:"td-number-exam",children:"20"}),Object(E.jsx)("td",{className:"td-number-exam",children:"20"}),Object(E.jsxs)("td",{className:"td-icon-plus",children:[Object(E.jsx)("i",{class:"fas fa-edit",style:{paddingRight:"10px"}}),Object(E.jsx)("i",{class:"far fa-share-square",children:Object(E.jsx)("i",{class:"fas fa-trash-alt",style:{paddingLeft:"10px"}})})]})]}),Object(E.jsxs)("tr",{className:"tr-exam-list",children:[Object(E.jsx)("td",{className:"td-number-exam",children:"3"}),Object(E.jsxs)("td",{className:"td-title-exam",children:["Exam 3 ",Object(E.jsx)("br",{}),"Math"]}),Object(E.jsx)("td",{className:"td-number-exam",children:"EQF3"}),Object(E.jsx)("td",{className:"td-icon-plus",children:Object(E.jsx)("i",{class:"fas fa-plus-circle"})}),Object(E.jsx)("td",{className:"td-number-exam",children:"2"}),Object(E.jsx)("td",{className:"td-number-exam",children:"20"}),Object(E.jsx)("td",{className:"td-number-exam",children:"20"}),Object(E.jsxs)("td",{className:"td-icon-plus",children:[Object(E.jsx)("i",{class:"fas fa-edit",style:{paddingRight:"10px"}}),Object(E.jsx)("i",{class:"far fa-share-square",children:Object(E.jsx)("i",{class:"fas fa-trash-alt",style:{paddingLeft:"10px"}})})]})]})]})]})})},ze=n(915);n(34);function Ye(e){var t=e.children,n=Object(a.useState)(!1),s=Object(H.a)(n,2),c=s[0],r=(s[1],Object(a.useState)("")),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)("false"!=localStorage.getItem("collapsCourse")),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!0),p=Object(H.a)(f,2),x=p[0],v=p[1],g=window.location.pathname,w=Object(B.useParams)().id,N=Object(a.useState)({}),y=Object(H.a)(N,2),k=(y[0],y[1]),C=Object(a.useContext)(D).data.user,S=C.subsType,T=Object(a.useState)(!0),A=Object(H.a)(T,2),L=A[0],M=A[1],P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseUnit(w);case 2:(n=e.sent).ok?k(n.data):I.b.error("Something went wrong while fetching coursse unit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(w);case 2:if(!(n=e.sent).ok){e.next=14;break}if(d(n.data),!n.data.isTechfactors){e.next=12;break}return e.next=9,(new Oe).getContributor(w);case 9:a=e.sent,s=a.data.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==C.userId})),M(!!s);case 12:e.next=15;break;case 14:I.b.error("Something went wrong while fetching course information.");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){v("false"!=localStorage.getItem("collapsCourse"))}),[h]);var Y=function(e){O(e),localStorage.setItem("collapsCourse",e)};Object(a.useEffect)((function(){z(),P()}),[]),Object(a.useEffect)((function(){if(C.isStudent)return window.location.href="/404"}),[]);var R=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Learn"}))},q=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Teacher Resources"}))};return Object(E.jsxs)(te,{loading:c,fluid:!0,activeHeader:"courses",style:"",children:[Object(E.jsx)(ce.a,{style:{height:100}}),Object(E.jsxs)(se.a,{children:[x?Object(E.jsxs)(ce.a,{className:"row-course-bg course-widget-font",sm:3,children:[Object(E.jsx)(ze.a.Item,{className:"list-group-item-o",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"",sm:9,children:[u.courseName,Object(E.jsx)("div",{className:"course-subtitle",children:u.authorName})]}),Object(E.jsx)(ce.a,{className:"t-a-r",sm:3,children:Object(E.jsx)(ce.a,{className:"text-align-right",children:Object(E.jsx)("i",{className:"fas fa-chevron-left cursor-pointer",onClick:function(){return Y(!1)}})})})]})}),"LMS"==S&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:g.includes("learn")?"active-nav-item":"nav-item",to:"/coursecontent/".concat(w,"/learn"),children:"Learn"}),Object(E.jsx)(F.b,{className:g.includes("exam")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/exam"),children:"Exam"}),Object(E.jsx)(F.b,{className:g.includes("task")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/task"),children:"Task"}),Object(E.jsx)(F.b,{className:g.includes("resources")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/resources"),children:"Teacher Resources"}),Object(E.jsx)(F.b,{className:g.includes("discussion")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/discussion"),children:"Discussion"}),Object(E.jsx)(F.b,{className:g.includes("assignment")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/assignment"),children:"Assignment"}),L&&Object(E.jsx)(F.b,{className:g.includes("files")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/files"),children:"Files"}),Object(E.jsx)(F.b,{className:g.includes("links")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/links"),children:"Links"}),u.isTechfactors&&Object(E.jsx)(F.b,{className:g.includes("videos")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/videos"),children:"Videos Upload"})]}),"Ebooks"==S&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:g.includes("learn")?"active-nav-item":"nav-item",to:"/coursecontent/".concat(w,"/learn"),children:"Learn"}),Object(E.jsx)(F.b,{className:g.includes("ebooks")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/ebooks"),children:"Files"})]}),"TeacherResources"==S&&Object(E.jsx)(F.b,{className:g.includes("resources")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/resources"),children:"Teacher Resources"})]}):Object(E.jsxs)(ce.a,{className:"row-course-bg course-widget-font pt-2",sm:1,children:[Object(E.jsx)(ce.a,{className:"text-align-right mb-2",children:Object(E.jsx)("i",{className:"fas fa-chevron-right cursor-pointer",onClick:function(){return Y(!0)}})}),"LMS"==S&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:g.includes("learn")?"active-nav-item":"nav-item",to:"/coursecontent/".concat(w,"/learn"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:R,children:Object(E.jsx)("i",{className:"fas fa-book"})})}),Object(E.jsx)(F.b,{className:g.includes("exam")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/exam"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Exam"}))},children:Object(E.jsx)("i",{className:"fas fa-file-alt"})})}),Object(E.jsx)(F.b,{className:g.includes("task")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/task"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Task"}))},children:Object(E.jsx)("i",{className:"fas fa-edit"})})}),Object(E.jsx)(F.b,{className:g.includes("resources")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/resources"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:q,children:Object(E.jsx)("i",{className:"fas fa-link"})})}),Object(E.jsx)(F.b,{className:g.includes("discussion")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/discussion"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Discussion"}))},children:Object(E.jsx)("i",{className:"fas fa-comment-alt"})})}),Object(E.jsx)(F.b,{className:g.includes("assignment")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/assignment"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assignment"}))},children:Object(E.jsx)("i",{className:"fas fa-sticky-note"})})}),Object(E.jsx)(F.b,{className:g.includes("files")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/files"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Files"}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open"})})}),Object(E.jsx)(F.b,{className:g.includes("links")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/links"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Links"}))},children:Object(E.jsx)("i",{className:"fas fa-link"})})}),u.isTechfactors&&Object(E.jsx)(F.b,{className:g.includes("videos")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/videos"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Videos Upload"}))},children:Object(E.jsx)("i",{className:"fas fa-video"})})})]}),"Ebooks"==S&&Object(E.jsx)(ze.a,{children:Object(E.jsx)(F.b,{className:g.includes("learn")?"active-nav-item":"nav-item",to:"/coursecontent/".concat(w,"/learn"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:R,children:Object(E.jsx)("i",{className:"fas fa-book"})})})}),"TeacherResources"==S&&Object(E.jsx)(ze.a,{children:Object(E.jsx)(F.b,{className:g.includes("resources")?"active-nav-item":"nav-item",to:"/courses/".concat(w,"/resources"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:q,children:Object(E.jsx)("i",{className:"fas fa-link"})})})})]}),Object(E.jsx)(ce.a,{sm:x?9:11,className:"scrollable vh-85 pb-5 pl-20",children:t})]})]})}function Re(){return Object(a.useEffect)((function(){window.location.href="/"}),[]),Object(E.jsx)(te,{activeHeader:"exam",children:Object(E.jsxs)(Ye,{children:[Object(E.jsx)(Be,{}),Object(E.jsx)(Pe,{})]})})}function qe(e){var t=e.children,n=Object(a.useState)(!1),s=Object(H.a)(n,2),c=s[0],r=(s[1],Object(a.useContext)(D).data.user),i=window.location.pathname;return Object(a.useEffect)((function(){if(r.isStudent)return window.location.href="/404"}),[]),Object(E.jsx)(te,{loading:c,fluid:!0,activeHeader:"files",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"row",children:[Object(E.jsx)(ce.a,{className:"col-md-2 file-sidenav p-2",children:Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:"".concat("/files"==i?"active-nav-item":"nav-item"," p-2"),to:"/files",children:"Class"}),Object(E.jsx)(F.b,{className:"".concat("/files/course"==i?"active-nav-item":"nav-item"," p-2"),to:"/files/course",children:"Course"})]})}),Object(E.jsx)(ce.a,{children:t})]})})}var Ge=n(81);function Ue(){return Object(E.jsx)(te,{headerVisible:!1,children:Object(E.jsx)("div",{className:"auth-container",children:Object(E.jsx)("div",{className:"login-container",children:Object(E.jsx)("div",{className:"my-5 py-5",children:Object(E.jsx)(se.a,{children:Object(E.jsxs)(ce.a,{md:{span:6,offset:3},children:[Object(E.jsx)("h1",{className:"title mb-4",children:"Reset Your Password"}),Object(E.jsxs)(me.a,{children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(E.jsx)(me.a.Label,{className:"custom-label",children:"E-mail / Username"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"email",placeholder:"Enter e-mail or username here"})]}),Object(E.jsx)(Ge.a,{className:"btn btn-lg btn-primary btn-auth w-100 d-block mt-5",size:"lg",variant:"primary",type:"submit",children:"Reset Password"})]})]})})})})})})}function Ve(){return Object(E.jsx)("div",{children:Object(E.jsx)(B.Redirect,{to:{pathname:"/login"}})})}n.p;function _e(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useContext)(D).data,O=h.refreshUser,f=(h.user,new URLSearchParams(window.location.search).get("message")),p=(Object(B.useHistory)(),function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),e.next=4,(new y).login({username:n,password:i});case 4:if(!(a=e.sent).ok){e.next=15;break}return console.log(a.data),e.next=9,window.localStorage.setItem("token",a.data.token);case 9:return e.next=11,window.localStorage.setItem("subsType",a.data.subscriptionType);case 11:return e.next=13,O();case 13:e.next=16;break;case 15:alert(a.data.errorMessage);case 16:m(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(E.jsx)(te,{headerVisible:!1,loading:b,children:Object(E.jsx)("div",{className:"auth-container",children:Object(E.jsx)("div",{className:"login-container login-bg-image",children:Object(E.jsx)("div",{className:"mt-5",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{}),Object(E.jsxs)(ce.a,{md:7,children:[Object(E.jsxs)("h1",{className:"title",children:[Object(E.jsx)("span",{className:"orange",children:"Tek"}),"Teach Account Login"]}),Object(E.jsx)("p",{className:"subtitle",children:"Welcome back to TekTeach! Making learning, a great experience!"}),Object(E.jsx)("p",{className:"subtitle text-danger",children:f}),Object(E.jsxs)(me.a,{onSubmit:p,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(E.jsx)(me.a.Label,{className:"custom-label",children:"E-mail / Username"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter e-mail or username here",onChange:function(e){return s(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(E.jsx)(me.a.Label,{className:"custom-label",children:"Password"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"password",placeholder:"Enter password here",onChange:function(e){return u(e.target.value)}})]}),Object(E.jsx)(F.b,{className:"link-orange font-24 d-none",to:"/forgot_password",children:"Forgot Password"}),Object(E.jsx)(Ge.a,{className:"btn btn-lg btn-primary btn-auth w-100 d-block mt-5 mb-4",size:"lg",variant:"primary",type:"submit",children:"Log In"})]})]}),Object(E.jsx)(ce.a,{})]})})})})})}n(913);var Je=n(911),Qe=n(906),Ze=n(29),We=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getExams=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getExamInformation=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/information")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getExamStatus=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/answer/status")}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getExamPartStatuses=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/score/analysis")}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.startTest=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/answer/start"),method:"POST"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.endTest=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/answer/end"),method:"POST",data:{}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.submitTestPerPart=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/part/").concat(c,"/answer/range"),method:"POST",data:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s,c){return t.apply(this,arguments)}}(),e.createExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/module/".concat(a,"/class/").concat(n),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.assignExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test/").concat(a,"/assign"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.reAssignExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test/").concat(a,"/assign"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.updateExam=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteExam=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addPart=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editPart=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/TestPart/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getParts=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deletePart=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/TestPart/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteQuestion=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Question/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addEssay=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question/type/essay"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editEssay=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Question/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.addIdentification=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question/type/identification"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editIdentification=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Question/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editIdentificationAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Choices/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.addTrueOrFalse=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question/type/trueorfalse"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editTrueOrFalse=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Question/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editTrueOrFalseAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Choices/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.addMultipleChoice=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question/type/multiplechoice"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editMultipleChoice=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Question/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editMultipleChoiceAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Choices/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.addEnumeration=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question/type/enumeration"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.editEnumeration=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Question/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editEnumerationAnswer=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Choices/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.uploadTestPart=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question/upload"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getPartInfo=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Test/".concat(n,"/part/").concat(a,"/question"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateExamAnalysis=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sendRequest({path:"/api/Class/".concat(n,"/test/").concat(a,"/assign"),method:"PUT",data:s});case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getExamReport=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sendRequest({path:"/api/Class/".concat(n,"/test/report"),method:"GET"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N),Ke=n(110),Xe=n(143),$e=n.n(Xe),et="equation",tt="rich-text",nt="{{type=equation}}",at={moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"],align:"left",buttonsVisible:3},moreParagraph:{buttons:["alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote"],align:"left",buttonsVisible:3},moreRich:{buttons:["insertLink","insertImage","insertVideo","insertTable","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR"],align:"left",buttonsVisible:3},moreMisc:{buttons:["undo","redo","fullscreen","print","getPDF","spellChecker","selectAll","html","help"],align:"right",buttonsVisible:2}},st=function(e){var t=e.inputType,n=e.value,a=e.placeholder,s=e.onChange;return t===et?Object(E.jsx)(Ke.a,{className:"custom-input",size:"lg",value:n.split(nt)[1]||"",placeholder:a,autoCommands:"pi theta sqrt sum prod alpha beta gamma rho",autoOperatorNames:"sin cos tan",onChange:function(e){return s("".concat(nt).concat(e))}}):Object(E.jsx)($e.a,{value:n,model:n,config:{key:v.FROALA_LICENSE,placeholderText:a,charCounterCount:!1,pluginsEnabled:["fullscreen","codeBeautifier","table","image","link","lists","paragraphFormat","paragraphStyle","lineHeight","indent","outdent","quickInsert","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR","customButtons","inlineClass","inlineStyle","colors","customStyles","fontSize","fontFamily"],imageUpload:!1,imagePaste:!0,imagePasteProcess:!0,imageInsertButtons:["imageBack","|","imageByURL"],toolbarButtons:at,toolbarButtonsMD:at,toolbarButtonsSM:at,toolbarButtonsXS:at},onModelChange:s})};function ct(e){var t=Object(a.useState)(e.value.includes(nt)?et:""),n=Object(H.a)(t,2),s=n[0],c=n[1],r=function(t){if(t===et)console.log({type:t}),e.onChange(nt);else e.onChange("");c(t)};return Object(E.jsxs)("div",{className:e.className,children:[Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)(me.a.Check,{inline:!0,label:"Rich Text Editor",type:"radio",value:"rich-text",checked:s===tt||""===s,onChange:function(e){return r("")}}),Object(E.jsx)(me.a.Check,{inline:!0,label:"Equation Editor",type:"radio",value:"equation",checked:s===et,onChange:function(e){return r(et)}})]},"inline-radio"),Object(E.jsx)(st,Object(m.a)(Object(m.a)({},e),{},{inputType:s}))]})}function rt(e){var t=e.className,n=void 0===t?"":t,a=e.children;return a.toString().includes(nt)?Object(E.jsx)("div",{className:"content-viewer ".concat(n),children:Object(E.jsx)(Ke.a,{className:"custom-input",size:"lg",value:a.toString().split(nt)[1]||"",placeholder:"Enter equation",autoCommands:"pi theta sqrt sum prod alpha beta gamma rho",autoOperatorNames:"sin cos tan"})}):Object(E.jsx)("div",{className:"content-viewer ".concat(n),dangerouslySetInnerHTML:{__html:a}})}var it=function(e){var t=e.frequencyItem,n=e.setFrequencyModal,a=e.frequencyModal;return console.log("frequencyItem:",t),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",show:a,onHide:function(){return n(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Frequency of error"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)(E.Fragment,{children:t.map((function(e,t){var n,a;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ae.a,{children:[Object(E.jsxs)(ae.a.Header,{className:"header-frequency-card",children:[t+1,". ",null===e||void 0===e||null===(n=e.questionPart)||void 0===n?void 0:n.instructions]}),Object(E.jsx)(ae.a.Body,{children:null===e||void 0===e||null===(a=e.errorFrequencies)||void 0===a?void 0:a.map((function(e,t){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("span",{className:"font-exam-frequency-content",children:[t+1,".\xa0  ",Object(E.jsx)("span",{className:"font-question-analysis",children:Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.question})})]})}),Object(E.jsxs)(ae.a.Text,{children:[Object(E.jsxs)("b",{children:[" ",Object(E.jsxs)("p",{style:{color:"#7D7D7D"},children:["Number of correct students: ",null===e||void 0===e?void 0:e.noOfCorrectAnswer,Object(E.jsx)("br",{}),"Number of incorrect students: ",null===e||void 0===e?void 0:e.noOfWrongAnswer]})]}),Object(E.jsx)("hr",{})]})]})}))})]}),Object(E.jsx)("br",{})]})}))})})]})})};var ot=function(e){var t=e.frequencyItem;return Object(E.jsx)(E.Fragment,{children:t.map((function(e){var t,n;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{display:"flex",paddingRight:"20px"},children:Object(E.jsx)("div",{style:{float:"right",paddingTop:"65px"},children:Object(E.jsx)("div",{className:"analytics-exam-header",children:Object(E.jsx)("b",{children:null===e||void 0===e||null===(t=e.questionPart)||void 0===t?void 0:t.instructions})})})}),Object(E.jsxs)(He.a,{striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Question"}),Object(E.jsx)("th",{children:"No of Correct"}),Object(E.jsx)("th",{children:"% Frequency"})]})}),Object(E.jsx)("tbody",{children:null===e||void 0===e||null===(n=e.errorFrequencies)||void 0===n?void 0:n.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("span",{children:Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.question.substring(0,100)})})}),Object(E.jsx)("td",{children:Object(E.jsxs)("span",{style:{display:"inline-flex"},children:[Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.noOfCorrectAnswer}),"/",Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.noOfTotalAnswer})]})}),Object(E.jsxs)("td",{children:[((null===e||void 0===e?void 0:e.noOfCorrectAnswer)/(null===e||void 0===e?void 0:e.noOfTotalAnswer)*100).toFixed(2)," %"]})]})})}))})]})]})}))})};var lt=function(e){e.selectedClassId,e.showReportHeader,e.setShowReportHeader;var t=e.getExamAnalysis,n=e.testName,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=(c[0],c[1],Object(a.useState)(!1)),i=Object(H.a)(r,2),u=(i[0],i[1],Object(a.useState)(!1)),d=Object(H.a)(u,2),j=(d[0],d[1]),b=Object(a.useState)(!1),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)([]),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)([])),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(!1),F=Object(H.a)(M,2),B=F[0],P=F[1],Y=Object(a.useState)(!1),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useContext)(D),V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)([]),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(!0),ee=Object(H.a)($,2),te=ee[0],ne=ee[1],re=U.data,ie=re.user,le=(re.themeColor,Object(a.useState)({})),de=Object(H.a)(le,2),je=de[0],be=de[1],he=new URL(window.location.href).searchParams.get("classId"),Oe=sessionStorage.getItem("testid"),fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getFrequencyReport(he,Oe);case 2:(t=e.sent).ok?L(t.data):alert(t.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.next=3,(new z).retakeExam(he,n,x);case 3:(s=e.sent).ok?(Ne(),ge(null,he,n)):alert(s.data.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),xe=function(e){var t=null===e||void 0===e?void 0:e.sort((function(e,t){if(console.log(e,"herererereherererereherererere TRUE"),e.student.lname.toLocaleLowerCase()<t.student.lname.toLocaleLowerCase())return-1}));console.log(t,"2222"),X(t)},ve=function(e){var t=null===e||void 0===e?void 0:e.sort((function(e,t){if(e.student.lname.toLocaleLowerCase()>t.student.lname.toLocaleLowerCase())return-1}));console.log(t,"111111"),X(t)};Object(a.useEffect)((function(){ve(J),xe(J)}),[J]);var ge=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new z).getTestReport(n,a);case 3:s=e.sent,j(!1),s.ok?(Q(s.data),y(s.data[0].studentTests)):alert("response.data.errorMessage");case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var e=[];J.map((function(t,n){var a={},s="".concat(t.student.lname," ").concat(t.student.fname),c="".concat(t.studentTests[0].score,"/").concat(t.studentTests[0].rawScore),r=t.studentTests[0].isSubmitted,i=t.studentTests[0].rawScore/2<=t.studentTests[0].score?"Passed":"Failed",o=r?i:"Not Submitted";a["Student Name"]=s,a.Grade=r?c:"Not Submitted",a.Status=o,e.push(a)})),console.log(e,"-0-0-0-=0-0"),be(e)}()}),[J]),Object(a.useEffect)((function(){null!=Oe&&ge(null,he,Oe)}),[]);var we=function(){O(!1)},Ne=function(){return I.b.success("Exam can now be retaken",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},ye=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.next=3,(new We).updateExamAnalysis(he,Oe,{showAnalysis:true,startDate:t,startTime:n,endDate:a,endTime:s,timeLimit:c});case 3:null===(r=e.sent)||void 0===r||r.ok,ge(null,he,Oe);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c){return e.apply(this,arguments)}}(),ke=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.next=3,(new We).updateExamAnalysis(he,Oe,{showAnalysis:false,startDate:t,startTime:n,endDate:a,endTime:s,timeLimit:c});case 3:null===(r=e.sent)||void 0===r||r.ok,ge(null,he,Oe);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c){return e.apply(this,arguments)}}(),Ce=function(e,t,n,a,s,c,r){!function(e,t,n,a,s,c){!0===e?ye(t,n,a,s,c):ke(t,n,a,s,c)}(e.target.checked,t,n,a,s,c)};return Object(E.jsxs)(E.Fragment,{children:[null===ie.student?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:4,children:Object(E.jsx)(ae.a,{children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"header-analysis-card",children:[Object(E.jsx)("i",{class:"fa fa-star",style:{marginRight:"10px",fontSize:"30px"}})," PERFECT"]})}),Object(E.jsxs)(ae.a.Text,{children:[Object(E.jsx)("hr",{}),Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:"0"})})]})]})})}),Object(E.jsx)(ce.a,{sm:4,children:Object(E.jsx)(ae.a,{children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"header-analysis-card",children:[Object(E.jsx)("i",{class:"fa fa-arrow-circle-up",style:{marginRight:"10px",fontSize:"30px"}}),"PASSED"]})}),Object(E.jsx)(ae.a.Text,{children:Object(E.jsxs)("div",{children:[Object(E.jsx)("hr",{}),Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:"0"})})]})})]})})}),Object(E.jsx)(ce.a,{sm:4,children:Object(E.jsx)(ae.a,{children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"header-analysis-card",children:[Object(E.jsx)("i",{class:"fa fa-arrow-circle-down",style:{marginRight:"10px",fontSize:"30px"}}),"FAILED"]})}),Object(E.jsxs)(ae.a.Text,{children:[Object(E.jsx)("hr",{}),Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:"0"})})]})]})})})]}),Object(E.jsxs)("div",{style:{paddingTop:"20px",paddingRight:"5px",float:"right",paddingBottom:"35px"},children:[Object(E.jsx)(ue.a,{onClick:function(){G(!1)},className:"btn-showResult",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:" Score "})}),Object(E.jsx)(ue.a,{onClick:function(){return G(!0),void fe()},className:"btn-showResult",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:" Analysis "})}),Object(E.jsx)(ue.a,{onClick:function(){return function(){var e=Ze.a.json_to_sheet(je),t=Ze.a.book_new();Ze.a.book_append_sheet(t,e,"SheetJS"),Object(Ze.b)(t,"".concat(n,"_exam_report.xlsx"))}()},className:"btn-showResult",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:" Export "})})]}),!1===q?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{display:"flex",paddingRight:"20px"},children:Object(E.jsx)("div",{style:{float:"right",paddingTop:"35px"},children:N[0]&&(null===N||void 0===N?void 0:N.map((function(e){var t;return Object(E.jsx)(me.a,{children:Object(E.jsx)(me.a.Check,{type:"switch",name:"showAnalysis",label:"Show result",checked:null===e||void 0===e||null===(t=e.classTest)||void 0===t?void 0:t.showAnalysis,onChange:function(t){var n,a,s,c,r,i;return Ce(t,null===e||void 0===e||null===(n=e.classTest)||void 0===n?void 0:n.startDate,null===e||void 0===e||null===(a=e.classTest)||void 0===a?void 0:a.startTime,null===e||void 0===e||null===(s=e.classTest)||void 0===s?void 0:s.endDate,null===e||void 0===e||null===(c=e.classTest)||void 0===c?void 0:c.endTime,null===e||void 0===e||null===(r=e.classTest)||void 0===r?void 0:r.timeLimit,null===e||void 0===e||null===(i=e.classTest)||void 0===i||i.showAnalysis)}})})})))})}),Object(E.jsxs)(He.a,{striped:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"class-enrolled-header",children:[" Student Name"," "," ",Object(E.jsx)("i",{onClick:function(){return ne(!te),void(te?ve(J):xe(J))},className:"".concat(te?"fas fa-sort-alpha-up":"fas fa-sort-alpha-down"," td-file-page")})]})}),Object(E.jsx)("th",{children:"Grade"}),Object(E.jsx)("th",{children:"Status"}),Object(E.jsx)("th",{children:"Action"})]})}),Object(E.jsx)("tbody",{children:null===K||void 0===K?void 0:K.map((function(e){return e.studentTests.map((function(n){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)("i",{className:"fas fa-user-circle td-icon-report-person m-r-10"}),Object(E.jsxs)("span",{style:{cursor:"pointer"},onClick:function(a){t(e.student.id,he,n.test.id,e.student.lname,e.student.fname),sessionStorage.setItem("studentid",e.student.id)},children:[e.student.lname," ",e.student.fname,1==n.isSubmitted]})]}),Object(E.jsx)("td",{children:!1===n.isSubmitted?Object(E.jsx)(Qe.a,{bg:"danger",children:"Not Submitted"}):Object(E.jsxs)(E.Fragment,{children:[n.score,"/",n.rawScore]})}),Object(E.jsx)("td",{children:!1===n.isSubmitted?Object(E.jsx)(Qe.a,{bg:"danger",children:"Not Submitted"}):Object(E.jsxs)(E.Fragment,{children:[n.rawScore/2<=n.score&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Qe.a,{bg:"success",children:"PASSED"})}),n.rawScore/2>n.score&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Qe.a,{bg:"warning",children:"FAILED"})})]})}),Object(E.jsxs)("td",{children:[!1===n.isSubmitted?Object(E.jsx)("spam",{}):Object(E.jsxs)(ue.a,{style:{color:"white"},className:"tficolorbg-button",variant:"",size:"sm",onClick:function(){O(!0),v(e.student.id)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Retake"]}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:h,confirmBtnText:"Yes!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return t=n.test.classId,a=n.test.id,e.student.id,pe(t,a,x),void O(!1);var t,a},onCancel:we,focusCancelBtn:!0,children:"Retake the exam?"})]}),Object(E.jsx)("td",{})]})}))}))})]})]}):Object(E.jsx)(ot,{frequencyItem:A})]}):Object(E.jsx)("div",{onClick:function(e){return t(ie.student.id,he,Oe,ie.student.lname,ie.student.fname)},children:ie.student.lname}),Object(E.jsx)(it,{frequencyItem:A,setFrequencyModal:P,frequencyModal:B})]})};var ut=function(e){var t=e.filter,n=e.classesModules,s=e.getTestReport,c=e.selectedClassId,r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=(b[1],Object(a.useState)(!1)),O=Object(H.a)(h,2),f=(O[0],O[1],Object(a.useState)()),p=Object(H.a)(f,2),x=(p[0],p[1],Object(a.useState)([])),v=Object(H.a)(x,2),g=(v[0],v[1],function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("testModuleId",n),a=sessionStorage.getItem("testModuleId"),e.next=4,(new z).getClassTestModules(c,a);case 4:(s=e.sent).ok?d(s.data):alert("Something went wrong while fetching all courses");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),w=["Mike","Matt","Nancy","Adam","Jenny","Nancy","Nancy","Nancy","Nancy","Carl"].map((function(e){return{count:1,name:e}})).reduce((function(e,t){return e[t.name]=(e[t.name]||0)+t.count,e}),{});return Object.keys(w).filter((function(e){return w[e]>1})),m.map((function(e){return e.studentTests.map((function(e){return{count:1,isSubmitted:e.isSubmitted}})).reduce((function(e,t){return e[t.isSubmitted]=(e[t.isSubmitted]||0)+t.count,e}))})),Object(E.jsx)("div",{children:Object(E.jsx)(Je.a,{children:n.map((function(e){return Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){return g(t,e.id)},children:Object(E.jsxs)("div",{className:"unit-exam",children:[e.moduleName," "]})}),Object(E.jsx)(Je.a.Body,{children:u.filter((function(e){return e.test.testName.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){return null!==e.classTest&&Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",onClick:function(t){return s(e)},children:e.test.testName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsx)("p",{dangerouslySetInnerHTML:{__html:e.test.testInstructions}})}),Object(E.jsx)("hr",{})]})}))})]})}))})})};var dt=function(e){var t=e.getAssignmentReport,n=e.getAssignmentAnalysis,s=e.assignmentName,c=(e.selectedClassId,e.viewAssignmentReport,e.setViewAssignmentReport,e.assignmentReport),r=(e.setAssignmentReport,e.assignmentColumns,Object(a.useContext)(D).data.user),i=Object(a.useState)({}),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(!0),m=Object(H.a)(b,2),h=m[0],O=m[1],f=new URL(window.location.href).searchParams.get("classId"),p=sessionStorage.getItem("classId"),x=sessionStorage.getItem("assignmentId"),v=function(){var e=Object(l.a)(o.a.mark((function e(n,a,c){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).reTakeAssigment(f,a,c);case 2:(r=e.sent).ok?(g(),t(n,a,s)):alert(r.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(){return I.b.success("Assignment can now be retaken",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){c&&function(){var e=[];c.map((function(t,n){var a={},s="".concat(t.student.lname," ").concat(t.student.fname),c=t.studentAssignments[0].score,r=null==t.studentAssignments[0].studentAnswer?"Not Submitted":"Submitted";a["Student Name"]=s,a.Grade=c,a.Status=r,e.push(a)})),j(e)}()}),[c]),console.log("assignmentReportassignmentReportassignmentReportassignmentReport:",c);var w=function(e){null===e||void 0===e||e.sort((function(e,t){if(e.student.lname.toLocaleLowerCase()<t.student.lname.toLocaleLowerCase())return-1}))},N=function(e){null===e||void 0===e||e.sort((function(e,t){if(e.student.lname.toLocaleLowerCase()>t.student.lname.toLocaleLowerCase())return-1}))};return Object(E.jsx)(E.Fragment,{children:null===r.student?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{className:"d-flex justify-content-end",children:Object(E.jsx)(ue.a,{onClick:function(){return function(){var e=Ze.a.json_to_sheet(d),t=Ze.a.book_new();Ze.a.book_append_sheet(t,e,"SheetJS"),Object(Ze.b)(t,"".concat(s,"_assignment_report.xlsx"))}()},className:"btn-showResult",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:" Export "})})}),Object(E.jsxs)(He.a,{hover:!0,size:"lg",responsive:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"class-enrolled-header",children:[" Student Name"," "," ",Object(E.jsx)("i",{onClick:function(){return O(!h),void(h?N(c):w(c))},className:"".concat(h?"fas fa-sort-alpha-up":"fas fa-sort-alpha-down"," td-file-page")})]})}),Object(E.jsx)("th",{children:"Grade"}),Object(E.jsx)("th",{children:"Status"}),Object(E.jsx)("th",{children:"Action"})]})}),Object(E.jsx)("tbody",{children:c.map((function(e){return Object(E.jsx)("tr",{children:e.studentAssignments.map((function(t){var a;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)("i",{class:"fas fa-user-circle td-icon-report-person"}),Object(E.jsxs)("span",{style:{cursor:"pointer"},onClick:function(t){return n(t,e.student.id,p,x,e.student.lname,e.student.fname)},children:[e.student.lname,", ",e.student.fname]})]}),Object(E.jsx)("td",{children:0===t.score?Object(E.jsx)(Qe.a,{bg:"danger",children:"No Grade"}):"".concat(t.score," / ").concat(null===t||void 0===t||null===(a=t.assignment)||void 0===a?void 0:a.rate)}),Object(E.jsx)("td",{children:null===(null===t||void 0===t?void 0:t.studentAnswer)?Object(E.jsx)(Qe.a,{bg:"danger",children:"Not Submitted"}):Object(E.jsx)(Qe.a,{bg:"success",children:"Submitted"})}),Object(E.jsx)("td",{children:null===(null===t||void 0===t?void 0:t.studentAnswer)?Object(E.jsx)("span",{}):Object(E.jsxs)(ue.a,{style:{color:"white"},variant:"warning",size:"sm",onClick:function(n){var a,s;return v(n,null===t||void 0===t||null===(a=t.assignment)||void 0===a?void 0:a.id,null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.id)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Retake"]})})]})}))})}))})]})]}):Object(E.jsx)("div",{onClick:function(e){return n(e,r.student.id,p,x,r.student.lname,r.student.fname)},children:r.student.lname})})};var jt=function(e){var t=e.filter,n=(e.setFilter,e.classesModules),s=e.getAssignmentReport,c=(e.selectedClassId,e.viewAssignmentReport,e.setViewAssignmentReport,e.showAssignmentHeader,Object(a.useState)([])),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)(!1)),m=Object(H.a)(b,2),h=(m[0],m[1],Object(a.useState)(!1)),O=Object(H.a)(h,2),f=(O[0],O[1],new URL(window.location.href).searchParams.get("classId")),p=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(f),sessionStorage.setItem("assignmentModuleId",n),a=sessionStorage.getItem("assignmentModuleId"),e.next=5,(new z).getClassAssignmentModules(f,a);case 5:(s=e.sent).ok?(u(s.data),console.log(s.data)):alert("Something went wrong while fetching all courses");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsx)(Je.a,{children:n.map((function(e){return Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){return p(t,e.id)},children:Object(E.jsxs)("div",{className:"unit-exam",children:[e.moduleName," "]})}),Object(E.jsx)(Je.a.Body,{children:i.filter((function(e){return e.assignment.assignmentName.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){var n;return null!==e.classAssignment&&Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",onClick:function(t){return s(t,e.assignment.id,e.assignment.assignmentName)},children:e.assignment.assignmentName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(n=e.assignment)||void 0===n?void 0:n.instructions}})}),Object(E.jsx)(ce.a,{sm:3,className:"icon-exam"}),Object(E.jsx)("hr",{})]})}))})]})}))})})};var bt=function(e){var t=e.getTaskReport,n=e.getTaskAnalysis,s=e.taskname,c=e.taskReport,r=(e.setTaskReport,e.taskColumns,Object(a.useContext)(D).data.user),i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=(u[1],Object(a.useState)({})),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!0),f=Object(H.a)(O,2),p=f[0],x=f[1],v=new URL(window.location.href).searchParams.get("classId"),g=sessionStorage.getItem("classId"),w=sessionStorage.getItem("taskId"),N=function(){var e=Object(l.a)(o.a.mark((function e(n,a,c){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).reTakeTask(v,a,c);case 2:(r=e.sent).ok?(y(),t(n,a,s)):alert(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),y=function(){return I.b.success("Task can now be retaken",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){!function(){var e=[];c.map((function(t,n){var a={},s="".concat(t.student.lname," ").concat(t.student.fname),c=t.studentTasks[0].score,r=null==t.studentTasks[0].studentAnswer?"Not Submitted":"Submitted";a["Student Name"]=s,a.Grade=c,a.Status=r,e.push(a)})),h(e)}()}),[c]),Object(a.useEffect)((function(){k(c),C(c)}),[c]);var k=function(e){null===e||void 0===e||e.sort((function(e,t){if(e.student.lname.toLocaleLowerCase()>t.student.lname.toLocaleLowerCase())return-1}))},C=function(e){null===e||void 0===e||e.sort((function(e,t){if(e.student.lname.toLocaleLowerCase()<t.student.lname.toLocaleLowerCase())return-1}))};return!1===d?Object(E.jsx)(E.Fragment,{children:null===r.student?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{className:"d-flex justify-content-end",children:Object(E.jsx)(ue.a,{onClick:function(){return function(){var e=Ze.a.json_to_sheet(m),t=Ze.a.book_new();Ze.a.book_append_sheet(t,e,"SheetJS"),Object(Ze.b)(t,"".concat(s,"_task_report.xlsx"))}()},className:"btn-showResult",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:" Export "})})}),Object(E.jsxs)(He.a,{hover:!0,size:"lg",responsive:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"class-enrolled-header",children:[" Student Name"," "," ",Object(E.jsx)("i",{onClick:function(){return x(!p),void(p?k(c):C(c))},className:"".concat(p?"fas fa-sort-alpha-up":"fas fa-sort-alpha-down"," td-file-page")})]})}),Object(E.jsx)("th",{children:"Grade "}),Object(E.jsx)("th",{children:"Status"}),Object(E.jsx)("th",{children:"Action"})]})}),Object(E.jsx)("tbody",{children:c.map((function(e){return Object(E.jsx)("tr",{children:e.studentTasks.map((function(t){var a;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)("i",{class:"fas fa-user-circle td-icon-report-person"}),Object(E.jsxs)("span",{style:{cursor:"pointer"},onClick:function(a){return n(a,e.student.id,t.task.classId,t.task.id,e.student.lname,e.student.fname)},children:[e.student.lname,", ",e.student.fname]})]}),Object(E.jsx)("td",{children:0===t.score?Object(E.jsx)(Qe.a,{bg:"danger",children:"No Grade"}):"".concat(t.score," / ").concat(null===t||void 0===t||null===(a=t.task)||void 0===a?void 0:a.rate)}),Object(E.jsx)("td",{children:null===(null===t||void 0===t?void 0:t.studentAnswer)?Object(E.jsx)(Qe.a,{bg:"danger",children:"Not Submitted"}):Object(E.jsx)(Qe.a,{bg:"success",children:"Submitted"})}),Object(E.jsx)("td",{children:null===(null===t||void 0===t?void 0:t.studentAnswer)?Object(E.jsx)("spam",{}):Object(E.jsxs)(ue.a,{style:{color:"white"},variant:"warning",size:"sm",onClick:function(n){var a,s;return N(n,null===t||void 0===t||null===(a=t.task)||void 0===a?void 0:a.id,null===e||void 0===e||null===(s=e.student)||void 0===s?void 0:s.id)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Retake"]})})]})}))})}))})]})]}):Object(E.jsx)("div",{onClick:function(e){return n(e,r.student.id,g,w,r.student.lname,r.student.fname)},children:r.student.lname})}):null};var mt=function(e){var t=e.filter,n=e.classesModules,s=(e.selectedClassId,e.getTaskReport),c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)(!1)),m=Object(H.a)(b,2),h=(m[0],m[1],new URL(window.location.href).searchParams.get("classId")),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("testModuleId",n),a=sessionStorage.getItem("testModuleId"),e.next=4,(new z).getClassTaskModules(h,a);case 4:(s=e.sent).ok?(u(s.data),console.log(s.data)):alert("Something went wrong while fetching all courses --");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsx)(Je.a,{children:null===n||void 0===n?void 0:n.map((function(e){return Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){return O(t,e.id)},children:Object(E.jsxs)("div",{className:"unit-exam",children:[e.moduleName," "]})}),Object(E.jsx)(Je.a.Body,{children:null===i||void 0===i?void 0:i.filter((function(e){return e.task.taskName.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){return null!==e.taskAssignment&&Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",onClick:function(t){return s(t,e.task.id,e.task.taskName)},children:e.task.taskName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:e.task.instructions}})}),Object(E.jsx)(ce.a,{sm:3,className:"icon-exam"}),Object(E.jsx)("hr",{})]})}))})]})}))})})};var ht=function(e){var t=e.interactiveName,n=(e.showInteractiveHeader,e.classesModules,e.setClassesModules,e.selectedClassId,e.viewInteractiveReport,e.interactiveReport),s=(e.setinteractiveReport,e.showReportHeader,e.setShowReportHeader,Object(a.useState)(!1)),c=Object(H.a)(s,2),r=(c[0],c[1],Object(a.useState)({})),i=Object(H.a)(r,2),o=i[0],l=i[1];Object(a.useEffect)((function(){!function(){var e=[];n.map((function(t,n){var a={},s="".concat(t.student.lname," ").concat(t.student.fname),c=t.interactiveResults[0].grade,r=null==c?"Not Submitted":c;a["Student Name"]=s,a.Grade=r,e.push(a)})),l(e)}()}),[n]),sessionStorage.getItem("classId");var u=Object(a.useState)([]),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!0),h=Object(H.a)(m,2),O=h[0],f=h[1];Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){p(n),x(n)}),[n]);var p=function(e){var t=null===e||void 0===e?void 0:e.sort((function(e,t){if(e.student.lname.toLocaleLowerCase()>t.student.lname.toLocaleLowerCase())return-1}));console.log(t,"111111"),b(t)},x=function(e){var t=null===e||void 0===e?void 0:e.sort((function(e,t){if(console.log(e,"herererereherererereherererere TRUE"),e.student.lname.toLocaleLowerCase()<t.student.lname.toLocaleLowerCase())return-1}));console.log(t,"2222"),b(t)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{className:"d-flex justify-content-end",children:Object(E.jsx)(ue.a,{onClick:function(){return function(){var e=Ze.a.json_to_sheet(o),n=Ze.a.book_new();Ze.a.book_append_sheet(n,e,"SheetJS"),Object(Ze.b)(n,"".concat(t,"_interactive_report.xlsx"))}()},className:"btn-showResult m-b-20",size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:" Export "})})}),Object(E.jsxs)(He.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"class-enrolled-header",children:[" Student Name"," "," ",Object(E.jsx)("i",{onClick:function(){return f(!O),void(O?p(n):x(n))},className:"".concat(O?"fas fa-sort-alpha-up":"fas fa-sort-alpha-down"," td-file-page")})]})}),Object(E.jsx)("th",{children:"Score"})]})}),Object(E.jsx)("tbody",{children:j.map((function(e){return e.interactiveResults.map((function(t){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{children:[Object(E.jsx)("i",{class:"fas fa-user-circle td-icon-report-person"}),e.student.fname]}),null!==t.averageScore||null!==t.easyScore||null!==t.hardScore?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("td",{children:[Object(E.jsxs)(Qe.a,{bg:"success",children:["Easy Score: \xa0 ",null==t.easyScore?Object(E.jsx)(E.Fragment,{children:"0"}):Object(E.jsx)(E.Fragment,{children:t.easyScore})]}),"\xa0",Object(E.jsxs)(Qe.a,{bg:"success",children:["Normal Score: \xa0",null==t.averageScore?Object(E.jsx)(E.Fragment,{children:"0"}):Object(E.jsx)(E.Fragment,{children:t.averageScore})]}),"\xa0",Object(E.jsxs)(Qe.a,{bg:"success",children:["Challenging Score: \xa0",null==t.hardScore?Object(E.jsx)(E.Fragment,{children:"0"}):Object(E.jsx)(E.Fragment,{children:t.hardScore})]})]})}):Object(E.jsx)(E.Fragment,{}),null!==t.noDifficultyScore?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("td",{children:Object(E.jsx)(Qe.a,{bg:"success",children:t.noDifficultyScore})})}):Object(E.jsx)(E.Fragment,{}),null!==t.noDifficultyScore||null!==t.averageScore||null!==t.easyScore||null!==t.hardScore?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("td",{children:Object(E.jsx)(Qe.a,{bg:"danger",children:"Not Submitted"})})})]})}))}))})]})]})};var Ot=function(e){var t=e.filter,n=(e.setFilter,e.classesModules),s=e.getInteractiveReport,c=(e.selectedClassId,e.viewInteractiveReport,e.setViewInteractiveReport,e.setShowInteractiveHeader,e.showInteractiveHeader,Object(a.useState)([])),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)(!1)),m=Object(H.a)(b,2),h=(m[0],m[1],new URL(window.location.href).searchParams.get("classId")),O=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("interactiveModuleId",n),a=sessionStorage.getItem("interactiveModuleId"),e.next=4,(new z).getClassInteractiveModules(h,a);case 4:(s=e.sent).ok?(u(s.data),console.log(s.data)):alert("Something went wrong while fetching all courses");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return console.log("interactivePerModule:",i),Object(E.jsx)("div",{children:Object(E.jsx)(Je.a,{children:n.map((function(e){return Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){return O(t,e.id)},children:Object(E.jsxs)("div",{className:"unit-exam",children:[e.moduleName," "]})}),Object(E.jsx)(Je.a.Body,{children:i.filter((function(e){var n;return null===(n=e.interactive)||void 0===n?void 0:n.interactiveName.toLowerCase().includes(t.toLowerCase())})).map((function(e,t){var n;return null!==e.classInteractiveAssignment&&Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",onClick:function(t){var n,a;return s(t,null===(n=e.interactive)||void 0===n?void 0:n.id,null===(a=e.interactive)||void 0===a?void 0:a.interactiveName)},children:null===(n=e.interactive)||void 0===n?void 0:n.interactiveName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam"}),Object(E.jsx)("hr",{})]})}))})]})}))})})};function ft(e){var t=e.children,n=Object(a.useContext)(D).data.user,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(null),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=b[0],h=b[1],O=window.location.pathname,f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=n.subsType;Object(a.useEffect)((function(){var e=new URL(window.location.href).searchParams.get("classId");if(h(e),n.isStudent)return window.location.href="/404"}),[]),Object(a.useEffect)((function(){"Teacher"===n.role?w():"Student"===n.role&&N()}),[]);var w=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(new z).getClasses(n.teacher.id);case 3:(t=e.sent).ok?(i(t.data),v(!1)):(alert("Something went wrong while fetching all courses"),v(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(new z).getClasses(n.student.id);case 3:(t=e.sent).ok?(i(t.data),v(!1)):(alert("Something went wrong while fetching all courses"),v(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(te,{activeHeader:"reports",fluid:!0,style:"",children:[x&&Object(E.jsx)(ee,{}),Object(E.jsx)(ce.a,{style:{height:100}}),Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:3,children:[Object(E.jsx)(ze.a.Item,{className:"list-group-item-o",children:Object(E.jsxs)(me.a.Select,{value:m,onChange:function(e){return function(e){v(!0);var t=new URL(window.location);t.searchParams.set("classId",e),window.history.pushState(null,"",t.toString()),h(e),v(!1),"/reports"!==window.location.pathname&&(window.location.reload(),v(!1))}(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"-- Select Class Here --"}),r.map((function(e){return Object(E.jsxs)("option",{value:null===e||void 0===e?void 0:e.classId,children:[" ",null===e||void 0===e?void 0:e.className]})}))]})}),Object(E.jsx)(ze.a,{style:{paddingLeft:"15px"},children:"Interactives"==g?Object(E.jsx)(F.b,{className:O.includes("reports/interactive")?"active-nav-item":"nav-item",to:m?"/reports/interactive?classId=".concat(m):"/reports",children:"Interactive"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:O.includes("reports/exam")?"active-nav-item":"nav-item",to:m?"/reports/exam?classId=".concat(m):"/reports",children:"Exam"}),Object(E.jsx)(F.b,{className:O.includes("reports/assignment")?"active-nav-item":"nav-item",to:m?"/reports/assignment?classId=".concat(m):"/reports",children:"Assignment"}),Object(E.jsx)(F.b,{className:O.includes("reports/task")?"active-nav-item":"nav-item",to:m?"/reports/task?classId=".concat(m):"/reports",children:"Task"}),Object(E.jsx)(F.b,{className:O.includes("reports/interactive")?"active-nav-item":"nav-item",to:m?"/reports/interactive?classId=".concat(m):"/reports",children:"Interactive"})]})})]}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-90 pb-5 pl-20",children:t})]})]})}function pt(e){e.moduleInfo;var t=e.setModuleInfo,n=e.openCreateUnitModal,s=e.setOpenCreateUnitModal,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=sessionStorage.getItem("courseid"),N=function(e){e.preventDefault(),s(!1)},y=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getCourseUnit(w);case 3:a=e.sent,i(!1),a.ok?(t(a.data),console.log(a.data)):alert("Something went wrong while fetching course unit111111");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(!0),n=sessionStorage.getItem("courseid"),e.next=5,(new Oe).createCourseUnit(n,{moduleName:j,moduleDescription:O,courseId:n,sequenceNo:v});case 5:(a=e.sent).ok?(I.b.success("Successfully Added Module!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),N(t),y()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return s(!s)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Module"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:k,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"moduleName",children:"Module Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter module name",onChange:function(e){return b(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Module Description"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter module description",onChange:function(e){return f(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence Number"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"number",placeholder:"Enter sequence",onChange:function(e){return g(e.target.value)}})]})," ",Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Add Module"})})]})})]})})}var xt="equation",vt="rich-text",gt="{{type=equation}}",wt={moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"],align:"left",buttonsVisible:3},moreParagraph:{buttons:["alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote"],align:"left",buttonsVisible:3},moreRich:{buttons:["insertLink","insertImage","insertVideo","insertTable","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR"],align:"left",buttonsVisible:3},moreMisc:{buttons:["undo","redo","fullscreen","print","getPDF","spellChecker","selectAll","html","help"],align:"right",buttonsVisible:2}},Nt=function(e){var t=e.inputType,n=e.value,a=e.placeholder,s=e.onChange;switch(console.log(t),t){case xt:return Object(E.jsx)(Ke.a,{className:"custom-input",size:"lg",value:n.split(gt)[1]||"",placeholder:a,autoCommands:"pi theta sqrt sum prod alpha beta gamma rho",autoOperatorNames:"sin cos tan",onChange:function(e){return s("".concat(gt).concat(e))}});case vt:return Object(E.jsx)($e.a,{value:n,model:n,config:{key:v.FROALA_LICENSE,placeholderText:a,charCounterCount:!1,pluginsEnabled:["fullscreen","codeBeautifier","table","image","link","lists","paragraphFormat","paragraphStyle","lineHeight","indent","outdent","quickInsert","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR","customButtons","inlineClass","inlineStyle","colors","customStyles","fontSize","fontFamily"],imageUpload:!1,imagePaste:!0,imagePasteProcess:!0,imageInsertButtons:["imageBack","|","imageByURL"],toolbarButtons:wt,toolbarButtonsMD:wt,toolbarButtonsSM:wt,toolbarButtonsXS:wt},onModelChange:s});default:return Object(E.jsx)("div",{class:"form-group",children:Object(E.jsx)("textarea",{class:"form-control",placeholder:"Enter content here",value:n,id:"exampleFormControlTextarea1",rows:"6",onChange:function(e){return s(e.target.value)}})})}};function yt(e){var t=Object(a.useState)(e.value.includes(gt)?e.value:vt),n=Object(H.a)(t,2),s=n[0],c=n[1],r=function(t){if(t===xt)console.log({type:t}),e.onChange(e.value);else e.onChange(e.value);c(t)};return Object(a.useEffect)((function(){if(e.value.includes(gt))return c(xt)}),[]),console.log(s,"----"),Object(E.jsxs)("div",{className:e.className,children:[Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)(me.a.Check,{inline:!0,label:"Text Editor",type:"radio",value:"",checked:""===s,onChange:function(e){return r(e.target.value)}}),Object(E.jsx)(me.a.Check,{inline:!0,label:"Rich Text Editor",type:"radio",value:"rich-text",checked:s===vt,onChange:function(e){return r(vt)}})]},"inline-radio"),Object(E.jsx)(Nt,Object(m.a)(Object(m.a)({},e),{},{inputType:s}))]})}var kt=n(916),Ct=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).newCourseFile=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/course/".concat(n.id,"/file"),method:"POST",data:n.data}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.newTeacherResourceFile=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/course/".concat(n.id,"/resource"),method:"POST",data:n.data}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTeacherResources=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/resource/v3"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateTeacherResource=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/".concat(a,"/").concat(n,"/resource/v3/update"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getCourseFiles=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/files/v3"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.newClassFile=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/class/".concat(n.id,"/file"),method:"POST",data:n.data}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClassFiles=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/files/v3"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getAllClassFiles=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/files",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.getAllCourseFiles=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/files",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.deleteClassFile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/files/v3/delete"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getFilesForCourse=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/files"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteCourseFile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/files/v3/delete"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteCourseTeacherResourceFile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/resource/v3/delete"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteCourseTeacherResourceFolder=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/resource/folder/v3/delete"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editClassFile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/files/v3/update"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editCourseFile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/files/v3/update"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.editTeacherResourceFile=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/resource/v3/update"),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createCourseFolder=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/course/".concat(n,"/file/folder"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createCLassFolder=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/class/".concat(n,"/file/folder"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createTeacherResourceFolder=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/course/".concat(n,"/resource/folder"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.updateFolderName=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/".concat(a,"/").concat(n,"/folder/v3/update"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.deleteFolder=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/".concat(a,"/").concat(n,"/folder/v3/delete"),method:"PUT",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.ebooksFiles=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/files/ebooks/v3"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.uploadImageAnnouncment=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Upload/user/".concat(n.id,"/file"),method:"POST",data:n.data}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAddminFiles=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n,"/files/v3"),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(N);var St=function(e){var t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(!1),D=Object(H.a)(A,2),L=D[0],M=(D[1],u.filter((function(e){return 100!=e.progress})));console.log(e.subFolder,"heeeeeeeere");var F=function(e){""!=e&&Object.values(e).map((function(e,t){if(e.size<=25e6){console.log(e,t);B(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0};u.push(n),d(Object(Te.a)(u))}))}else I.b.error("Please select a file below 25mb.")}))},B=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},P=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(!0),"Course"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),0!=n.progress){t.next=9;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=7,(new Ct).newCourseFile(r);case 7:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),O(0==l.length),v(0!=l.length)):(c(!1),d([]),O(!1),v(!1),I.b.error(null===(j=i.data)||void 0===j?void 0:j.errorMessage.replace("distributor","contributor")));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"Class"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newClassFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),O(0==l.length),v(0!=l.length)):(c(!1),d([]),O(!1),v(!1),I.b.error(null===(j=i.data)||void 0===j?void 0:j.errorMessage.replace("distributor","contributor")));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(e){var t=u;t.splice(e,1),d(Object(Te.a)(t))},Y=function(){c(!1),d([]),e.doneUpload(),O(!1),v(!1),v(!1)},R=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Course"!=e.type){t.next=6;break}return n={folderName:S,subFolderLocation:e.subFolder},t.next=4,(new Ct).createCourseFolder(e.id,n);case 4:(a=t.sent).ok?(console.log(a,"herrrrrrrree"),e.doneUpload(),y(!1)):I.b.error("Something went wrong while creating folder.");case 6:if("Class"!=e.type){t.next=12;break}return s={folderName:S,subFolderLocation:e.subFolder},t.next=10,(new Ct).createCLassFolder(e.id,s);case 10:(c=t.sent).ok?(console.log(c,"herrrrrrrree"),e.doneUpload(),y(!1)):I.b.error("Something went wrong while creating folder.");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{flexDirection:"row",paddingLeft:0},className:"pages-header file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Upload files"}))},children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return c(!0)},children:" + Upload Files  "})})})})]}),Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload File"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Choose files"}))},children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return F(e.target.files)}})]}),Object(E.jsx)(ce.a,{className:"d-flex align-items-center",children:Object(E.jsx)("p",{children:"Maximum file size: 25 MB."})}),Object(E.jsx)("p",{className:"font-13 mb-0",children:".pptx, .docx, .xlsx, .ppt, .doc, .xls, .pdf, .jpeg, .jpg, .png"})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return z(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",disabled:0==M.length,className:"file-library file-button-upload mx-3",onClick:function(){return P()},children:x?"Uploading...":"Upload"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:h?"file-library file-button-upload":"d-none",onClick:function(){return Y()},children:"Done"})]})]}),Object(E.jsxs)(be.a,{size:"lg",show:N,onHide:function(){return y(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Folder"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(de.a,{size:"lg",children:Object(E.jsx)(je.a,{onChange:function(e){return T(e.target.value)},className:"mb-2","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Enter folder name"})}),L?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return F(e.target.files)}})]})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return z(t)}})]})]},e.fileName)}))})]})]}):Object(E.jsx)(E.Fragment,{}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:L?"d-none":"file-library file-button-upload",onClick:function(){return R()},children:"Save"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:h?"file-library file-button-upload":"d-none",onClick:function(){return Y()},children:"Done"})]})]})]})};var Tt=function(e){var t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),D=A[0],L=(A[1],u.filter((function(e){return 100!=e.progress})));console.log(e.subFolder,"heeeeeeeere");var M=function(e){""!=e&&Object.values(e).map((function(e,t){if(e.size<=25e6){console.log(e,t);F(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0};u.push(n),d(Object(Te.a)(u))}))}else I.b.error("Please select a file below 25mb.")}))},F=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},B=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(!0),"Course"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newCourseFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(c(!1),d([]),h(!1),x(!1),I.b.error(null===(j=i.data)||void 0===j||null===(b=j.errorMessage)||void 0===b?void 0:b.replace("distributor","contributor")));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"Class"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newClassFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(c(!1),d([]),h(!1),x(!1),I.b.error(null===(j=i.data)||void 0===j||null===(b=j.errorMessage)||void 0===b?void 0:b.replace("distributor","contributor")));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"AdminFiles"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).uploadImageAnnouncment(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(c(!1),d([]),h(!1),x(!1),I.b.error(null===(j=i.data)||void 0===j||null===(b=j.errorMessage)||void 0===b?void 0:b.replace("distributor","contributor")));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(e){var t=u;t.splice(e,1),d(Object(Te.a)(t))},z=function(){c(!1),d([]),e.doneUpload(),h(!1),x(!1),x(!1)},Y=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Course"!=e.type){t.next=6;break}return n={folderName:C,subFolderLocation:e.subFolder},t.next=4,(new Ct).createCourseFolder(e.id,n);case 4:(a=t.sent).ok?(console.log(a,"herrrrrrrree"),e.doneUpload(),N(!1)):I.b.error("Something went wrong while creating folder.");case 6:if("Class"!=e.type){t.next=12;break}return s={folderName:C,subFolderLocation:e.subFolder},t.next=10,(new Ct).createCLassFolder(e.id,s);case 10:(c=t.sent).ok?(console.log(c,"herrrrrrrree"),e.doneUpload(),N(!1)):I.b.error("Something went wrong while creating folder.");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{flexDirection:"row",paddingLeft:0},className:"pages-header file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return c(!0)},children:" + Upload Files  "})})})]}),Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload File"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return M(e.target.files)}})]}),Object(E.jsx)(ce.a,{className:"d-flex align-items-center",children:Object(E.jsx)("p",{children:"Maximum file size: 25 MB."})}),Object(E.jsx)("p",{className:"font-13 mb-0",children:".pptx, .docx, .xlsx, .ppt, .doc, .xls, .pdf, .jpeg, .jpg, .png"})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return P(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",disabled:0==L.length,className:"file-library file-button-upload mx-3",onClick:function(){return B()},children:p?"Uploading...":"Upload"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:m?"file-library file-button-upload":"d-none",onClick:function(){return z()},children:"Done"})]})]}),Object(E.jsxs)(be.a,{size:"lg",show:w,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Folder"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(de.a,{size:"lg",children:Object(E.jsx)(je.a,{onChange:function(e){return S(e.target.value)},className:"mb-2","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Enter folder name"})}),D?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return M(e.target.files)}})]})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return P(t)}})]})]},e.fileName)}))})]})]}):Object(E.jsx)(E.Fragment,{}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:D?"d-none":"file-library file-button-upload",onClick:function(){return Y()},children:"Save"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:m?"file-library file-button-upload":"d-none",onClick:function(){return z()},children:"Done"})]})]})]})};function At(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(B.useParams)().id,r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),h=b[0],O=b[1],f=null===h||void 0===h?void 0:h.map((function(e){return"/".concat(null===e||void 0===e?void 0:e.value)}));Object(a.useEffect)((function(){p("")}),[]);var p=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getCourseFiles(c,n);case 3:(a=e.sent).ok?(s(null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.files),d(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.folders)):alert("Something went wrong while fetching Course files.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){navigator.clipboard.writeText(e),I.b.success("File link copied to clipboard.")};return Object(E.jsxs)("div",{children:[Object(E.jsx)(Tt,{type:"Course",title:"Files",id:c,subFolder:f.join(""),doneUpload:function(){return p()}}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){p(""),O([])},className:0!=h.length?"colored-class-task":"fix-color-bread",children:"Files"}),null===h||void 0===h?void 0:h.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t){f.length=t+1,h.length=t+1,p(f.join(""))}(null===e||void 0===e||e.value,t)},className:h.length==t+1?"fix-color-bread":"colored-class-task",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",null===e||void 0===e?void 0:e.name]})}))]}),null===n||void 0===n?void 0:n.map((function(e,t){var n;return console.log(e),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:(null===e||void 0===e||null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Object(E.jsx)("img",{src:null===e||void 0===e?void 0:e.pathBase.replace("http:","https:"),onClick:function(){return x(null===e||void 0===e?void 0:e.pathBase)},className:"p-1",alt:null===e||void 0===e?void 0:e.name,height:30,width:30},t+(null===e||void 0===e?void 0:e.name)):Object(E.jsx)("i",{className:"fas fa-sticky-note",onClick:function(){return x(null===e||void 0===e?void 0:e.pathBase)},style:{paddingRight:5}})})})),null===u||void 0===u?void 0:u.map((function(e){return Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:null===e||void 0===e?void 0:e.name}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open",onClick:function(){return function(e){var t={name:e,value:e};h.push(t),O(h),p("".concat(f.join(""),"/").concat(e))}(null===e||void 0===e?void 0:e.name)},title:"",style:{height:30,width:30}})})}))]})}function It(e){var t=e.openCreateLessonModal,n=e.setCreateLessonModal,s=e.setLessonInfo,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(null),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)([]),N=Object(H.a)(w,2),y=(N[0],N[1]),k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)([]),D=Object(H.a)(A,2),L=(D[0],D[1]),M=Object(a.useState)(!1),F=Object(H.a)(M,2),P=F[0],z=F[1],Y=Object(B.useParams)().id,R=sessionStorage.getItem("courseid"),q=sessionStorage.getItem("moduleid");console.log("courseId:",Y);var G=function(e){n(!1)},U=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getCourseUnitPages(R,q);case 3:c=e.sent,i(!1),c.ok?(s(c.data),console.log(c.data)):alert("Something went wrong while fetching all pages");case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),z(!0),setTimeout((function(){return z(!1)}),1e3),null!=O){e.next=7;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=13;break;case 7:return i(!0),e.next=10,(new Oe).createLesson(R,sessionStorage.getItem("moduleid"),{pageName:j,sequenceNo:O,content:v});case 10:(n=e.sent).ok?(G(),_(),U(R,q),g(""),f(null),b("")):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){return I.b.success("Successfully saved lesson!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){J()}),[]);var J=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ct).getCourseFiles(Y);case 2:(t=e.sent).ok?(y(t.data.files),L(t.data.folders)):alert("Something went wrong while fetching class files111111111111 ;;.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(e){return G()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Lesson / Page"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:V,children:[Object(E.jsx)("div",{className:S?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Page Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter lesson name",onChange:function(e){return b(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence Number"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"number",placeholder:"Enter sequence number",onChange:function(e){return f(e.target.value)}})]})," ",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2 tficolorbg-button",onClick:function(){return T(!S)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{children:"Content"}),Object(E.jsx)(yt,{value:v,placeholder:"Enter content here",onChange:function(e){return g(e)}})]})," ",Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:P,className:"tficolorbg-button",type:"submit",children:"Save Lesson"})})]})})]})})}function Et(e){var t=e.lessonId,n=e.setSequenceNo,s=e.setPageName,c=e.setContent,r=e.content,i=e.pageName,u=e.sequenceNo,d=e.openEditLessonModal,j=e.setOpenEditLessonModal,b=(e.selectedLesson,e.setLessonInfo),m=Object(a.useState)(!1),h=Object(H.a)(m,2),O=(h[0],h[1]),f=Object(a.useState)([]),p=Object(H.a)(f,2),x=(p[0],p[1]),v=Object(a.useState)([]),g=Object(H.a)(v,2),w=g[0],N=(g[1],Object(a.useState)(!1)),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=(T[0],T[1],sessionStorage.getItem("courseid")),D=sessionStorage.getItem("moduleid"),L=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==i&&"{{type=equation}}"!==r&&null!==u){e.next=5;break}I.b.error("Please fill out all fields!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 5:return O(!0),e.next=8,(new Oe).editLesson(t,{pageName:i,sequenceNo:u,content:r});case 8:(s=e.sent).ok?(I.b.success("Successfully updated lesson!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),F(),console.log(F()),M(A,D),j(!1)):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),O(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),sessionStorage.setItem("moduleid",n),sessionStorage.setItem("modulename",a),e.next=5,(new Oe).getCourseUnitPages(A,n);case 5:s=e.sent,O(!1),s.ok?(b(s.data),console.log(s.data)):alert("Something went wrong while fetching all pages");case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,(new Oe).getCourseUnitPages(A,D);case 3:s=e.sent,O(!1),s.ok?(x(s.data),console.log(s.data,"=====================")):alert("Something went wrong while fetching all pages");case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return console.log("displayFiles",w),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"xl",className:"modal-all",show:d,onHide:function(){j(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Lesson / Page"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:L,children:[Object(E.jsx)("div",{className:k?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Page Name"}),Object(E.jsx)(me.a.Control,{defaultValue:i,className:"custom-input",size:"lg",type:"text",placeholder:"Enter lesson name",onChange:function(e){return s(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence Number"}),Object(E.jsx)(me.a.Control,{defaultValue:u,className:"custom-input",size:"lg",type:"number",placeholder:"Enter sequence number",onChange:function(e){return n(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2 tficolorbg-button",onClick:function(){return C(!k)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{children:"Content"}),Object(E.jsx)(yt,{value:r,placeholder:"Enter content here",onChange:function(e){return c(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Lesson"})})]})})]})})}function Dt(e){var t,n=e.courseInfo,s=(e.setCourseInfo,e.moduleInfo,e.setModuleInfo,e.lessonContent),c=(e.setLessonContent,Object(a.useState)(!1)),r=Object(H.a)(c,2),i=(r[0],r[1],sessionStorage.getItem("modulename"));return"Techfactors Inc."===n.authorName?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"",children:s.pageName}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"",children:Object(E.jsx)("small",{children:i})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{position:"relative"},dangerouslySetInnerHTML:{__html:s.content}})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:s.pageName}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"course-subtitle",children:Object(E.jsx)("small",{children:i})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{position:"relative"},dangerouslySetInnerHTML:{__html:null===s||void 0===s||null===(t=s.content)||void 0===t?void 0:t.replace(/\n/g,"<br />")}})]})}function Lt(e){var t=e.title,n=e.clicked,a=(sessionStorage.getItem("breadname"),window.location.pathname.split("/")[3]);return Object(E.jsx)("div",{className:"row font-20",children:Object(E.jsxs)("div",{className:"bread-margin bread-crumbs-position",children:[Object(E.jsxs)("span",{children:[Object(E.jsx)(F.b,{className:"text-decoration-none text-black",to:"/courses",children:"Courses"})," ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})]}),Object(E.jsxs)("span",{className:""==t?"tfi-font-color capitalize":"capitalize",onClick:n,children:[a," "]}),""!==t&&Object(E.jsxs)("span",{className:""!==t?"tfi-font-color":"",children:[Object(E.jsx)("i",{class:"text-black fas fa-chevron-right m-l-10 m-r-10"}),t]})]})})}var Mt=function(e){var t=e.setEditModuleModal,n=e.editModuleModal,a=e.moduleName,s=e.moduleDescription,c=e.sequenceNo,r=e.moduleId,i=e.setModuleName,u=e.setModuleDescription,d=e.setSequenceNo,j=e.setModuleId,b=e.getCourseUnitInformation,m=function(){i(""),u(""),d(""),j(""),t(!1)},h=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new Oe).updateModule(r,{moduleName:a,moduleDescription:s,sequenceNo:c});case 3:(n=e.sent).ok?(O(""),b(),m()):alert(n.data.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return I.b.success("Successfully Updated lesson!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return m()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Module"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:h,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"moduleName",children:"Module Name"}),Object(E.jsx)(me.a.Control,{defaultValue:a,className:"custom-input",size:"lg",type:"text",placeholder:"Enter module name",onChange:function(e){return i(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Module Description"}),Object(E.jsx)(me.a.Control,{defaultValue:s,className:"custom-input",size:"lg",type:"text",placeholder:"Enter module description",onChange:function(e){return u(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence Number"}),Object(E.jsx)(me.a.Control,{defaultValue:c,className:"custom-input",size:"lg",type:"number",placeholder:"Enter sequence",onChange:function(e){return d(e.target.value)}})]})," ",Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Edit Module"})})]})})]})})};function Ft(){var e=Object(B.useParams)().id,t=Object(a.useState)(!1),n=Object(H.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(!1),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(null),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)([]),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)([]),M=Object(H.a)(L,2),P=M[0],z=M[1],Y=Object(a.useState)(!1),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(!1),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)(""),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(""),$=Object(H.a)(X,2),te=$[0],ae=$[1],ie=Object(a.useState)(!1),le=Object(H.a)(ie,2),be=le[0],me=le[1],he=Object(a.useState)([]),fe=Object(H.a)(he,2),pe=fe[0],xe=fe[1],ve=Object(a.useState)(""),ge=Object(H.a)(ve,2),we=ge[0],Ne=ge[1],ye=Object(a.useState)(""),ke=Object(H.a)(ye,2),Ce=ke[0],Se=ke[1],Te=Object(a.useContext)(D).data.user,Ae=Object(a.useState)(""),Ie=Object(H.a)(Ae,2),Ee=Ie[0],De=Ie[1],Le=Object(a.useState)(""),Me=Object(H.a)(Le,2),Fe=Me[0],Be=Me[1],He=Object(a.useState)(null),Pe=Object(H.a)(He,2),ze=Pe[0],Re=Pe[1],qe=Object(a.useState)(""),Ge=Object(H.a)(qe,2),Ue=Ge[0],Ve=Ge[1],_e=Object(a.useState)(!1),Qe=Object(H.a)(_e,2),Ze=Qe[0],We=Qe[1],Ke=Object(a.useState)(""),Xe=Object(H.a)(Ke,2),$e=Xe[0],et=Xe[1],tt=Object(a.useState)(""),nt=Object(H.a)(tt,2),at=nt[0],st=nt[1],ct=Object(a.useState)(""),rt=Object(H.a)(ct,2),it=rt[0],ot=rt[1],lt=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),ut=Object(a.useState)(!0),dt=Object(H.a)(ut,2),jt=dt[0],bt=dt[1],mt=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getContributor(e);case 2:(n=t.sent).ok&&(a=n.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==Te.userId})),bt(!!s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ht=function(e,t,n,a){et(a),st(n),Re(t),ot(e),We(!0)},Ot=function(){f(!O)},ft=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),sessionStorage.setItem("moduleid",a),sessionStorage.setItem("modulename",s),t.next=5,(new Oe).getCourseUnitPages(e,a);case 5:c=t.sent,r(!1),c.ok?A(c.data):alert("Something went wrong while fetching all pages");case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),xt=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,(new Oe).getCourseInformation(e);case 3:a=t.sent,r(!1),a.ok?ae(a.data):I.b.error("Something went wrong while fetching course information");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),vt=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,(new Oe).getCourseUnit(e);case 3:(a=t.sent).ok?(r(!1),xe(a.data)):I.b.error("Something went wrong while fetching course unit");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),gt=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteLesson(t);case 2:e.sent.ok?(yt(),G(!1),ft(null,lt)):alert("Something went wrong while fetching all pages");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteModule(t);case 2:(n=e.sent).ok?(kt(),J(!1),vt()):alert(n.date.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Se(c),r(!0),me(!0),t.next=5,(new Oe).getCourseUnitPagesContent(e,a,s);case 5:i=t.sent,r(!1),i.ok?z(i.data):alert("Something went wrong while fetching all courses");case 8:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){mt(),vt(),xt()}),[]);var yt=function(){return I.b.error("Successfully Deleted Lesson!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},kt=function(){return I.b.error("Successfully Deleted Module!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Ct=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},St=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Ye,{children:[c&&Object(E.jsx)(ee,{}),Object(E.jsx)(Lt,{title:Ce,clicked:function(){return me(!1),void Se("")}}),be?Object(E.jsx)(Dt,{courseInfo:te,setCourseInfo:ae,setLessonContent:z,lessonContent:P}):Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsxs)("div",{className:"content-pane-title col-md-10 pages-header",children:["Learn",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return vt()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),jt&&Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:function(){j(!d)},children:[Object(E.jsx)("i",{className:"fa fa-plus pt-10"})," Add Module"]}),Object(E.jsx)(pt,{moduleInfo:pe,setModuleInfo:xe,openCreateUnitModal:d,setOpenCreateUnitModal:j})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search module or lesson here",type:"search",onChange:function(e){return t=e.target.value,void K(t);var t}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Et,{sequenceNo:ze,pageName:Fe,content:Ee,lessonId:Ue,setContent:De,setPageName:Be,setSequenceNo:Re,setSelectedLesson:k,selectedLesson:y,setLessonInfo:A,openEditLessonModal:v,setOpenEditLessonModal:g}),Object(E.jsx)(It,{openCreateLessonModal:O,setCreateLessonModal:f,selectedLesson:y,setSelectedLesson:k,setLessonInfo:A}),Object(E.jsxs)(Je.a,{defaultActiveKey:"0",children:[pe.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){ft(t,e.id,e.moduleName)},children:Object(E.jsxs)("span",{className:"unit-title",children:[e.moduleName,jt&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:Ot,children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add Lesson"]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(F.b,{to:"#",onClick:function(){return ht(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.sequenceNo,null===e||void 0===e?void 0:e.moduleDescription,null===e||void 0===e?void 0:e.moduleName)},children:" Edit "})})," |",Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(F.b,{to:"#",onClick:function(){return function(e){Ne(e),J(!0)}(e.id)},children:" Delete "})})]})]})]})}),Object(E.jsx)(Je.a.Body,{children:T.filter((function(e){return e.pageName.toLowerCase().includes(W.toLowerCase())})).map((function(e,t){return Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"lesson-header",md:9,onClick:function(t){return Nt(t,lt,e.id,null===e||void 0===e?void 0:e.pageName)},children:Object(E.jsx)("p",{className:"lessonName",children:null===e||void 0===e?void 0:e.pageName})}),jt&&Object(E.jsxs)(ce.a,{className:"align-right-content",md:3,children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Ct,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(t){return function(e,t,n,a,s){e.preventDefault(),De(t),Be(n),Re(a),Ve(s),g(!v)}(t,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.pageName,null===e||void 0===e?void 0:e.sequenceNo,null===e||void 0===e?void 0:e.id)},children:Object(E.jsx)("i",{className:"fa fa-edit"})},e.id)}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:St,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(){return function(e){Ne(e),G(!0)}(e.id)},children:Object(E.jsx)("i",{className:"fa fa-trash"})})})]})]})}))})]})})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:q,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return gt(we)},onCancel:function(){G(!1)},focusCancelBtn:!0,children:"You will not be able to recover this Lesson!"}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:_,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return wt(we)},onCancel:function(){J(!1)},focusCancelBtn:!0,children:"You will not be able to recover this Module!"})]}),Object(E.jsx)(Mt,{moduleName:$e,moduleDescription:at,sequenceNo:ze,moduleId:it,setModuleName:et,setModuleDescription:st,setEditModuleModal:We,setSequenceNo:Re,editModuleModal:Ze,setModuleId:ot,getCourseUnitInformation:vt,toggleModelEditModule:ht})]})]})}function Bt(e){e.examInfo;var t=e.setExamInfo,n=e.openEditExamModal,s=e.setOpenEditExamModal,c=e.selectedExam,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=(i[0],i[1]),d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),C=function(){s(!1),O(""),y(!1)},S=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.next=4,(new Oe).editExam(null===c||void 0===c?void 0:c.id,{testName:h,testInstructions:x});case 4:(n=e.sent).ok?(C(),A(),T(null,k)):I.b.error(n.data.errorMessage||"Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(new Oe).getExamInformation(a);case 3:s=e.sent,u(!1),s.ok?(t(s.data),console.log(s.data)):alert("Something went wrong while fetching all exam");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){null!==c&&(O(null===c||void 0===c?void 0:c.testName),v(null===c||void 0===c?void 0:c.testInstructions))}),[c]);var A=function(){return I.b.success("Successfully updated the exam!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return C()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Exam"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:S,children:[Object(E.jsx)("div",{className:N?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Exam Name"}),Object(E.jsx)(me.a.Control,{defaultValue:null===c||void 0===c?void 0:c.testName,className:"custom-input",size:"lg",type:"text",placeholder:"Enter exam name",onChange:function(e){return O(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return y(!N)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Exam Instructions"}),Object(E.jsx)(ct,{value:x,placeholder:"Enter instruction here",onChange:function(e){return v(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Exam"})})]})})]})})}var Ht=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],h=j[1],O=null===b||void 0===b?void 0:b.map((function(e){return"/".concat(e.value)})),f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(null),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(B.useParams)().id,L=Object(a.useContext)(D).data.user,M=Object(a.useState)(!0),F=Object(H.a)(M,2),P=F[0],Y=F[1],R=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getClassInformation(A);case 2:(t=e.sent).ok&&(T(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.courseId),q(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.courseId),console.log({response:t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(t);case 2:if(!(n=e.sent).ok){e.next=14;break}if(a=n.data.isTechfactors,console.log(n.data,"infoooooooooooooooooo",a),!a){e.next=14;break}return e.next=9,(new Oe).getContributor(t);case 9:s=e.sent,console.log(s,"--------------------------------"),c=s.data.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==L.userId})),console.log(c,L.userId,"-=-=-="),Y(!!c);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){R()}),[]);var G=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getClassFiles(A,n);case 3:(a=e.sent).ok?(console.log(a,"heeeeeeeere----------------"),s(null===(c=a.data)||void 0===c?void 0:c.files),u(null===(r=a.data)||void 0===r?void 0:r.folders)):alert("Something went wrong while fetching class files.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){v(e),y(!N),h([]),"Class"==e&&G(""),"Course"==e&&V("")},V=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getCourseFiles(S,n);case 3:(a=e.sent).ok?(s(null===(c=a.data)||void 0===c?void 0:c.files),u(null===(r=a.data)||void 0===r?void 0:r.folders)):alert("Something went wrong while fetching Course files.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){navigator.clipboard.writeText(e),I.b.success("File link copied to clipboard.")};return Object(E.jsxs)("div",{children:["Class"==x?Object(E.jsx)(St,{type:"Class",id:A,subFolder:"".concat(O.join("")),doneUpload:function(){return G(O.join(""))}}):Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){return U("")},className:x?"colored-class-task":"fix-color-bread",children:"Files"}),x&&Object(E.jsxs)("span",{onClick:function(){return h([]),"Class"==x&&G(""),void("Course"==x&&V(""))},className:0==b.length?"fix-color-bread":"colored-class-task",children:[" ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",x," Files"]}),null===b||void 0===b?void 0:b.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Class"==n&&(O.length=t+1,b.length=t+1,G(O.join("")))}(e.value,t,"Class")},className:b.length==t+1?"fix-color-bread":"colored-class-task",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",e.naame]})}))]}),N?Object(E.jsxs)(E.Fragment,{children:[null===n||void 0===n?void 0:n.map((function(e,t){var n;return console.log(e),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:(null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Object(E.jsx)("img",{src:e.pathBase.replace("http:","https:"),onClick:function(){return _(e.pathBase)},className:"p-1",alt:e.name,height:30,width:30},t+e.name):Object(E.jsx)("i",{className:"fas fa-sticky-note",onClick:function(){return _(e.pathBase)},style:{paddingRight:5}})})})),null===i||void 0===i?void 0:i.map((function(e){return Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open",onClick:function(){return function(e,t){if("Class"==t){var n={naame:e,value:e};b.push(n),h(b),G("".concat(O.join(""),"/").concat(e))}if("Course"==t){var a={naame:e,value:e};b.push(a),h(b),V("".concat(O.join(""),"/").concat(e))}}(e.name,x)},title:"",style:{height:30,width:30}})})}))]}):Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  "]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return U("Class")},className:"ellipsis w-25 task-folder",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{children:" Class Files"})]})}),P&&Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return U("Course")},className:"ellipsis w-25 task-folder",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{children:" Course Files"})]})})]})]})]})};function Pt(e){e.setCourse;var t=e.openCreateExamModal,n=e.setOpenCreateExamModal,s=e.setExamInfo,c=(e.examInfo,Object(a.useState)(!1)),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),A=function(){n(!1),h(""),x(""),S(!1)},D=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),setTimeout((function(){return N(!1)}),1e3),i(!0),e.next=6,(new Oe).createExam(T,{testName:m,testInstructions:p});case 6:(n=e.sent).ok?(A(),M(),L()):I.b.error(n.data.errorMessage||"Something went wrong while updating the exam",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),sessionStorage.setItem("moduleid",n),e.next=4,(new Oe).getExamInformation(T);case 4:a=e.sent,i(!1),a.ok?(s(a.data),console.log(a.data)):alert("Something went wrong while fetching exam information");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){return I.b.success("Successfully created the exam",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(a.useEffect)((function(){}),[]),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return A()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Exam"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:D,children:[Object(E.jsx)("div",{className:C?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Exam Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter exam name",onChange:function(e){return h(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return S(!C)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Exam Instructions"}),Object(E.jsx)(ct,{value:p,placeholder:"Enter instruction here",onChange:function(e){return x(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:w,className:"tficolorbg-button",type:"submit",children:"Save Exam"})})]})})]})})}function zt(e){var t=e.children,n="gray";switch(t){case"Completed":case"Shared":n="#28A745";break;case"Not Completed":case"Unassigned":case"Disable Show Result":n="#DC3545";break;case"Ongoing":n="#FFC107";break;case"Ended":case"Created in Course":case"Not Shared":n="#007BFF";break;case"Created in Class":case"Upcoming":n="#17A2B8"}return Object(E.jsx)("p",{className:"status-text",style:{backgroundColor:n},children:t})}function Yt(e){var t=e.setShowModal,n=e.showModal,s=e.setTypeId,c=e.typeId,r=e.setInstructions,i=e.instructions,o=e.addPart,l=e.selectedPart,u=e.setFilesToUpload,d=e.isButtonDisabled,j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1];console.log("selectedPart:",l);var O=!!window.location.pathname.includes("class"),f=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return t(!1)},children:[Object(E.jsxs)(be.a.Header,{className:"modal-header",closeButton:!0,children:[null==l&&Object(E.jsx)(E.Fragment,{children:"Exam Part Form"}),null!=l&&Object(E.jsx)(E.Fragment,{children:"Edit Part Form"})]}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:o,children:[Object(E.jsx)("div",{className:m?"mb-3":"d-none",children:O?Object(E.jsx)(Ht,{}):Object(E.jsx)(At,{})}),null==l&&Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Type of Test"}),Object(E.jsxs)(me.a.Select,{"aria-label":"Default select example",onChange:function(e){return s(e.target.value)},children:[Object(E.jsx)("option",{value:"1",selected:"1"===(null===c||void 0===c?void 0:c.toString()),children:"Multiple Choice"}),Object(E.jsx)("option",{value:"2",selected:"2"===(null===c||void 0===c?void 0:c.toString()),children:"True or False"}),Object(E.jsx)("option",{value:"3",selected:"3"===(null===c||void 0===c?void 0:c.toString()),children:"Identification"}),Object(E.jsx)("option",{value:"4",selected:"4"===(null===c||void 0===c?void 0:c.toString()),children:"Essay"}),Object(E.jsx)("option",{value:"5",selected:"5"===(null===c||void 0===c?void 0:c.toString()),children:"Enumeration"})]})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return h(!m)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Exam Instructions"}),Object(E.jsx)(ct,{value:i,placeholder:"Enter instruction here",onChange:function(e){return r(e)}})]}),null==l&&Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Upload Excel File"}),Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,.csv",onChange:function(e){return t=e.target.files[0],void f(t).then((function(e){var n={base64String:e,fileName:t.name};u(n)}));var t}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsxs)(ue.a,{disabled:d,className:"tficolorbg-button",type:"submit",children:[null==l&&Object(E.jsx)(E.Fragment,{children:"Add Part "}),null!=l&&Object(E.jsx)(E.Fragment,{children:"Update Part "})]})})]})})]})}function Rt(e){var t=null,n=null;return(null===e||void 0===e?void 0:e.classTest)&&((t=new Date(e.classTest.startDate)).setHours(e.classTest.startTime.split(":")[0],e.classTest.startTime.split(":")[1]),(n=new Date(e.classTest.endDate)).setHours(e.classTest.endTime.split(":")[0],e.classTest.endTime.split(":")[1])),{startDate:t,endDate:n}}var qt=function(e){var t,n,a,s,c,r=e.examAnalysis,i=e.setViewAnalysis,o=e.viewAnalysis;return console.log("examAnalysis:",r),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",show:o,onHide:function(){return i(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Exam Analysis"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("span",{className:"font-view-analysis-header-exam",children:[null===(t=r.student)||void 0===t?void 0:t.lname,",  ",null===(n=r.student)||void 0===n?void 0:n.fname]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("span",{className:"font-view-analysis-header-exam float-right",children:[r.score," / ",r.assignedRawScore]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("p",{className:"font-view-analysis-header-exam",children:[null===r||void 0===r||null===(a=r.test)||void 0===a?void 0:a.testName," "]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("p",{className:"font-view-analysis-header-exam float-right",children:[ge()(null===(s=r.classTest)||void 0===s?void 0:s.startDate).format("LL")," "]})})]}),null===(c=r.testPartAnswers)||void 0===c?void 0:c.map((function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsxs)("p",{className:"font-exam-analysis-content-24-tfi",children:[t+1,".\xa0"]}),Object(E.jsx)("p",{className:"font-exam-analysis-content-24-tfi",dangerouslySetInnerHTML:{__html:e.testPart.instructions}})]}),e.questionDetails.map((function(e,t){return e.answerDetails.map((function(e,t){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("br",{}),Object(E.jsxs)("span",{className:"font-exam-analysis-content-24-tfi",children:[t+1,".\xa0  ",Object(E.jsx)("span",{className:"font-question-analysis",style:{color:"#707070"},children:Object(E.jsx)(rt,{children:e.assignedQuestion})})]}),Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("span",{className:"font-exam-analysis-content-24",style:{marginRight:10},children:"Student Answer :"}),Object(E.jsx)("span",{className:"font-exam-analysis-content-24",children:null===e.studentAnswer?Object(E.jsx)(E.Fragment,{children:"Student has no answer"}):Object(E.jsx)(rt,{children:e.studentAnswer})}),Object(E.jsx)("span",{style:{marginRight:10},children:e.studentScore>=1&&Object(E.jsx)("i",{className:"fa fa-1x fa-check-circle",style:{color:"green",marginLeft:"10px"}})}),Object(E.jsx)("span",{style:{marginRight:10},children:0==e.studentScore&&Object(E.jsx)("i",{class:"fa fa-times-circle",style:{color:"red",marginLeft:"10px"}})})]}),Object(E.jsx)("br",{}),Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("span",{className:"font-exam-analysis-content-24",style:{marginRight:10},children:"Correct Answer :"}),Object(E.jsx)("span",{className:"font-exam-analysis-content-24",style:{marginRight:10},children:Object(E.jsx)(rt,{children:e.assignedAnswer})})]}),Object(E.jsx)("hr",{})]})}))}))]})}))]})})]})})};function Gt(e){var t,n,a,s=e.user,c=e.exam,r=e.startDate,i=e.endDate,o=e.noAssigned;return Object(E.jsxs)("div",{className:"exam-status",children:[null==(null===c||void 0===c||null===(t=c.test)||void 0===t?void 0:t.classId)?Object(E.jsx)(zt,{children:"Created in Course"}):Object(E.jsx)(zt,{children:"Created in Class"}),s.isTeacher&&null==(null===c||void 0===c?void 0:c.classTest)&&!o&&Object(E.jsx)(zt,{children:"Unassigned"}),(null===c||void 0===c?void 0:c.classTest)&&Object(E.jsxs)(E.Fragment,{children:[r>new Date&&Object(E.jsx)(zt,{children:"Upcoming"}),r<new Date&&i>new Date&&Object(E.jsx)(zt,{children:"Ongoing"}),i<new Date&&Object(E.jsx)(zt,{children:"Ended"})]}),s.isStudent&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(zt,{children:(null===c||void 0===c?void 0:c.isLoggedUserDone)?"Completed":"Not Completed"})}),s.isTeacher&&(null===c||void 0===c||null===(n=c.test)||void 0===n?void 0:n.classId)&&(null===c||void 0===c||null===(a=c.test)||void 0===a?void 0:a.isShared)&&Object(E.jsx)(zt,{children:"Shared"})]})}var Ut=function(e){switch(null===e||void 0===e?void 0:e.toString()){case"1":return"Multiple Choice";case"2":return"True or False";case"3":return"Identification";case"4":return"Essay";case"5":return"Enumeration";default:return"Invalid question type"}},Vt=n(30);function _t(e){var t=e.onEdit,n=void 0===t?function(){return alert("Ongoing development")}:t,s=e.onDelete,c=void 0===s?function(){return alert("Ongoing development")}:s,r=Object(a.useState)(""),i=Object(H.a)(r,2),u=(i[0],i[1]),d=(Object(a.useContext)(D).data.user,sessionStorage.getItem("courseid")),j=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(d);case 2:(t=e.sent).ok?u(t.data):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!=d&&j()}),[]);return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"exam-actions ",children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},children:Object(E.jsx)("a",{href:"#delete-part",onClick:n,children:Object(E.jsx)("i",{class:"fas fa-edit",title:""})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))},children:Object(E.jsx)("a",{href:"#delete-part",onClick:c,children:Object(E.jsx)("i",{class:"fas fa-trash-alt",title:""})})})]})})}var Jt=function(e){var t=e.showModal,n=e.setShowModal,s=e.onSubmit,c=e.question,r=e.setQuestion,i=e.rate,o=e.setRate,l=e.choices,u=e.setChoices,d=e.selectedQuestion,j=e.editQuestion,b=e.isButtonDisabled,h=Object(a.useState)([]),O=Object(H.a)(h,2),f=(O[0],O[1],Object(a.useState)(!1)),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)([]),w=Object(H.a)(g,2),N=(w[0],w[1],sessionStorage.getItem("courseid"),Object(Vt.useParams)().id,!!window.location.pathname.includes("class"));return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:j?Object(E.jsx)(E.Fragment,{children:"Question Form"}):Object(E.jsx)(E.Fragment,{children:"Edit Question Form"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:s,children:[Object(E.jsx)("div",{className:x?"mb-3":"d-none",children:N?Object(E.jsx)(Ht,{}):Object(E.jsx)(At,{})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right file-library-btn my-2",onClick:function(){return v(!x)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Question"}),Object(E.jsx)(ct,{value:c,placeholder:"Enter exam question",onChange:function(e){return r(e)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Points"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:i,className:"custom-input",size:"lg",type:"number",placeholder:"Enter exam points",onChange:function(e){return o(e.target.value)}})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Answers"}),Object(E.jsxs)("div",{children:[l.map((function(e,t){return Object(E.jsxs)("div",{className:"choice-item",children:[Object(E.jsx)(me.a.Control,{defaultValue:"",value:e.testChoices,className:"custom-input",size:"lg",type:"text",placeholder:"Enter Answer",onChange:function(e){return function(e,t){var n=l.map((function(n,a){return a===e?Object(m.a)(Object(m.a)({},n),{},{testChoices:t}):n}));u(Object(Te.a)(n))}(t,e.target.value)}}),null==d&&Object(E.jsx)("div",{className:"exam-actions ",children:Object(E.jsx)("a",{href:"#delete-part",onClick:function(){return function(e){var t=l.filter((function(t,n){return n!==e}));u(Object(Te.a)(t))}(t)},children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})]},t)})),null==d&&Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){u([].concat(Object(Te.a)(l),[{testChoices:"",choicesImage:""}]))},children:"Add Answer"})]})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:b,className:"tficolorbg-button",type:"submit",children:j?Object(E.jsx)(E.Fragment,{children:"Save Question"}):Object(E.jsx)(E.Fragment,{children:"Update Question"})})})]})})]})};function Qt(e){e.exam;var t,n=e.part,s=e.questionTypeId,c=e.getExamInformation,r=e.setLoading,i=e.deleteQuestion,u=e.editable,d=e.examName,j=e.shared,b=Object(a.useState)(!1),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(null),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),L=Object(H.a)(A,2),M=(L[0],L[1]),F=Object(a.useState)([]),B=Object(H.a)(F,2),P=B[0],z=B[1],Y=Object(Vt.useParams)(),R=Y.id,q=Y.examid,G=sessionStorage.getItem("courseid"),U=Object(a.useState)([]),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)(""),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)([]),$=Object(H.a)(X,2),ee=$[0],te=$[1],ne=Object(a.useContext)(D).data.user,ae=7==(null===ne||void 0===ne||null===(t=ne.teacher)||void 0===t?void 0:t.positionID),se=window.location.pathname.includes("course"),ce=Object(a.useState)(!0),re=Object(H.a)(ce,2),ie=re[0],oe=re[1],le=Object(a.useState)(!1),de=Object(H.a)(le,2),je=de[0],be=de[1],me=!!window.location.pathname.includes("course")||!j,he=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(R);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==ne.userId})),oe(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(G);case 2:(t=e.sent).ok&&J(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(he(),fe()),ge()}),[]),Object(a.useEffect)((function(){ge()}),[n]);var pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),be(!0),setTimeout((function(){return be(!1)}),1e3),a={question:{questionTypeId:s,questionPartId:n.questionPart.id,testQuestion:x,questionImage:"",rate:N},choices:P},0!=P.length){e.next=7;break}return I.b.error("Please add at least one answer"),e.abrupt("return");case 7:if(c=!0,P.forEach((function(e){P.filter((function(t){return t.testChoices==e.testChoices})).length>1&&(c=!1)})),c){e.next=12;break}return I.b.error("Please add unique answers"),e.abrupt("return");case 12:r(!0),null!=S?N>0&&N<101?xe(S,a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100.")):N>0&&N<101?ve(a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100."));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(new We).editEnumeration(t.question.id,n.question);case 3:if(!(a=e.sent).ok){e.next=21;break}s=0;case 6:if(!(s<n.choices.length)){e.next=13;break}return i=n.choices[s],e.next=10,(new We).editEnumerationAnswer(i.id,i);case 10:s++,e.next=6;break;case 13:O(!1),I.b.success("Successfully updated question"),c(),y(1),v(""),T(null),e.next=23;break;case 21:I.b.error((null===(l=a.data)||void 0===l?void 0:l.errorMessage)||"Something went wrong while updating the question"),r(!1);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).addEnumeration(q,n.questionPart.id,t);case 2:(a=e.sent).ok?(O(!1),I.b.success("Successfully added question"),c(),y(1),v(""),M(""),T(null),z([])):(I.b.error((null===(s=a.data)||void 0===s?void 0:s.errorMessage)||"Something went wrong while creating the Question"),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=[];n.questionDtos.map((function(t,n){var a={};a.question=t.question.testQuestion,t.choices.map((function(e,t){a["choice".concat(t+1)]=e.testChoices,a["isCorrect".concat(t+1)]=e.isCorrect?1:0,a.choice2="",a.isCorrect2=0,a.choice3="",a.isCorrect3=0,a.choice4="",a.isCorrect4=0})),a.rate=t.question.rate,e.push(a)})),te(e)};return Object(E.jsxs)("div",{children:[(null===_||void 0===_?void 0:_.isTechfactors)&&ae&&se&&Object(E.jsx)(ue.a,{className:"tficolorbg-button m-r-5 mb-3",onClick:function(e){return function(e,t){e.preventDefault();var a=Ze.a.json_to_sheet(t),s=Ze.a.book_new();Ze.a.book_append_sheet(s,a,"SheetJS"),Object(Ze.b)(s,"".concat(d,"_").concat(Ut(n.questionPart.questionTypeId),".xlsx"))}(e,ee)},children:"Export Exam Part"}),Object(E.jsx)("br",{}),n.questionDtos.map((function(e,t){return Object(E.jsxs)("div",{className:"d-flex hover-link p-3 rounded",children:[Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)("p",{className:"primary-title",title:"",children:Object(E.jsx)(rt,{children:e.question.testQuestion})}),Object(E.jsx)("h5",{title:"",children:"Answers"}),Object(E.jsx)("table",{children:e.choices.map((function(e,t){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{title:"",children:e.testChoices})},t)}))}),Object(E.jsx)("hr",{}),Object(E.jsxs)("p",{className:"",title:"",children:["Point(s): ",e.question.rate]})]}),u&&me&&ie&&Object(E.jsx)(_t,{onDelete:function(t){return i(t,e.question.id)},onEdit:function(t){z(e.choices),T(e),v(e.question.testQuestion),M(e.answer),y(e.question.rate),O(!0),K("")}})]},t)})),ie&&u&&me&&Object(E.jsx)(ue.a,{title:"",className:"tficolorbg-button m-r-5",type:"submit",onClick:function(){T(null),v(""),y(""),M(""),z([]),O(!0),K("1")},children:"Add question"}),Object(E.jsx)(Jt,{showModal:h,setShowModal:O,question:x,setQuestion:v,rate:N,setRate:y,choices:P,setChoices:z,onSubmit:pe,selectedQuestion:S,editQuestion:W,isButtonDisabled:je})]})}var Zt=function(e){var t=e.showModal,n=e.setShowModal,s=e.onSubmit,c=e.question,r=e.setQuestion,i=e.rate,o=e.setRate,l=e.editQuestion,u=e.isButtonDisabled,d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)(!1)),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)([]),p=Object(H.a)(f,2),x=(p[0],p[1],sessionStorage.getItem("courseid"),Object(Vt.useParams)().id,!!window.location.pathname.includes("class"));return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:l?Object(E.jsx)(E.Fragment,{children:"Question Form"}):Object(E.jsx)(E.Fragment,{children:"Edit Question Form"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:s,children:[Object(E.jsx)("div",{className:h?"mb-3":"d-none",children:x?Object(E.jsx)(Ht,{}):Object(E.jsx)(At,{})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right file-library-btn my-2",onClick:function(){return O(!h)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Question"}),Object(E.jsx)(ct,{value:c,placeholder:"Enter exam question",onChange:function(e){return r(e)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Points"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:i,className:"custom-input",size:"lg",type:"number",placeholder:"Enter exam points",onChange:function(e){return o(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:u,className:"tficolorbg-button",type:"submit",children:l?Object(E.jsx)(E.Fragment,{children:"Save Question"}):Object(E.jsx)(E.Fragment,{children:"Update Question"})})})]})})]})};function Wt(e){var t,n=e.part,s=e.questionTypeId,c=e.getExamInformation,r=e.setLoading,i=e.deleteQuestion,u=e.editable,d=e.examName,j=e.shared,b=Object(a.useState)(!1),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(null),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(Vt.useParams)(),L=A.id,M=A.examid,F=sessionStorage.getItem("courseid"),B=Object(a.useState)([]),P=Object(H.a)(B,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useContext)(D).data.user,W=7==(null===Z||void 0===Z||null===(t=Z.teacher)||void 0===t?void 0:t.positionID),K=window.location.pathname.includes("course"),X=Object(a.useState)(!0),$=Object(H.a)(X,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(H.a)(ne,2),se=ae[0],ce=ae[1],re=!!window.location.pathname.includes("course")||!j,ie=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(L);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==Z.userId})),te(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(F);case 2:(t=e.sent).ok&&Y(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(ie(),oe()),be()}),[]),Object(a.useEffect)((function(){be()}),[n]);var le=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ce(!0),setTimeout((function(){return ce(!1)}),1e3),r(!0),a={questionTypeId:s,questionPartId:n.questionPart.id,testQuestion:x,questionImage:"",rate:N},null!=S?N>0&&N<101?de(S,a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100.")):N>0&&N<101?je(a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100."));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).editEssay(t,n);case 2:(a=e.sent).ok?(O(!1),I.b.success("Successfully updated question"),c(),y(1),v(""),T(null)):(I.b.error((null===(s=a.data)||void 0===s?void 0:s.errorMessage)||"Something went wrong while updating the question"),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).addEssay(M,n.questionPart.id,t);case 2:(a=e.sent).ok?(O(!1),I.b.success("Successfully added question"),c(),y(1),v(""),T(null)):(I.b.error((null===(s=a.data)||void 0===s?void 0:s.errorMessage)||"Something went wrong while creating the part"),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=[];n.questionDtos.map((function(t,n){var a={Question:t.question.testQuestion,choice1:"",isCorrect1:"",choice2:"",isCorrect2:"",choice3:"",isCorrect3:"",choice4:"",isCorrect4:"",Rate:t.question.rate};e.push(a)})),Q(e)};return Object(E.jsxs)("div",{children:[(null===z||void 0===z?void 0:z.isTechfactors)&&W&&K&&Object(E.jsx)(ue.a,{className:"tficolorbg-button m-r-5 mb-3",onClick:function(e){return function(e,t){e.preventDefault();var a=Ze.a.json_to_sheet(t),s=Ze.a.book_new();Ze.a.book_append_sheet(s,a,"SheetJS"),Object(Ze.b)(s,"".concat(d,"_").concat(Ut(n.questionPart.questionTypeId),".xlsx"))}(e,J)},children:"Export Exam Part"}),Object(E.jsx)("br",{}),n.questionDtos.map((function(e,t){return Object(E.jsxs)("div",{className:"d-flex hover-link p-3 rounded",children:[Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)("p",{className:"primary-title",title:"",children:Object(E.jsx)(rt,{children:e.question.testQuestion})}),Object(E.jsxs)("p",{className:"",title:"",children:["Point(s): ",e.question.rate]})]}),u&&re&&ee&&Object(E.jsx)(_t,{onDelete:function(t){return i(t,e.question.id)},onEdit:function(t){T(e.question.id),v(e.question.testQuestion),y(e.question.rate),O(!0),U("")}})]},t)})),u&&re&&ee&&Object(E.jsx)(ue.a,{title:"",className:"tficolorbg-button m-r-5",type:"submit",onClick:function(){v(""),y(""),O(!0),U("1")},children:"Add question"}),Object(E.jsx)(Zt,{showModal:h,setShowModal:O,question:x,setQuestion:v,rate:N,setRate:y,onSubmit:le,editQuestion:G,isButtonDisabled:se})]})}var Kt=function(e){var t=e.showModal,n=e.setShowModal,s=e.onSubmit,c=e.question,r=e.setQuestion,i=e.rate,o=e.setRate,l=e.answer,u=e.setAnswer,d=e.editQuestion,j=e.isButtonDisabled,b=Object(a.useState)([]),m=Object(H.a)(b,2),h=(m[0],m[1],Object(a.useState)(!1)),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(H.a)(x,2),g=(v[0],v[1],sessionStorage.getItem("courseid"),Object(Vt.useParams)().id,!!window.location.pathname.includes("class"));return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:d?Object(E.jsx)(E.Fragment,{children:"Question Form"}):Object(E.jsx)(E.Fragment,{children:"Edit Question Form"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:s,children:[Object(E.jsx)("div",{className:f?"mb-3":"d-none",children:g?Object(E.jsx)(Ht,{}):Object(E.jsx)(At,{})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right file-library-btn my-2",onClick:function(){return p(!f)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Question"}),Object(E.jsx)(ct,{value:c,placeholder:"Enter exam question",onChange:function(e){return r(e)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Points"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:i,className:"custom-input",size:"lg",type:"number",placeholder:"Enter exam points",onChange:function(e){return o(e.target.value)}})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Answer"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:l,className:"custom-input",size:"lg",type:"text",placeholder:"Enter exam answer",onChange:function(e){return u(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:j,className:"tficolorbg-button",type:"submit",children:d?Object(E.jsx)(E.Fragment,{children:"Save Question"}):Object(E.jsx)(E.Fragment,{children:"Update Question"})})})]})})]})};function Xt(e){var t,n=e.part,s=e.questionTypeId,c=e.getExamInformation,r=e.setLoading,i=e.deleteQuestion,u=e.editable,d=e.examName,j=e.shared,b=Object(a.useState)(!1),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(null),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),L=Object(H.a)(A,2),M=L[0],F=L[1],B=Object(Vt.useParams)(),P=B.id,z=B.examid,Y=sessionStorage.getItem("courseid"),R=Object(a.useState)([]),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(""),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)([]),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useContext)(D).data.user,ee=7==(null===$||void 0===$||null===(t=$.teacher)||void 0===t?void 0:t.positionID),te=window.location.pathname.includes("course"),ne=Object(a.useState)(!0),ae=Object(H.a)(ne,2),se=ae[0],ce=ae[1],re=Object(a.useState)(!1),ie=Object(H.a)(re,2),oe=ie[0],le=ie[1],de=!!window.location.pathname.includes("course")||!j,je=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(P);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==$.userId})),ce(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(Y);case 2:(t=e.sent).ok&&U(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(je(),be()),pe()}),[]),Object(a.useEffect)((function(){pe()}),[n]);var me=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),le(!0),setTimeout((function(){return le(!1)}),1e3),r(!0),a={question:{questionTypeId:s,questionPartId:n.questionPart.id,testQuestion:x,questionImage:"",rate:N},answer:M},null!=S?N>0&&N<101?he(S,a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100.")):N>0&&N<101?fe(a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100."));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).editIdentification(t.question.id,n.question);case 2:if(!(a=e.sent).ok){e.next=10;break}return e.next=6,(new We).editIdentificationAnswer(t.choices[0].id,{isCorrect:!0,testChoices:n.answer});case 6:(a=e.sent).ok?(O(!1),I.b.success("Successfully updated question"),c(),y(1),v(""),T(null)):(I.b.error((null===(s=a.data)||void 0===s?void 0:s.errorMessage)||"Something went wrong while updating the question"),r(!1)),e.next=12;break;case 10:I.b.error((null===(i=a.data)||void 0===i?void 0:i.errorMessage)||"Something went wrong while updating the question"),r(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).addIdentification(z,n.questionPart.id,t);case 2:(a=e.sent).ok?(O(!1),I.b.success("Successfully added question"),c(),y(1),v(""),T(null)):(I.b.error((null===(s=a.data)||void 0===s?void 0:s.errorMessage)||"Something went wrong while creating the part"),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=[];n.questionDtos.map((function(t,n){var a={};a.question=t.question.testQuestion,t.choices.map((function(e,t){a["choice".concat(t+1)]=e.testChoices,a["isCorrect".concat(t+1)]=e.isCorrect?1:0,a.choice2="",a.isCorrect2=0,a.choice3="",a.isCorrect3=0,a.choice4="",a.isCorrect4=0})),a.rate=t.question.rate,e.push(a)})),X(e)};return Object(E.jsxs)("div",{children:[(null===G||void 0===G?void 0:G.isTechfactors)&&ee&&te&&Object(E.jsx)(ue.a,{className:"tficolorbg-button m-r-5 mb-3",onClick:function(e){return function(e,t){console.log(t),e.preventDefault();var a=Ze.a.json_to_sheet(t),s=Ze.a.book_new();Ze.a.book_append_sheet(s,a,"SheetJS"),Object(Ze.b)(s,"".concat(d,"_").concat(Ut(n.questionPart.questionTypeId),".xlsx"))}(e,K)},children:"Export Exam Part"}),Object(E.jsx)("br",{}),n.questionDtos.map((function(e,t){return Object(E.jsxs)("div",{className:"d-flex hover-link p-3 rounded",children:[Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)("p",{className:"primary-title",title:"",children:Object(E.jsx)(rt,{children:e.question.testQuestion})}),Object(E.jsxs)("p",{className:"",title:"",children:["Answer: ",e.answer]}),Object(E.jsxs)("p",{className:"",title:"",children:["Point(s): ",e.question.rate]})]}),u&&de&&se&&Object(E.jsx)(_t,{onDelete:function(t){return i(t,e.question.id)},onEdit:function(t){T(e),v(e.question.testQuestion),F(e.answer),y(e.question.rate),O(!0),Q("")}})]},t)})),u&&de&&se&&Object(E.jsx)(ue.a,{title:"",className:"tficolorbg-button m-r-5",type:"submit",onClick:function(){T(null),v(""),y(""),F(""),O(!0),Q("1")},children:"Add question"}),Object(E.jsx)(Kt,{showModal:h,setShowModal:O,question:x,setQuestion:v,rate:N,setRate:y,answer:M,setAnswer:F,onSubmit:me,editQuestion:J,isButtonDisabled:oe})]})}var $t=[{choicesImage:null,isCorrect:!0,testChoices:""},{choicesImage:null,isCorrect:!1,testChoices:""}],en=function(e){var t=e.selectedQuestion,n=e.showModal,s=e.setShowModal,c=e.onSubmit,r=e.question,i=e.setQuestion,o=e.rate,l=e.setRate,u=e.choices,d=e.setChoices,j=e.editQuestion,b=e.isButtonDisabled,h=(Object(a.useContext)(D).data.user,Object(a.useState)([])),O=Object(H.a)(h,2),f=(O[0],O[1],Object(a.useState)(!1)),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)([]),w=Object(H.a)(g,2),N=(w[0],w[1],sessionStorage.getItem("courseid"),Object(Vt.useParams)().id,!!window.location.pathname.includes("class"));return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all modal-adjust",show:n,onHide:function(){return s(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:j?Object(E.jsx)(E.Fragment,{children:"Question Form"}):Object(E.jsx)(E.Fragment,{children:"Edit Question Form"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:c,children:[Object(E.jsx)("div",{className:x?"mb-3":"d-none",children:N?Object(E.jsx)(Ht,{}):Object(E.jsx)(At,{})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right file-library-btn my-2",onClick:function(){return v(!x)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Question"}),Object(E.jsx)(ct,{value:r,placeholder:"Enter exam question",onChange:function(e){return i(e)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Points"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:o,className:"custom-input",size:"lg",type:"number",placeholder:"Enter exam points",onChange:function(e){return l(e.target.value)}})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Choices"}),Object(E.jsxs)("div",{children:[u.map((function(e,n){return Object(E.jsxs)("div",{className:"choice-item ".concat(e.isCorrect&&"active"),children:[Object(E.jsx)("div",{onClick:function(){return function(e){var t=u.map((function(t,n){return n===e?Object(m.a)(Object(m.a)({},t),{},{isCorrect:!0}):Object(m.a)(Object(m.a)({},t),{},{isCorrect:!1})}));d(Object(Te.a)(t))}(n)},className:"hover-link question-radio ".concat(e.isCorrect&&"active"),children:Object(E.jsx)("div",{})}),Object(E.jsx)(ct,{className:"flex-1",value:e.testChoices,placeholder:"Enter exam choices",onChange:function(e){return function(e,t){var n=u.map((function(n,a){return a===e?Object(m.a)(Object(m.a)({},n),{},{testChoices:t}):n}));d(Object(Te.a)(n))}(n,e)}}),null==t&&Object(E.jsx)("a",{href:"#delete-item",className:"choice-delete",onClick:function(e){return function(e,t){if(u.length<=2)I.b.error("You must have at least 2 choices");else{e.preventDefault();var n=u.filter((function(e,n){return n!==t})),a=!1;n.forEach((function(e){e.isCorrect&&(a=!0)})),a||(n[0].isCorrect=!0),d(Object(Te.a)(n))}}(e,n)},children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})]},n)})),null==t&&Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"add-question",onClick:function(e){e.preventDefault(),u.length>8?I.b.error("You can only add 8 choices"):d([].concat(Object(Te.a)(u),[{choicesImage:null,isCorrect:!1,testChoices:""}]))},children:"Add Choice"})]})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:b,className:"tficolorbg-button",type:"submit",children:j?Object(E.jsx)(E.Fragment,{children:"Save Question "}):Object(E.jsx)(E.Fragment,{children:"Update Question"})})})]})})]})};function tn(e){var t,n=e.part,s=e.questionTypeId,c=e.getExamInformation,r=e.setLoading,i=e.deleteQuestion,u=e.editable,d=e.examName,j=e.shared,b=Object(a.useState)(!1),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(1),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(null),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(""),M=Object(H.a)(L,2),F=(M[0],M[1]),B=Object(a.useState)($t),P=Object(H.a)(B,2),z=P[0],Y=P[1],R=Object(Vt.useParams)(),q=R.id,G=R.examid,U=sessionStorage.getItem("courseid"),V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)(""),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)([]),ee=Object(H.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useContext)(D).data.user,se=7==(null===ae||void 0===ae||null===(t=ae.teacher)||void 0===t?void 0:t.positionID),ce=window.location.pathname.includes("course"),re=Object(a.useState)(!0),ie=Object(H.a)(re,2),oe=ie[0],le=ie[1],de=Object(a.useState)(!1),je=Object(H.a)(de,2),be=je[0],me=je[1],he=!!window.location.pathname.includes("course")||!j,fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(q);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==ae.userId})),le(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(U);case 2:(t=e.sent).ok&&Q(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(fe(),pe()),Ne()}),[]),Object(a.useEffect)((function(){Ne()}),[n]);var xe=function(){var e=!1;return z.forEach((function(t,n){z.forEach((function(a,s){n!==s&&t.testChoices===a.testChoices&&(e=!0)}))})),!e||(I.b.error("You can't have duplicate choices"),!1)},ve=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),me(!0),setTimeout((function(){return me(!1)}),1e3),r(!0),a={question:{questionTypeId:s,questionPartId:n.questionPart.id,testQuestion:v,questionImage:"",rate:y},choices:z},xe()){e.next=8;break}return r(!1),e.abrupt("return");case 8:null!=T?y>0&&y<101?ge(T,a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100.")):y>0&&y<101?we(a):(r(!1),I.b.error("Rate should be greater than 1 and less than 100."));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(new We).editMultipleChoice(t.question.id,n.question);case 3:if(!(a=e.sent).ok){e.next=21;break}s=0;case 6:if(!(s<n.choices.length)){e.next=13;break}return i=n.choices[s],e.next=10,(new We).editMultipleChoiceAnswer(i.id,i);case 10:s++,e.next=6;break;case 13:f(!1),I.b.success("Successfully updated question"),c(),k(1),g(""),A(null),e.next=23;break;case 21:I.b.error((null===(l=a.data)||void 0===l?void 0:l.errorMessage)||"Something went wrong while updating the question"),r(!1);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).addMultipleChoice(G,n.questionPart.id,t);case 2:(a=e.sent).ok?(f(!1),I.b.success("Successfully added question"),c(),k(1),g(""),F(""),A(null),Y($t)):(I.b.error((null===(s=a.data)||void 0===s?void 0:s.errorMessage)||"Something went wrong while creating the Question"),r(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=[];n.questionDtos.map((function(t,a){var s=Object(m.a)(Object(m.a)({question:""},function(e){var t=0,n={};e.questionDtos.map((function(e,n){t=e.choices.length>t?e.choices.length:t}));for(var a=0;a<t;a++)n["choice".concat(a+1)]="",n["isCorrect".concat(a+1)]=0;return n}(n)),{},{rate:0});s.question=t.question.testQuestion,t.choices.map((function(e,t){s["choice".concat(t+1)]=e.testChoices,s["isCorrect".concat(t+1)]=e.isCorrect?1:0})),s.rate=t.question.rate,e.push(s)})),ne(e)};return Object(E.jsxs)("div",{children:[(null===J||void 0===J?void 0:J.isTechfactors)&&se&&ce&&Object(E.jsx)(ue.a,{className:"tficolorbg-button m-r-5 mb-3",onClick:function(e){return function(e,t){e.preventDefault();var a=Ze.a.json_to_sheet(t),s=Ze.a.book_new();Ze.a.book_append_sheet(s,a,"SheetJS"),Object(Ze.b)(s,"".concat(d,"_").concat(Ut(n.questionPart.questionTypeId),".xlsx"))}(e,te)},children:"Export Exam Part"}),Object(E.jsx)("br",{}),n.questionDtos.map((function(e,t){return Object(E.jsxs)("div",{className:"d-flex hover-link p-3 rounded",children:[Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)("p",{className:"primary-title",title:"",children:Object(E.jsx)(rt,{children:e.question.testQuestion})}),Object(E.jsx)("h5",{title:"",children:"Choices"}),Object(E.jsx)("table",{children:e.choices.map((function(e,t){return Object(E.jsx)("tr",{children:Object(E.jsx)("td",{title:"",children:Object(E.jsx)(rt,{children:e.testChoices})})},t)}))}),Object(E.jsxs)("h5",{className:"font-weight-bold mt-3",title:"",children:["Answer: ",Object(E.jsx)(rt,{children:e.answer})]}),Object(E.jsxs)("p",{title:"",className:"",children:["Point(s): ",e.question.rate]})]}),u&&he&&oe&&Object(E.jsx)(_t,{onDelete:function(t){return i(t,e.question.id)},onEdit:function(t){Y(e.choices),A(e),g(e.question.testQuestion),F(e.answer),k(e.question.rate),f(!0),X("")}})]},t)})),u&&he&&oe&&Object(E.jsx)(ue.a,{className:"tficolorbg-button m-r-5",type:"submit",title:"",onClick:function(){A(null),g(""),k(""),F(""),Y($t),f(!0),X("1")},children:"Add question"}),Object(E.jsx)(en,{selectedQuestion:T,showModal:O,setShowModal:f,question:v,setQuestion:g,rate:y,setRate:k,choices:z,setChoices:Y,onSubmit:ve,editQuestion:K,isButtonDisabled:be})]})}var nn=function(e){var t=e.showModal,n=e.setShowModal,s=e.onSubmit,c=e.question,r=e.setQuestion,i=e.rate,o=e.setRate,l=e.answer,u=e.setAnswer,d=e.editQuestion,j=e.isButtonDisabled,b=Object(a.useState)([]),m=Object(H.a)(b,2),h=(m[0],m[1],Object(a.useState)(!1)),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(H.a)(x,2),g=(v[0],v[1],sessionStorage.getItem("courseid"),Object(Vt.useParams)().id,!!window.location.pathname.includes("class"));return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:d?Object(E.jsx)(E.Fragment,{children:"Question Form"}):Object(E.jsx)(E.Fragment,{children:"Edit Question Form"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:s,children:[Object(E.jsx)("div",{className:f?"mb-3":"d-none",children:g?Object(E.jsx)(Ht,{}):Object(E.jsx)(At,{})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right file-library-btn my-2",onClick:function(){return p(!f)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Question1"}),Object(E.jsx)(ct,{placeholder:"Enter exam question",value:c,onChange:function(e){return r(e)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Points"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:i,className:"custom-input",size:"lg",type:"number",placeholder:"Enter exam points",onChange:function(e){return o(e.target.value)}})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"question",children:"Answer"}),Object(E.jsxs)(me.a.Select,{"aria-label":"Default select example",value:l,onChange:function(e){return u(e.target.value)},children:[Object(E.jsx)("option",{value:"true",children:"True"}),Object(E.jsx)("option",{value:"false",children:"False"})]})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:j,className:"tficolorbg-button",type:"submit",children:d?Object(E.jsx)(E.Fragment,{children:"Save Question"}):Object(E.jsx)(E.Fragment,{children:"Update Question"})})})]})})]})};function an(e){var t,n=e.part,s=(e.questionTypeId,e.getExamInformation),c=e.setLoading,r=e.deleteQuestion,i=e.editable,u=e.examName,d=e.shared,j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(null),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)("true"),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(Vt.useParams)(),B=F.id,P=F.examid,z=sessionStorage.getItem("courseid"),Y=Object(a.useState)([]),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(""),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)([]),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useContext)(D).data.user,$=7==(null===X||void 0===X||null===(t=X.teacher)||void 0===t?void 0:t.positionID),ee=window.location.pathname.includes("course"),te=Object(a.useState)(!0),ne=Object(H.a)(te,2),ae=ne[0],se=ne[1],ce=Object(a.useState)(!1),re=Object(H.a)(ce,2),ie=re[0],oe=re[1],le=!!window.location.pathname.includes("course")||!d,de=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(B);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==X.userId})),se(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(z);case 2:(t=e.sent).ok&&G(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(de(),je())}),[]),Object(a.useEffect)((function(){fe()}),[n]);var be=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),oe(!0),setTimeout((function(){return oe(!1)}),1e3),c(!0),n={question:{testQuestion:p,rate:w},answer:L},null!=C?w>0&&w<101?me(C,n):(c(!1),I.b.error("Rate should be greater than 1 and less than 100.")):w>0&&w<101?he(n):(c(!1),I.b.error("Rate should be greater than 1 and less than 100."));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).editTrueOrFalse(t.question.id,n.question);case 2:if(!(a=e.sent).ok){e.next=10;break}return e.next=6,(new We).editTrueOrFalseAnswer(t.choices[0].id,{isCorrect:!0,testChoices:n.answer});case 6:(a=e.sent).ok?(h(!1),I.b.success("Successfully updated question"),s(),N(1),x(""),M("true"),S(null)):(I.b.error((null===(r=a.data)||void 0===r?void 0:r.errorMessage)||"Something went wrong while updating the question"),c(!1)),e.next=12;break;case 10:I.b.error((null===(i=a.data)||void 0===i?void 0:i.errorMessage)||"Something went wrong while updating the question"),c(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).addTrueOrFalse(P,n.questionPart.id,t);case 2:(a=e.sent).ok?(h(!1),I.b.success("Successfully added question"),s(),N(1),x(""),S(null)):(I.b.error((null===(r=a.data)||void 0===r?void 0:r.errorMessage)||"Something went wrong while creating the part"),c(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=[];n.questionDtos.map((function(t,n){var a={};a.question=t.question.testQuestion,t.choices.map((function(e,t){a["choice".concat(t+1)]=e.testChoices,a["isCorrect".concat(t+1)]=e.isCorrect?1:0})),a.choice3="",a.isCorrect3=0,a.choice4="",a.isCorrect4=0,a.rate=t.question.rate,e.push(a)})),K(e)};return Object(E.jsxs)("div",{children:[(null===q||void 0===q?void 0:q.isTechfactors)&&$&&ee&&Object(E.jsx)(ue.a,{className:"tficolorbg-button m-r-5 mb-3",onClick:function(e){return function(e,t){e.preventDefault();var a=Ze.a.json_to_sheet(t),s=Ze.a.book_new();Ze.a.book_append_sheet(s,a,"SheetJS"),Object(Ze.b)(s,"".concat(u,"_").concat(Ut(n.questionPart.questionTypeId),".xlsx"))}(e,W)},children:"Export Exam Part"}),Object(E.jsx)("br",{}),n.questionDtos.map((function(e,t){return Object(E.jsxs)("div",{className:"d-flex hover-link p-3 rounded",children:[Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)("p",{className:"primary-title",title:"",children:Object(E.jsx)(rt,{children:e.question.testQuestion})}),Object(E.jsxs)("p",{className:"",title:"",children:["Answer: ",e.answer]}),Object(E.jsxs)("p",{className:"",title:"",children:["Point(s): ",e.question.rate]})]}),i&&le&&ae&&Object(E.jsx)(_t,{onDelete:function(t){return r(t,e.question.id)},onEdit:function(t){S(e),x(e.question.testQuestion),M(e.answer),N(e.question.rate),h(!0),J("")}})]},t)})),i&&le&&ae&&Object(E.jsx)(ue.a,{title:"",className:"tficolorbg-button m-r-5",type:"submit",onClick:function(){S(null),x(""),N(""),M("true"),h(!0),J("1")},children:"Add question"}),Object(E.jsx)(nn,{showModal:m,setShowModal:h,question:p,setQuestion:x,rate:w,setRate:N,answer:L,setAnswer:M,onSubmit:be,editQuestion:_,isButtonDisabled:ie})]})}var sn=function(e){var t=e.part,n=e.getExamInformation,a=e.setLoading,s=e.editable,c=e.shared,r=e.deleteQuestion,i=e.examName;switch(console.log(t),t.questionPart.questionTypeId){case 1:return Object(E.jsx)(tn,{shared:c,examName:i,editable:s,part:t,questionTypeId:t.questionPart.questionTypeId,getExamInformation:n,setLoading:a,deleteQuestion:r});case 2:return Object(E.jsx)(an,{shared:c,examName:i,editable:s,part:t,questionTypeId:t.questionPart.questionTypeId,getExamInformation:n,setLoading:a,deleteQuestion:r});case 3:return Object(E.jsx)(Xt,{shared:c,examName:i,editable:s,part:t,questionTypeId:t.questionPart.questionTypeId,getExamInformation:n,setLoading:a,deleteQuestion:r});case 4:return Object(E.jsx)(Wt,{shared:c,examName:i,editable:s,part:t,questionTypeId:t.questionPart.questionTypeId,getExamInformation:n,setLoading:a,deleteQuestion:r});case 5:return Object(E.jsx)(Qt,{shared:c,examName:i,editable:s,part:t,questionTypeId:t.questionPart.questionTypeId,getExamInformation:n,setLoading:a,deleteQuestion:r});default:return Object(E.jsx)("div",{children:"Unknown"})}};function cn(e){var t=e.part,n=e.getExamInformation,s=e.setLoading,c=e.editable,r=e.shared,i=e.examName,u=Object(a.useState)(null),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(H.a)(m,2),O=h[0],f=h[1],p=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).deleteQuestion(a);case 3:n(),b(null),I.b.success("Question deleted successfully");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:O,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,j);case 2:f(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return f(!1)},focusCancelBtn:!0,children:"You will not be able to recover this exam!"}),Object(E.jsx)(sn,{examName:i,part:t,getExamInformation:n,setLoading:s,editable:c,shared:r,deleteQuestion:function(e,t){e.preventDefault(),f(!0),b(t)}})]})}function rn(e){var t,n=e.exam,s=e.deletePart,c=e.getExamInformation,r=e.setLoading,i=e.setSelectedPart,u=e.setShowModal,d=e.editable;console.log({exam:n});var j=Object(a.useState)(null),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useContext)(D).data.user,w=Object(a.useState)(""),N=Object(H.a)(w,2),y=(N[0],N[1]),k=null===n||void 0===n||null===(t=n.test)||void 0===t?void 0:t.isShared,C=!!window.location.pathname.includes("course")||!k;console.log(k,"---------=======!",{exam:n});var S=sessionStorage.getItem("courseid"),T=Object(a.useState)(!0),A=Object(H.a)(T,2),I=A[0],L=A[1],M=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(S);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==g.userId})),console.log(a,g,"================================",{response:t}),L(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(new Oe).getCourseInformation(S);case 3:t=e.sent,r(!1),t.ok?y(t.data):alert("Something went wrong while fetching course information");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M(),window.location.pathname.includes("course")&&F()}),[]);var B=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},P=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Je.a,{title:"",defaultActiveKey:"0",className:"exam-part-creation",children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:x,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,h);case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return v(!1)},focusCancelBtn:!0,children:"You will not be able to recover this exam!"}),n.questionPartDto.map((function(e,t){var a;return Object(E.jsxs)(Je.a.Item,{style:{border:"1px solid #f1f1f1",padding:"8px 16px"},eventKey:t,children:[Object(E.jsxs)(Je.a.Header,{title:"",children:[Object(E.jsx)("div",{className:"accordion-block-header",children:Object(E.jsxs)("div",{className:"header-content",children:[Object(E.jsx)("h3",{dangerouslySetInnerHTML:{__html:e.questionPart.instructions},title:""}),Object(E.jsx)("p",{children:Ut(e.questionPart.questionTypeId)}),Object(E.jsx)("span",{title:"",children:"".concat(e.questionDtos.length," Question(s)")})]})}),I&&d&&C&&Object(E.jsxs)("div",{className:"exam-actions",children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:0,hide:0},overlay:B,children:Object(E.jsx)("a",{href:"#edit-part",onClick:function(t){u(!0),i(e)},children:Object(E.jsx)("i",{class:"fas fa-edit",title:""})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:0,hide:0},overlay:P,children:Object(E.jsx)("a",{href:"#delete-part",onClick:function(t){v(!0),O(e)},children:Object(E.jsx)("i",{class:"fas fa-trash-alt",title:""})})})]})]}),Object(E.jsx)(Je.a.Body,{children:Object(E.jsx)(cn,{examName:null===(a=n.test)||void 0===a?void 0:a.testName,part:e,getExamInformation:c,setLoading:r,editable:d,shared:k})})]},t)})),0==n.questionPartDto.length&&Object(E.jsx)("p",{children:"Exam parts will be displayed here..."})]})}function on(e){var t,n,s,c,r=e.exam,i=e.selectedPart,u=e.setSelectedPart,d=e.getExamInformation,j=e.setLoading,b=e.setShowModal,m=e.deletePart,h=e.noAssigned,O=e.editable,f=Object(a.useContext)(D).data.user,p=Rt(r),x=p.startDate,v=p.endDate,g=sessionStorage.getItem("courseid"),w=Object(a.useState)([]),N=Object(H.a)(w,2),y=(N[0],N[1]),k=Object(a.useState)(!0),C=Object(H.a)(k,2),S=C[0],T=C[1],A=!!window.location.pathname.includes("course")||!(null===r||void 0===r||null===(t=r.test)||void 0===t?void 0:t.isShared),I=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(g);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==f.userId})),T(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(g);case 2:(t=e.sent).ok&&y(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(I(),L())}),[]),null!=r?Object(E.jsxs)("div",{className:"exam-information-container",title:"",children:[Object(E.jsx)("div",{className:"d-flex justify-content-between ",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{style:{fontSize:36,color:"#707070",margin:0},children:"Exam Information"}),Object(E.jsx)("p",{className:"primary-title",style:{fontSize:24},children:r.test.testName}),Object(E.jsx)("p",{className:"primary-title",style:{fontSize:16},children:null===(n=r.class)||void 0===n?void 0:n.className}),Object(E.jsx)("p",{className:"secondary-title",children:"".concat(r.totalItems," Total Item(s)")}),r.classTest&&Object(E.jsx)("p",{className:"secondary-title mb-2",children:"Time limit: ".concat(null===(s=r.classTest)||void 0===s?void 0:s.timeLimit," minute(s)")}),Object(E.jsx)(Gt,{user:f,exam:r,startDate:x,endDate:v,noAssigned:h}),Object(E.jsx)("p",{className:"secondary-title mb-2",children:"".concat(r.rawScore," Total Point(s)")}),Object(E.jsx)("p",{className:"secondary-title mb-2",children:"".concat(null===(c=r.questionPartDto)||void 0===c?void 0:c.length," Total Part(s)")})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)("p",{className:"secondary-title mt-4",children:"Exam Parts"}),S&&O&&A&&Object(E.jsx)(ue.a,{className:"btn btn-primary my-4",variant:"primary",size:"lg",title:"",onClick:function(){u(null),b(!0)},children:"Add Part"}),Object(E.jsx)(rn,{selectedPart:i,setSelectedPart:u,exam:r,deletePart:m,getExamInformation:d,setLoading:j,setShowModal:b,editable:O})]}):Object(E.jsx)("div",{children:"Loading Exam Information..."})}var ln=n(907);function un(){var e=Object(a.useState)(!0),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)({}),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useContext)(D).data.user,T=Object(B.useParams)(),A=(T.id,T.examid),L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],P=M[1],Y=Object(a.useState)(null),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(!0),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)([]),Z=Object(H.a)(Q,2),W=(Z[0],Z[1]),K=sessionStorage.getItem("courseid"),X=Object(a.useState)(!1),$=Object(H.a)(X,2),ee=$[0],te=$[1],ne=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(K);case 2:(t=e.sent).ok&&W(t.data.isTechfactors);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne()}),[]);var ae=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).getExamInformation(A);case 3:if(!(t=e.sent).ok){e.next=17;break}return n=t.data,e.next=8,(new We).getParts(A);case 8:return t=e.sent,console.log({response:t,tempExam:n}),t.data.forEach((function(e){n.questionPartDto.map((function(e){return e.questionPart.id})).includes(e.id)||n.questionPartDto.push({questionPart:e,questionDtos:[]})})),e.next=13,se(n);case 13:n=e.sent,u(n),e.next=18;break;case 17:alert("Something went wrong while fetching exam information");case 18:s(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new URLSearchParams(window.location.search),a=Object.fromEntries(n.entries()),s=t.test.classId||a.class_id,c=a.not_editable,!s){e.next=20;break}return e.next=7,(new We).getExams(s);case 7:if(!(r=e.sent).ok){e.next=18;break}return console.log({response:r}),(i=r.data.find((function(e){return e.test.id===t.test.id})))?t.classTest=i.classTest:alert("Class test not found"),console.log({tempExam:t}),e.next=15,(new z).getClassInformation(s);case 15:r=e.sent,t.classTest&&J(!1),r.ok?t.class=r.data:alert("Invalid Class");case 18:e.next=21;break;case 20:P(!0);case 21:return c&&J(!1),e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=q?ie(t):k.fileName?re(t):oe(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t.preventDefault(),n={questionPart:{instructions:f,questionTypeId:g,testId:A},excelFile:k},e.next=5,(new We).uploadTestPart(A,g,n);case 5:a=e.sent,console.log(a,"----------"),a.ok?(w("1"),p(""),C({}),s(!1),m(!1),I.b.success("Test part was successfully uploaded."),ae(),G(null)):(s(!1),I.b.error((null===(c=a.data)||void 0===c?void 0:c.errorMessage)?null===(r=a.data)||void 0===r?void 0:r.errorMessage:"Something went wrong while uploading exam part"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(!0),n={instructions:f},e.next=5,(new We).editPart(q.questionPart.id,n);case 5:(a=e.sent).ok?(I.b.success("Successfully Updated Part"),m(!1),ae(),w("1"),G(null)):(I.b.error((null===(c=a.data)||void 0===c?void 0:c.errorMessage)||"Something went wrong while creating the part"),s(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),te(!0),setTimeout((function(){return te(!1)}),1e3),s(!0),n={instructions:f},e.next=7,(new We).addPart(A,g,n);case 7:(a=e.sent).ok?(I.b.success("Successfully Added Part"),m(!1),ae(),p(""),w("1"),G(null)):(I.b.error((null===(c=a.data)||void 0===c?void 0:c.errorMessage)||"Something went wrong while creating the part"),s(!1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).deletePart(n.questionPart.id);case 3:(a=e.sent).ok?(I.b.success("Part deleted"),ae()):(I.b.error((null===(c=a.data)||void 0===c?void 0:c.errorMessage)||"Something went wrong while deleting the part"),s(!1));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(S.isStudent)return window.location.href="/404";ae()}),[]),Object(a.useEffect)((function(){null!=q?(w(q.questionPart.questionTypeId),p(q.questionPart.instructions)):(w(1),p(""))}),[q]),Object(a.useEffect)((function(){S.isSchoolAdmin&&J(!1)}),[]),Object(E.jsxs)(ln.a,{title:"Exam Information",loading:n,fluid:!0,className:"x-0",children:[Object(E.jsx)("div",{className:"page-container exam-information-container",children:Object(E.jsx)("div",{className:"containerpages",children:Object(E.jsx)(on,{getExamInformation:ae,setLoading:s,exam:i,loading:n,setShowModal:m,deletePart:le,selectedPart:q,setSelectedPart:G,noAssigned:F,editable:_})})}),Object(E.jsx)(Yt,{setShowModal:m,showModal:b,setTypeId:w,setFilesToUpload:C,typeId:g,setInstructions:p,instructions:f,selectedPart:q,isButtonDisabled:ee,addPart:ce})]})}function dn(){var e=Object(B.useParams)().id,t=Object(a.useState)(!1),n=Object(H.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=(u[0],u[1]),j=Object(a.useState)(!1),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)([]),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)([]),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(null),L=Object(H.a)(A,2),M=L[0],P=L[1],z=Object(a.useState)(!1),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)(""),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(""),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(""),X=Object(H.a)(K,2),$=(X[0],X[1]),te=sessionStorage.getItem("courseid"),ae=sessionStorage.getItem("moduleid"),ie=Object(a.useContext)(D).data.user,le=ie.subsType,be=Object(a.useState)(!0),me=Object(H.a)(be,2),he=me[0],fe=me[1],pe=Object(a.useState)(""),xe=Object(H.a)(pe,2),ve=xe[0],ge=xe[1],we=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getContributor(e);case 2:(n=t.sent).ok&&(a=n.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==ie.userId})),fe(!!s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(new Oe).getCourseInformation(te);case 3:t=e.sent,r(!1),t.ok?$(t.data):alert("Something went wrong while fetching course information");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){we(),null!=te&&Ne(),"LMS"!=le&&(window.location.href="/courses")}),[]);var ye=function(){O(!h)},ke=function(){var t=Object(l.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,(new Oe).getCourseUnit(e);case 3:(a=t.sent).ok?(r(!1),y(a.data)):I.b.error("Something went wrong while fetching all course info");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ce=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),sessionStorage.setItem("moduleid",n),e.next=4,(new Oe).getExamInformation(n);case 4:a=e.sent,r(!1),a.ok?T(a.data):I.b.error("Something went wrong while fetching all exam info");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){q(!1)},Te=function(e){_(e)},Ae=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(new Oe).deleteExam(t);case 3:n=e.sent,r(!1),n.ok?(Ie(),Ce(null,ae),Se()):alert("Something went wrong while fetching all pages");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){return I.b.error("Exam Deleted!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){ke()}),[]);var Ee=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},De=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Ye,{children:[c&&Object(E.jsx)(ee,{}),Object(E.jsx)(Lt,{title:Z,clicked:function(){return d(!1),void W("")}}),Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsxs)("span",{className:"content-pane-title col-md-10 pages-header fd-row",children:["Exam",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return ke()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:Te,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search module or Exam here",type:"search",onChange:function(e){return Te(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Bt,{setExamInfo:T,examInfo:S,selectedExam:M,openEditExamModal:x,setOpenEditExamModal:v}),Object(E.jsx)(Pt,{examInfo:S,setExamInfo:T,openCreateExamModal:h,setOpenCreateExamModal:O}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:N.map((function(t,n){return Object(E.jsxs)(Je.a.Item,{eventKey:t.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(e){return Ce(e,t.id)},children:Object(E.jsxs)("span",{className:"unit-title",children:[t.moduleName,he&&Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:ye,children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add Exam"]})]})}),Object(E.jsx)(Je.a.Body,{children:S.filter((function(e){return e.testName.toLowerCase().includes(V.toLowerCase())})).map((function(t,n){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"",md:9,children:[Object(E.jsx)(F.b,{className:"lesson-header",to:"/course/".concat(e,"/exam/").concat(t.id),children:null===t||void 0===t?void 0:t.testName}),Object(E.jsx)("div",{children:Object(E.jsx)("p",{dangerouslySetInnerHTML:{__html:null===t||void 0===t?void 0:t.testInstructions}})})]}),he&&Object(E.jsxs)(ce.a,{className:"align-right-content",md:3,children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Ee,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(e){return function(e,t){e.preventDefault(),P(t),v(!x)}(e,t)},children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:De,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(){return function(e){q(!0),ge(e)}(t.id)},children:Object(E.jsx)("i",{className:"fa fa-trash"})})})]}),0==S.length&&!c&&Object(E.jsx)("div",{className:"no-exams",children:"No exam found..."})]}),Object(E.jsx)("hr",{})]})}))})]})}))}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:R,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return Ae(ve)},onCancel:Se,focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"})]})]})}function jn(e){var t=e.openCreateDiscussionModal,n=e.setOpenCreateDiscussionModal,s=e.setDiscussionInfo,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(H.a)(v,2),w=(g[0],g[1]),N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=(T[0],T[1]),D=Object(a.useState)(!1),L=Object(H.a)(D,2),M=L[0],F=L[1],P=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),z=Object(B.useParams)().id,Y=function(){h(""),x(""),n(!1)},R=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),F(!0),setTimeout((function(){return F(!1)}),1e3),i(!0),e.next=6,(new Oe).createDiscussion(P,{discussionName:m,instructions:p});case 6:(n=e.sent).ok?(G(),Y(),q()):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getDiscussionInformation(P);case 3:a=e.sent,i(!1),a.ok?(s(a.data),console.log(a.data)):alert("Something went wrong while fetching all discussion");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){return I.b.success("Successfully saved discussion!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){U()}),[]);var U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ct).getCourseFiles(z);case 2:(t=e.sent).ok?(console.log(t,"-----------------------"),w(t.data.files),A(t.data.folders)):alert("Something went wrong while fetching class files111111111112222.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return Y()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Discussion"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:R,children:[Object(E.jsx)("div",{className:k?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Discussion Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter Discussion Name",onChange:function(e){return h(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return C(!k)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Instructions"}),Object(E.jsx)(ct,{value:p,placeholder:"Enter instruction here",onChange:function(e){return x(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:M,className:"tficolorbg-button",type:"submit",children:"Save Discussion"})})]})})]})})}function bn(e){var t=e.setInstructions,n=e.setDiscussionName,s=e.discussionId,c=e.instructions,r=e.discussionName,i=e.setDiscussionInfo,u=e.openEditDiscussionModal,d=e.setOpenEditDiscussionModal,j=e.selectedDiscussion,b=Object(a.useState)(!1),m=Object(H.a)(b,2),h=(m[0],m[1]),O=Object(a.useState)([]),f=Object(H.a)(O,2),p=(f[0],f[1],Object(a.useState)([])),x=Object(H.a)(p,2),v=(x[0],x[1]),g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)([]),C=Object(H.a)(k,2),S=(C[0],C[1]),T=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),A=Object(B.useParams)().id,D=function(e){e.preventDefault(),d(!1)},L=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(!0),e.next=4,(new Oe).editDiscussion(s,{discussionName:r,instructions:c});case 4:(n=e.sent).ok?(D(t),F(),M(null,T)):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,(new Oe).getDiscussionInformation(n);case 3:a=e.sent,h(!1),a.ok?i(a.data):alert("Something went wrong while fetching all discussion");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]);var F=function(){return I.b.success("Successfully updated discussion!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){P()}),[]);var P=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ct).getCourseFiles(A);case 2:(t=e.sent).ok?(console.log(t,"-----------------------"),v(t.data.files),S(t.data.folders)):alert("Something went wrong while fetching class files1111111.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log("selectedDiscussion:",j),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:u,onHide:function(){return d(!u)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Discussion"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:L,children:[Object(E.jsx)("div",{className:N?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Discussion Name"}),Object(E.jsx)(me.a.Control,{defaultValue:r,className:"custom-input",size:"lg",type:"text",placeholder:"Edit Discussion Name",onChange:function(e){return n(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return y(!N)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Instructions"}),Object(E.jsx)(ct,{value:c,placeholder:"Enter instruction here",onChange:function(e){return t(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Discussion"})})]})})]})})}function mn(e){var t=e.selectedDiscussion,n=(e.setShowDiscussion,Object(a.useState)(!1)),c=Object(H.a)(n,2),r=(c[0],c[1],sessionStorage.getItem("modulename"));return Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:null===t||void 0===t?void 0:t.discussion.discussionName}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"course-subtitle",children:Object(E.jsx)("small",{children:r})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:t.discussion.instructions}})]})}function hn(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(null),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)([]),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)(!1),P=Object(H.a)(F,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)(!1),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(""),te=Object(H.a)($,2),ae=te[0],ie=te[1],le=Object(a.useState)(""),be=Object(H.a)(le,2),me=(be[0],be[1]),he=Object(a.useContext)(D).data.user,fe=Object(a.useState)(""),pe=Object(H.a)(fe,2),xe=pe[0],ve=pe[1],ge=Object(a.useState)(""),we=Object(H.a)(ge,2),Ne=we[0],ye=we[1],ke=Object(B.useParams)().id,Ce=sessionStorage.getItem("courseid"),Se=(sessionStorage.getItem("moduleid"),Object(a.useState)(!0)),Te=Object(H.a)(Se,2),Ae=Te[0],Ie=Te[1],Ee=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(ke);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==he.userId})),Ie(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new Oe).getCourseInformation(Ce);case 3:(t=e.sent).ok?(s(!1),me(t.data)):I.b.error("Something went wrong while fetching course information ");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Ee(),null!=Ce&&De()}),[]);var Le=function(){h(!b)},Me=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),Y(n),sessionStorage.setItem("moduleid",n),e.next=5,(new Oe).getDiscussionInformation(n);case 5:a=e.sent,s(!1),a.ok?S(a.data):alert("Something went wrong while fetching all discussion");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new Oe).getCourseUnit(ke);case 3:n=e.sent,s(!1),n.ok?Q(n.data):alert("Something went wrong while fetching course unit11111111111");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){M(!1)},He=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new Oe).deleteDiscussion(G);case 3:a=e.sent,s(!1),a.ok?Me(null,z):alert("Something went wrong while fetching all pages");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Fe()}),[]);var Pe=function(){return I.b.error("Discussion Deleted!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},ze=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Re=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Ye,{children:[n&&Object(E.jsx)(ee,{}),Object(E.jsx)(Lt,{title:ae,clicked:function(){return X(!1),void ie("")}}),K?Object(E.jsx)(mn,{selectedDiscussion:w,setShowDiscussion:X}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("span",{className:"content-pane-title col-md-10 pages-header fd-row",children:["Discussion",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return Fe()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search module or discussion here",type:"search",onChange:function(e){return t=e.target.value,void u(t);var t}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(jn,{setDiscussionInfo:S,openCreateDiscussionModal:b,setOpenCreateDiscussionModal:h}),Object(E.jsx)(bn,{discussionName:xe,instructions:Ne,discussionId:G,setDiscussionName:ve,setInstructions:ye,setDiscussionInfo:S,selectedDiscussion:w,openEditDiscussionModal:p,setOpenEditDiscussionModal:x}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:J.map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){Me(t,e.id)},children:Object(E.jsxs)("span",{className:"unit-title",children:[e.moduleName,Ae&&Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:Le,children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add Discussion"]})]})}),Object(E.jsxs)(Je.a.Body,{children:[C.filter((function(e){var t,n;return null===(t=e.discussion)||void 0===t||null===(n=t.discussionName)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase())})).map((function(e,t){return Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"lesson-header",md:9,children:Object(E.jsx)("span",{onClick:function(t){var n;N(n=e),X(!0),ie(n.discussion.discussionName)},children:null===e||void 0===e?void 0:e.discussion.discussionName})}),Ae&&Object(E.jsxs)(ce.a,{className:"align-right-content",md:3,children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:ze,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(t){var n,a,s;return function(e,t,n,a){e.preventDefault(),ve(t),ye(n),U(a),x(!p)}(t,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.discussionName,null===e||void 0===e||null===(a=e.discussion)||void 0===a?void 0:a.instructions,null===e||void 0===e||null===(s=e.discussion)||void 0===s?void 0:s.id)},children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Re,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(){M(!0),U(e.discussion.id)},children:Object(E.jsx)("i",{className:"fa fa-trash"})})})]})]})})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:L,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return e.id,Pe(),He(G),void M(!1)},onCancel:Be,focusCancelBtn:!0,children:"You will not be able to recover this Discussion!"})]})]})})}))})]})]})}function On(e){var t=e.openCreateAssignmentModal,n=e.setOpenCreateAssignmentModal,s=e.setAssignmentInfo,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(null),g=Object(H.a)(v,2),w=g[0],N=g[1],y=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),k=Object(a.useState)([]),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)(!1)),T=Object(H.a)(S,2),A=T[0],D=T[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],P=M[1],z=(Object(B.useParams)().id,Object(a.useState)([])),Y=Object(H.a)(z,2),R=(Y[0],Y[1],Object(a.useState)([])),q=Object(H.a)(R,2),G=q[0],U=(q[1],null===G||void 0===G||G.map((function(e){return"/".concat(e.value)})),function(e){h(""),x(""),n(!1)}),V=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getAssignmentInformation(y);case 3:a=e.sent,i(!1),a.ok?(s(a.data),console.log(a.data)):alert("Something went wrong while fetching all assignment");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!==w){e.next=5;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=17;break;case 5:if(!(w<=0)){e.next=9;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=17;break;case 9:return P(!0),setTimeout((function(){return P(!1)}),1e3),i(!0),e.next=14,(new Oe).createAssignment(y,{assignmentName:m,instructions:p,rate:w});case 14:(n=e.sent).ok?(U(),V(y),J()):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){return I.b.success("Successfully saved assignment!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return U()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Assignment"}),Object(E.jsxs)(be.a.Body,{className:"modal-label b-0px",children:[Object(E.jsx)("div",{className:A?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a,{onSubmit:_,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Assignment Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter Assignment Name",onChange:function(e){return h(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Rate"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"number",placeholder:"Enter Rate",onChange:function(e){return N(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return D(!A)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Instructions"}),Object(E.jsx)(ct,{value:p,placeholder:"Enter instruction here",onChange:function(e){return x(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:F,className:"tficolorbg-button",type:"submit",children:"Save Assignment"})})]})]})]})})}function fn(e){var t=e.rate,n=e.setRate,s=e.setInstructions,c=e.setAssignmentName,r=e.assignmentId,i=e.instructions,u=e.assignmentName,d=e.openEditAssignmentModal,j=e.setOpenEditAssignmentModal,b=e.selectedAssignment,m=e.setAssignmentInfo,h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=(O[0],O[1]),p=Object(a.useState)([]),x=Object(H.a)(p,2),v=(x[0],x[1],Object(a.useState)([])),g=Object(H.a)(v,2),w=(g[0],g[1]),N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=(T[0],T[1]),D=Object(B.useParams)().id,L=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),M=function(e){e.preventDefault(),j(!1)},F=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),f(!0),!(t<=0)){e.next=6;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 6:return e.next=8,(new Oe).editAssignment(r,{assignmentName:u,instructions:i,rate:t});case 8:(a=e.sent).ok?(M(n),z(),P(L)):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),f(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,(new Oe).getAssignmentInformation(L);case 3:a=e.sent,f(!1),a.ok?(m(a.data),console.log(a.data)):alert("Something went wrong while fetching all assignment");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]),console.log("selectedAssignment:",b);var z=function(){return I.b.success("Successfully updated assignment!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){Y()}),[]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ct).getCourseFiles(D);case 2:(t=e.sent).ok?(console.log(t,"-----------------------"),w(t.data.files),A(t.data.folders)):alert("Something went wrong while fetching class files1111111111.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:d,onHide:function(){return j(!d)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Assignment"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:F,children:[Object(E.jsx)("div",{className:k?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Assignment Name"}),Object(E.jsx)(me.a.Control,{defaultValue:u,className:"custom-input",size:"lg",type:"text",placeholder:"Edit Assignment Name",onChange:function(e){return c(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Rate"}),Object(E.jsx)(me.a.Control,{defaultValue:t,className:"custom-input",size:"lg",type:"number",placeholder:"Enter Rate",onChange:function(e){return n(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return C(!k)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Instructions"}),Object(E.jsx)(ct,{value:i,placeholder:"Enter instruction here",onChange:function(e){return s(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Assignment"})})]})})]})})}function pn(e){var t=e.selectedAssignment,n=(e.setShowAssignment,e.assignmentInfo,Object(a.useState)(!1)),c=Object(H.a)(n,2),r=(c[0],c[1],Object(a.useState)("")),i=Object(H.a)(r,2),o=(i[0],i[1],Object(a.useState)("")),l=Object(H.a)(o,2),u=(l[0],l[1],sessionStorage.getItem("modulename"));return Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:null===t||void 0===t?void 0:t.assignmentName}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"course-subtitle",children:Object(E.jsx)("small",{children:u})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:t.instructions}})]})}function xn(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(null),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)([]),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(!1),L=Object(H.a)(A,2),M=L[0],F=L[1],P=Object(a.useState)(""),z=Object(H.a)(P,2),Y=z[0],R=z[1],q=Object(a.useState)(!1),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)(""),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=Object(a.useState)([]),K=Object(H.a)(W,2),X=K[0],$=K[1],te=Object(a.useState)(!1),ae=Object(H.a)(te,2),ie=ae[0],le=ae[1],be=Object(a.useState)(""),me=Object(H.a)(be,2),he=me[0],fe=me[1],pe=Object(a.useState)(null),xe=Object(H.a)(pe,2),ve=xe[0],ge=xe[1],we=Object(a.useState)(""),Ne=Object(H.a)(we,2),ye=Ne[0],ke=Ne[1],Ce=Object(a.useState)(""),Se=Object(H.a)(Ce,2),Te=(Se[0],Se[1]),Ae=Object(a.useContext)(D).data.user,Ie=sessionStorage.getItem("courseid"),Ee=(sessionStorage.getItem("moduleid"),Ae.subsType),De=Object(B.useParams)().id,Le=Object(a.useState)(!0),Me=Object(H.a)(Le,2),Fe=Me[0],Be=Me[1],He=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(Ie);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==Ae.userId})),Be(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new Oe).getCourseInformation(De);case 3:t=e.sent,c(!1),t.ok?Te(t.data):I.b.error("Something went wrong while fetching course information.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){He(),Pe(),"LMS"!=Ee&&(window.location.href="/courses")}),[]);var ze=function(){O(!h)},Re=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),V(n),sessionStorage.setItem("moduleid",n),e.next=5,(new Oe).getAssignmentInformation(n);case 5:a=e.sent,c(!1),a.ok?T(a.data):alert(a.data.errorMessage);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new Oe).getCourseUnit(De);case 3:(n=e.sent).ok?(c(!1),$(n.data)):I.b.error("Something went wrong while fetching course unit");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){F(!1)},Ue=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new Oe).deleteAssignment(Y);case 3:a=e.sent,c(!1),a.ok?Re(null,U):alert(a.data.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(e){Z(e)};Object(a.useEffect)((function(){qe()}),[]);var _e=function(){return I.b.error("Assignment Deleted!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Qe=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Ze=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Ye,{children:[n&&Object(E.jsx)(ee,{}),Object(E.jsx)(Lt,{title:he,clicked:function(){return fe(""),void le(!1)}}),ie?Object(E.jsx)(pn,{setShowAssignment:le,selectedAssignment:N,assignmentInfo:S,setAssignmentInfo:T}):Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsxs)("span",{className:"content-pane-title col-md-10 pages-header fd-row",children:["Assignment",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return qe()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),Object(E.jsx)(pt,{moduleInfo:X,setModuleInfo:$,openCreateUnitModal:u,setOpenCreateUnitModal:d})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:Ve,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search module or Assignment here",type:"search",onChange:function(e){return Ve(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(On,{openCreateAssignmentModal:h,setOpenCreateAssignmentModal:O,setAssignmentInfo:T}),Object(E.jsx)(fn,{assignmentName:he,instructions:ye,assignmentId:Y,setAssignmentName:fe,setInstructions:ke,rate:ve,setRate:ge,setAssignmentInfo:T,selectedAssignment:N,openEditAssignmentModal:x,setOpenEditAssignmentModal:v}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:X.map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){return Re(t,e.id)},children:Object(E.jsxs)("span",{className:"unit-title",children:[e.moduleName,Fe&&Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:ze,children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add Assignment"]})]})}),Object(E.jsxs)(Je.a.Body,{children:[S.filter((function(e){return e.assignmentName.toLowerCase().includes(Q.toLowerCase())})).map((function(e,t){return Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"lesson-header",md:9,children:[Object(E.jsx)("span",{style:{cursor:"pointer"},onClick:function(t){var n;fe((n=e).assignmentName),y(n),le(!0)},children:null===e||void 0===e?void 0:e.assignmentName}),Object(E.jsx)("br",{}),Object(E.jsxs)("span",{style:{fontSize:"18px"},children:[" Rate: ",null===e||void 0===e?void 0:e.rate]})]}),Fe&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ce.a,{className:"align-right-content",md:3,children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Qe,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(t){return function(e,t,n,a,s){e.preventDefault(),fe(t),ke(n),R(a),ge(s),v(!x)}(t,null===e||void 0===e?void 0:e.assignmentName,null===e||void 0===e?void 0:e.instructions,null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.rate)},children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Ze,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(){F(!0),R(e.id)},children:Object(E.jsx)("i",{className:"fa fa-trash"})})})]}),0==S.length&&!n&&Object(E.jsx)("div",{className:"no-exams",children:"No assignment found..."})]})]})})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:M,confirmBtnText:"Yes",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return function(e){_e(),Ue(e),F(!1)}(e.id)},onCancel:Ge,focusCancelBtn:!0,children:"You will not be able to recover this Assignment!"})]})]})})}))})]})]})}function vn(e){var t=e.openCreateTaskModal,n=e.setCreateTaskModal,s=e.setTaskInfo,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(null),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)([]),k=Object(H.a)(y,2),C=(k[0],k[1]),S=Object(a.useState)(!1),T=Object(H.a)(S,2),A=T[0],D=T[1],L=Object(a.useState)([]),M=Object(H.a)(L,2),F=(M[0],M[1]),P=Object(a.useState)(!1),z=Object(H.a)(P,2),Y=z[0],R=z[1],q=Object(B.useParams)().id,G=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),U=function(){n(!1),h(""),x("")},V=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!==w){e.next=5;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=18;break;case 5:if(!(w<=0)){e.next=9;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=18;break;case 9:return R(!0),setTimeout((function(){return R(!1)}),1e3),i(!0),!1,e.next=15,(new Oe).createTask(G,{taskName:m,instructions:p,rate:w,isShared:!1});case 15:(n=e.sent).ok?(U(),_(G),J()):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getTaskInformation(G);case 3:a=e.sent,i(!1),a.ok?(s(a.data),console.log(a.data)):alert("Something went wrong while fetching all task");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){return I.b.success("Successfully saved task!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){Q()}),[]);var Q=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ct).getCourseFiles(q);case 2:(t=e.sent).ok?(console.log(t,"-----------------------"),C(t.data.files),F(t.data.folders)):alert("Something went wrong while fetching class files111111111111111.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return U()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Task"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:V,children:[Object(E.jsx)("div",{className:A?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Task Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter Task Name",onChange:function(e){return h(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Rate"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"number",placeholder:"Enter Rate",onChange:function(e){return N(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return D(!A)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Instructions"}),Object(E.jsx)(ct,{value:p,placeholder:"Enter instruction here",onChange:function(e){return x(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:Y,className:"tficolorbg-button",type:"submit",children:"Save Task"})})]})})]})})}function gn(e){var t=e.rate,n=e.setRate,s=e.setTaskName,c=e.setInstructions,r=e.taskId,i=e.instructions,u=e.taskName,d=e.openEditTaskModal,j=e.setOpenEditTaskModal,b=e.selectedTask,m=e.setTaskInfo,h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=(O[0],O[1]),p=Object(a.useState)([]),x=Object(H.a)(p,2),v=(x[0],x[1],Object(a.useState)([])),g=Object(H.a)(v,2),w=(g[0],g[1]),N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=(T[0],T[1]),D=Object(B.useParams)().id,L=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),M=function(e){e.preventDefault(),j(!1)},F=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),f(!0),!(t<=0)){e.next=6;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 6:return e.next=8,(new Oe).editTask(r,{taskName:u,instructions:i,rate:t});case 8:(a=e.sent).ok?(M(n),z(),P(null,L)):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),f(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,(new Oe).getTaskInformation(L);case 3:a=e.sent,f(!1),a.ok?(m(a.data),console.log(a.data)):alert("Something went wrong while fetching all task");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]);var z=function(){return I.b.success("Successfully updated task!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){Y()}),[]),console.log("selectedTask:",b);var Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ct).getCourseFiles(D);case 2:(t=e.sent).ok?(console.log(t,"-----------------------"),w(t.data.files),A(t.data.folders)):alert("Something went wrong while fetching class files1111111111111.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:d,onHide:function(){return j(!d)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Task"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:F,children:[Object(E.jsx)("div",{className:k?"mb-3":"d-none",children:Object(E.jsx)(At,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Task Name"}),Object(E.jsx)(me.a.Control,{defaultValue:u,className:"custom-input",size:"lg",type:"text",placeholder:"Edit Task Name",onChange:function(e){return s(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Rate"}),Object(E.jsx)(me.a.Control,{defaultValue:t,className:"custom-input",size:"lg",type:"number",placeholder:"Enter Rate",onChange:function(e){return n(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return C(!k)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Instructions"}),Object(E.jsx)(ct,{value:i,placeholder:"Enter instruction here",onChange:function(e){return c(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Task"})})]})})]})})}function wn(e){var t=e.selectedTask,n=(e.setShowTask,Object(a.useState)(!1)),c=Object(H.a)(n,2),r=(c[0],c[1],sessionStorage.getItem("modulename"));return Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:null===t||void 0===t?void 0:t.taskName}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"course-subtitle",children:Object(E.jsx)("small",{children:r})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:t.instructions}})]})}function Nn(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(null),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)(null),P=Object(H.a)(F,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(""),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)([]),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(B.useParams)().id,te=Object(a.useState)(!1),ae=Object(H.a)(te,2),ie=ae[0],le=ae[1],be=Object(a.useState)(""),me=Object(H.a)(be,2),he=me[0],fe=me[1],pe=Object(a.useState)(""),xe=Object(H.a)(pe,2),ve=xe[0],ge=xe[1],we=Object(a.useState)(""),Ne=Object(H.a)(we,2),ye=(Ne[0],Ne[1]),ke=Object(a.useContext)(D).data.user,Ce=sessionStorage.getItem("courseid"),Se=ke.subsType,Te=Object(a.useState)(!0),Ae=Object(H.a)(Te,2),Ie=Ae[0],Ee=Ae[1],De=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor($);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==ke.userId})),Ee(!!a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new Oe).getCourseInformation(Ce);case 3:(t=e.sent).ok?(s(!1),ye(t.data)):I.b.error("Something went wrong while fetching course information.");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){De(),null!=Ce&&Le(),"LMS"!=Se&&(window.location.href="/courses")}),[]);var Me=function(){u(!i)},Fe=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),U(n),sessionStorage.setItem("moduleid",n),e.next=5,(new Oe).getTaskInformation(n);case 5:a=e.sent,s(!1),a.ok?N(a.data):alert("Something went wrong while fetching all task");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new Oe).getCourseUnit($);case 3:n=e.sent,s(!1),n.ok?X(n.data):alert("Something went wrong while fetching course unit");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){S(!1)},Pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),sessionStorage.getItem("moduleid"),e.next=4,(new Oe).deleteTask(L);case 4:n=e.sent,s(!1),n.ok?Fe(null,G):alert(n.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(e){Q(e)};Object(a.useEffect)((function(){Be()}),[]);var Re=function(){return I.b.error("Task Deleted!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},qe=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Ge=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Ye,{children:[n&&Object(E.jsx)(ee,{}),Object(E.jsx)(Lt,{title:he,clicked:function(){return fe(""),void le(!1)}}),ie?Object(E.jsx)(wn,{selectedTask:p,showTask:ie,setShowTask:le}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("span",{className:"content-pane-title col-md-10 pages-header fd-row",children:["Task",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return Be()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:ze,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search module or task here",type:"search",onChange:function(e){return ze(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(gn,{taskName:he,instructions:ve,taskId:L,setInstructions:ge,setTaskName:fe,rate:z,setRate:Y,setTaskInfo:N,selectedTask:p,openEditTaskModal:b,setOpenEditTaskModal:h}),Object(E.jsx)(vn,{setTaskInfo:N,openCreateTaskModal:i,setCreateTaskModal:u}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:K.map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){Fe(t,e.id)},children:Object(E.jsxs)("span",{className:"unit-title",children:[e.moduleName,Ie&&Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:Me,children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add Task"]})]})}),Object(E.jsxs)(Je.a.Body,{children:[w.filter((function(e){return e.taskName.toLowerCase().includes(J.toLowerCase())})).map((function(e,t){return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsxs)(ce.a,{className:"lesson-header",md:9,children:[Object(E.jsx)("span",{style:{cursor:"pointer"},onClick:function(t){var n;fe((n=e).taskName),x(n),le(!0)},children:null===e||void 0===e?void 0:e.taskName}),Object(E.jsx)("br",{}),Object(E.jsxs)("span",{style:{fontSize:"18px"},children:[" Rate: ",null===e||void 0===e?void 0:e.rate]})]}),Ie&&Object(E.jsxs)(ce.a,{className:"align-right-content",md:3,children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:qe,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(t){return function(e,t,n,a,s){e.preventDefault(),fe(t),ge(n),M(a),Y(s),h(!b)}(t,null===e||void 0===e?void 0:e.taskName,null===e||void 0===e?void 0:e.instructions,null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.rate)},children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Ge,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-trash",onClick:function(){S(!0),M(e.id)}})})})]})]})})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:C,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return function(e){Re(),Pe(e),S(!1)}(e.id)},onCancel:He,focusCancelBtn:!0,children:"You will not be able to recover this Task!"})]})]})})}))})]})]})}var yn=function(e){var t,n,s=Object(a.useState)(!1),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)({}),d=Object(H.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)({}),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),P=F[0],z=F[1],Y=Object(a.useState)(""),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(""),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)(""),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(!1),$=Object(H.a)(X,2),ee=$[0],te=$[1],ae=Object(a.useState)(!1),se=Object(H.a)(ae,2),ce=se[0],ie=se[1],le=Object(a.useState)(!0),je=Object(H.a)(le,2),he=je[0],fe=je[1],pe=(Object(B.useParams)().id,Object(a.useContext)(D).data.user),xe=pe.subsType,ve=window.location.pathname.includes(e.type.toLowerCase())||window.location.pathname.includes("files"),ge=(sessionStorage.getItem("courseid"),function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getCourseInformation(e.id);case 2:(n=t.sent).ok?(z(n.data),n.data.isTechfactors):I.b.error("Something went wrong while fetching course information.");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),we=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getContributor(e.id);case 2:(n=t.sent).ok&&(a=n.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==pe.userId})),console.log(s,pe.userId),fe(!!s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(ge(),we())}),[]),console.log("courseInfo:",P);var Ne=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ie(!1),n={folderName:q,newFolderName:_,subFolderLocation:"".concat(e.subFolder)},t.next=4,(new Ct).updateFolderName(e.id,e.type,n);case 4:a=t.sent,console.log({response:a}),a.ok?(e.deleted(),I.b.success("Successfully renamed folder.")):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={subFolderLocation:"".concat(e.subFolder,"/").concat(W)},t.next=3,(new Ct).deleteFolder(e.id,e.type,n);case 3:(a=t.sent).ok?(e.deleted(),I.b.success("Successfully deleted folder.")):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage),te(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ke=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))},Ce=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))},Se=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Download"}))},Te=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Ae=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Class"==e.type&&Ie(),"Course"==e.type&&Ee();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ie=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fileName:j.name,subFolderLocation:e.subFolder},t.next=3,(new Ct).deleteClassFile(e.id,n);case 3:(a=t.sent).ok?(i(!1),e.deleted(),I.b.success("File deleted successfully")):(i(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ee=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fileName:j.name,subFolderLocation:e.subFolder},t.next=3,(new Ct).deleteCourseFile(e.id,n);case 3:(a=t.sent).ok?(i(!1),e.deleted(),I.b.success("File deleted successfully")):(i(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),De=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==k){t.next=9;break}return n=k.includes(A)?k:k+A,a={newFileName:n,oldFileName:g.name,subFolderLocation:e.subFolder},t.next=5,(new Ct).editCourseFile(e.id,a);case 5:(s=t.sent).ok?(p(!1),e.deleted(),I.b.success("Filename updated successfully"),C("")):(p(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage.replace("distributor","contributor"))),t.next=10;break;case 9:I.b.error("Please enter filename.");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Le=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==k){t.next=9;break}return n=k.includes(A)?k:k+A,a={newFileName:n,oldFileName:g.name,subFolderLocation:e.subFolder},t.next=5,(new Ct).editClassFile(e.id,a);case 5:(s=t.sent).ok?(p(!1),e.deleted(),I.b.success("Filename updated successfully"),C("")):(p(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage.replace("distributor","contributor"))),t.next=10;break;case 9:I.b.error("Please enter filename.");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  ",he&&pe.isTeacher&ve?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("th",{children:"Actions"})}):null]})}),Object(E.jsxs)("tbody",{children:[null===(t=e.data)||void 0===t?void 0:t.filter((function(t){var n;return t.name.toLowerCase().includes(null===(n=e.filter)||void 0===n?void 0:n.toLowerCase())})).map((function(e,t){var n,a,s,c;return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"ellipsis w-75 file-name font-size-22",children:e.name}),he&&pe.isTeacher&&ve&&"Ebooks"!==xe?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("td",{style:{paddingRight:"15px"},children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:(null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Ce:Se,children:Object(E.jsx)("a",{href:e.pathBase,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"".concat((null===(a=e.pathBase)||void 0===a?void 0:a.match(/.(jpg|jpeg|png|gif|pdf)$/i))?"fa-eye":"fa-arrow-down"," fas td-file-page")})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:Te,children:Object(E.jsx)("i",{className:pe.isSchoolAdmin?"d-none":"fas fas fa-edit td-file-page",onClick:function(){return function(e){var t=e.name.split(".").pop(),n=e.name.replace(".".concat(t),"");L(".".concat(t)),p(!0),w(e),C(n)}(e)}})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:ke,children:Object(E.jsx)("a",{children:Object(E.jsx)("i",{className:pe.isSchoolAdmin?"d-none":"fas fa-trash-alt td-file-page",onClick:function(){return t=e,i(!0),void b(t);var t}})})})]})}):Object(E.jsx)("td",{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:(null===(s=e.pathBase)||void 0===s?void 0:s.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Ce:Se,children:Object(E.jsx)("a",{href:e.pathBase,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"".concat((null===(c=e.pathBase)||void 0===c?void 0:c.match(/.(jpg|jpeg|png|gif|pdf)$/i))?"fa-eye":"fa-arrow-down"," fas td-file-page")})})})})]},t+e.name)})),null===(n=e.folders)||void 0===n?void 0:n.filter((function(t){var n;return t.name.toLowerCase().includes(null===(n=e.filter)||void 0===n?void 0:n.toLowerCase())})).map((function(t,n){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{className:"ellipsis w-75 colored-class font-size-22",onClick:function(){return e.clickedFolder(t)},children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsxs)("span",{className:"font-size-22",children:[" ",t.name]})]}),he&&pe.isTeacher&&ve&&"Ebooks"!==xe?Object(E.jsxs)("td",{children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:Te,children:Object(E.jsx)("i",{class:"fas fas fa-edit td-file-page",onClick:function(){return G((e=t).name),J(e.name),void ie(!0);var e}})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:ke,children:Object(E.jsx)("a",{children:Object(E.jsx)("i",{class:"fas fa-trash-alt td-file-page",onClick:function(){return K("".concat(t.name)),void te(!0)}})})})]}):Object(E.jsx)("td",{})]},n+t.name)}))]}),Object(E.jsxs)(be.a,{size:"lg",show:f,onHide:function(){return p(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Filename"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{children:[Object(E.jsxs)("p",{children:["Current filename: ",Object(E.jsx)("span",{children:g.name})]}),Object(E.jsx)(me.a.Label,{children:"New Filename"}),Object(E.jsxs)(de.a,{className:"mb-4",children:[Object(E.jsx)(me.a.Control,{defaultValue:k,value:k,type:"text",onChange:function(e){return C(e.target.value.replace(".",""))}}),Object(E.jsx)(de.a.Text,{children:A})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return"Class"==e.type&&Le(),void("Course"==e.type&&De())},children:"Update Filename"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",show:ce,onHide:function(){return ie(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Folder name"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{children:[Object(E.jsxs)("p",{children:["Current folder name: ",Object(E.jsx)("span",{children:q})]}),Object(E.jsx)(me.a.Label,{children:"New folder name"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{defaultValue:k,value:_,type:"text",onChange:function(e){return J(e.target.value.replace(".",""))}})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return Ne()},children:"Update Folder"})})]})})]}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:r,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return Ae()},onCancel:function(){return i(!1)},focusCancelBtn:!0,children:"You will not be able to recover this file!"}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:ee,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return ye()},onCancel:function(){return te(!1)},focusCancelBtn:!0,children:"You will not be able to recover this folder!"})]})};var kn=function(e){var t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=(A[1],Object(a.useState)("")),F=Object(H.a)(M,2),P=(F[0],F[1]),z=Object(a.useState)(!0),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useContext)(D).data.user,U=(sessionStorage.getItem("courseid"),Object(B.useParams)().id,function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getCourseInformation(e.id);case 2:(n=t.sent).ok?(P(n.data),n.data.isTechfactors):I.b.error("Something went wrong while fetching course information.");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),V=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getContributor(e.id);case 2:(n=t.sent).ok&&(a=n.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==G.userId})),q(!!s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&(U(),V())}),[]);var _=u.filter((function(e){return 100!=e.progress})),J=function(e){""!=e&&Object.values(e).map((function(e,t){if(e.size<=25e6){Q(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0,status:""};u.push(n),d(Object(Te.a)(u))}))}else I.b.error("Please select a file below 25mb.")}))},Q=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},Z=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(!0),"Course"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newCourseFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(d([]),h(!1),x(!1),(null===(j=i.data)||void 0===j?void 0:j.errorMessage.includes("exist"))?(u[a].progress=100,u[a].status="failed",d(Object(Te.a)(u))):(c(!1),I.b.error(null===(b=i.data)||void 0===b?void 0:b.errorMessage.replace("distributor","contributor"))));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"Class"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newClassFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(d([]),h(!1),x(!1),(null===(j=i.data)||void 0===j?void 0:j.errorMessage.includes("exist"))?(u[a].progress=100,u[a].status="failed",d(Object(Te.a)(u))):(c(!1),I.b.error(null===(b=i.data)||void 0===b?void 0:b.errorMessage.replace("distributor","contributor"))));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(e){var t=u;t.splice(e,1),d(Object(Te.a)(t))},K=function(){c(!1),d([]),e.doneUpload(),h(!1),x(!1),x(!1)},X=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Course"!=e.type){t.next=6;break}return n={folderName:C,subFolderLocation:e.subFolder},t.next=4,(new Ct).createCourseFolder(e.id,n);case 4:(a=t.sent).ok?(e.doneUpload(),N(!1),I.b.success("Successfully created folder.")):(N(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 6:if("Class"!=e.type){t.next=12;break}return c={folderName:C,subFolderLocation:e.subFolder},t.next=10,(new Ct).createCLassFolder(e.id,c);case 10:(r=t.sent).ok?(e.doneUpload(),N(!1),I.b.success("Successfully created folder.")):(N(!1),I.b.error(null===(i=r.data)||void 0===i?void 0:i.errorMessage.replace("distributor","contributor")));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{flexDirection:"row",paddingLeft:0},className:"pages-header file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:e.title})}),R&&G.isTeacher?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("i",{style:{marginTop:10},className:"fas fa-folder-plus file-upload-content font-size-35 cursor-pointer",onClick:function(){return N(!0)}})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return N(!0)},children:" New Folder  "})}),Object(E.jsx)("div",{children:Object(E.jsx)("h5",{style:{paddingTop:15},className:"fileupload",children:" OR "})}),Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return c(!0)},children:" + Upload Files  "})})})]}):Object(E.jsx)(E.Fragment,{})]}),Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload File"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",accept:".pptx,.docx,.xlsx,.ppt,.doc,.xls,.pdf,.jpeg,.jpg,.png",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return J(e.target.files)}})]}),Object(E.jsx)(ce.a,{className:"d-flex align-items-center",children:Object(E.jsx)("p",{children:"Maximum file size: 25 MB."})}),Object(E.jsx)("p",{className:"font-13 mb-0",children:".pptx, .docx, .xlsx, .ppt, .doc, .xls, .pdf, .jpeg, .jpg, .png"})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),"failed"==e.status?Object(E.jsx)("td",{style:{fontSize:14,color:"red"},children:"Failed to upload.File already exist."}):Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return W(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",disabled:0==_.length,className:"file-library file-button-upload mx-3",onClick:function(){return Z()},children:p?"Uploading...":"Upload"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:m?"file-library file-button-upload":"d-none",onClick:function(){return K()},children:"Done"})]})]}),Object(E.jsxs)(be.a,{size:"lg",show:w,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Folder"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(de.a,{size:"lg",children:Object(E.jsx)(je.a,{onChange:function(e){return S(e.target.value)},className:"mb-2","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Enter folder name"})}),L?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return J(e.target.files)}})]})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),"failed"==e.status?Object(E.jsx)("td",{style:{fontSize:14,color:"red"},children:"Failed to upload.File already exist."}):Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return W(t)}})]})]},e.fileName)}))})]})]}):Object(E.jsx)(E.Fragment,{}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:L?"d-none":"file-library file-button-upload",onClick:function(){return X()},children:"Save Folder"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:m?"file-library file-button-upload":"d-none",onClick:function(){return K()},children:"Done"})]})]})]})};var Cn=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)().id,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=(b[0],b[1]),h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=f.map((function(e){return"/".concat(e.value)})),y=Object(a.useContext)(D).data.user.subsType;Object(a.useEffect)((function(){C(""),"LMS"!=y&&(window.location.href="/courses")}),[]);var k=function(){C(N.join(""))},C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),n={subFolderLocation:t},e.next=4,(new Ct).getCourseFiles(d,n);case 4:(a=e.sent).ok?(s(a.data.files),u(a.data.folders)):alert("Something went wrong while fetching Course files.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(Ye,{children:[Object(E.jsx)(Lt,{title:"",clicked:function(){return console.log("")}}),Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsx)(kn,{type:"Course",title:"Course Files",id:d,subFolder:N.join(""),doneUpload:function(){return k()}}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return w(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search File here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)("p",{style:{fontSize:"20px"},children:[Object(E.jsx)("span",{onClick:function(){return p([]),void C("")},className:0==f.length?"fix-color-bread":"colored-files-bread",children:"Course Files"}),f.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Course"==n&&(N.length=t+1,f.length=t+1,C(N.join("")))}(e.value,t,"Course")},className:f.length==t+1?"fix-color-bread":"colored-files-bread",children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))]}),Object(E.jsx)(yn,{filter:g,data:n,folders:i,subFolder:N.join(""),clickedFolder:function(e){return function(e){var t={naame:e,value:e};f.push(t),C("".concat(N.join(""),"/").concat(e))}(e.name)},deleted:function(){return k()},type:"Course",id:d})]})]})};var Sn=function(e){var t=e.conference,n=e.getConfe,s=e.setOpenEditModal,c=e.setEditLinks,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=Object(a.useContext)(D).data.user,v=Object(a.useState)(),g=Object(H.a)(v,2),w=(g[0],g[1],Object(a.useState)("")),N=Object(H.a)(w,2),y=(N[0],N[1]),k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=C[0],T=C[1];Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(p);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==x.userId})),console.log(a,x.userId),T(!!a));case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){A()}),[]);var A=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(p);case 2:(t=e.sent).ok?y(t.data):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(t,"--------------");var L=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteLinks(p,t);case 2:(a=e.sent).ok?(j(!1),n()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},F=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return L(O)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this data!"}),Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"25px"},children:"Conference"})}),Object(E.jsx)(Je.a.Body,{children:null===t||void 0===t?void 0:t.filter((function(e){return""==r||(null===e||void 0===e?void 0:e.description.toLowerCase().includes(r.toLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsxs)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e?void 0:e.url,children:[" ",null===e||void 0===e?void 0:e.description]})})}),null===x.teacher?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:S&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:M,children:Object(E.jsx)(ue.a,{onClick:function(t){return function(e,t){e.preventDefault(),c(t),s(!0)}(t,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:F,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){j(!0),f(e)}(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})," "]})})]})}),Object(E.jsx)(ce.a,{sm:9}),Object(E.jsx)(ce.a,{sm:3,style:{textAlign:"right"},className:"due-date-discusstion",children:Object(E.jsx)("div",{className:"inline-flex",children:null===e.classLink?Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")]}):Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e||null===(t=e.classLink)||void 0===t?void 0:t.createdDate).format("ll")]})})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})}))})]})]})})};var Tn=function(e){var t=e.links,n=e.getLinks,s=e.setOpenEditModal,c=e.setEditLinks,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=Object(a.useContext)(D).data.user,v=Object(a.useState)(""),g=Object(H.a)(v,2),w=(g[0],g[1]),N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1];Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(p);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==x.userId})),console.log(a,x.userId),C(!!a));case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){S()}),[]);var S=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(p);case 2:(t=e.sent).ok?w(t.data):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteLinks(p,t);case 2:(a=e.sent).ok?(j(!1),n()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},L=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return T(O)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this data!"}),Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"25px"},children:"Other Links"})}),Object(E.jsx)(Je.a.Body,{children:null===t||void 0===t?void 0:t.filter((function(e){return""==r||(null===e||void 0===e?void 0:e.description.toLowerCase().includes(r.toLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e?void 0:e.url,children:null===e||void 0===e?void 0:e.description})})}),null===x.teacher?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:k&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:A,children:Object(E.jsx)(ue.a,{onClick:function(t){return function(e,t){e.preventDefault(),c(t),console.log(t),s(!0)}(t,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:L,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){j(!0),f(e)}(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})," "]})})]})}),Object(E.jsx)(ce.a,{sm:9}),Object(E.jsx)(ce.a,{sm:3,style:{textAlign:"right"},className:"due-date-discusstion",children:Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{className:"text-color-bcbcbc",children:null===e.classLink?Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")]}):Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e||null===(t=e.classLink)||void 0===t?void 0:t.createdDate).format("ll")]})})})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})}))})]})]})})};var An=function(e){var t=e.videos,n=e.getVideos,s=e.setOpenEditModal,c=e.setEditLinks,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=Object(a.useContext)(D).data.user,v=Object(a.useState)(""),g=Object(H.a)(v,2),w=(g[0],g[1]),N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1];Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(p);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==x.userId})),console.log(a,x.userId),C(!!a));case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){S()}),[]);var S=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(p);case 2:(t=e.sent).ok?w(t.data):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteLinks(p,t);case 2:(a=e.sent).ok?(j(!1),n()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},L=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return T(O)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this data!"}),Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"25px"},children:"Videos"})}),Object(E.jsx)(Je.a.Body,{children:null===t||void 0===t?void 0:t.filter((function(e){return""==r||(null===e||void 0===e?void 0:e.description.toLowerCase().includes(r.toLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e?void 0:e.url,children:null===e||void 0===e?void 0:e.description})})}),null===x.teacher?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:k&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:A,children:Object(E.jsx)(ue.a,{onClick:function(t){return function(e,t){e.preventDefault(),c(t),console.log(t),s(!0)}(t,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:L,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){j(!0),f(e)}(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})," "]})})]})}),Object(E.jsx)(ce.a,{sm:9}),Object(E.jsx)(ce.a,{sm:3,style:{textAlign:"right"},className:"due-date-discusstion",children:Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{className:"text-color-bcbcbc",children:null===e.classLink?Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")]}):Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e||null===(t=e.classLink)||void 0===t?void 0:t.createdDate).format("ll")]})})})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})}))})]})]})})};var In=function(e){var t=e.modal,n=e.setModal,s=e.getConfe,c=e.getVideos,r=e.getLinks,i=(Object(B.useParams)().id,Object(a.useState)("")),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=C[0],T=C[1],A=function(){n(!t),j(""),O(""),v("")},D=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),T(!0),setTimeout((function(){return T(!1)}),1e3),n=sessionStorage.getItem("courseid"),a=JSON.parse(n),""!==d&&""!=h&&""!=x){e.next=9;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=13;break;case 9:return e.next=11,(new Oe).createLinks(a,d,{courseId:a,type:d,description:h,url:x});case 11:(i=e.sent).ok?(L(),A(),s(),c(),r(),j(""),O(""),v("")):I.b.error(i.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){I.b.success("Successfully created link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:A,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Links"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:D,children:[Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Description"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return O(e.target.value)},type:"text",placeholder:"Enter Description name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Url"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return v(e.target.value)},type:"text",placeholder:"Enter Url here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Type"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return j(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"-- Select Unit Here --"}),Object(E.jsx)("option",{value:"1",children:"Conferences"}),Object(E.jsx)("option",{value:"2",children:"Videos"}),Object(E.jsx)("option",{value:"3",children:"Other Links"})]})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{disabled:S,className:"tficolorbg-button",type:"submit",children:"Save Links"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:N,title:"Link Created!",onConfirm:function(){y(!1)}})]})};var En=function(e){var t=e.getConfe,n=e.getVideos,s=e.getLinks,c=e.onSearch,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useContext)(D),b=Object(a.useState)(""),m=Object(H.a)(b,2),h=(m[0],m[1]),O=j.data.user,f=Object(B.useParams)().id,p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=N[0],k=N[1];Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(f);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==O.userId})),g(!!a));case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){C()}),[]);var C=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,(new Oe).getCourseInformation(f);case 3:(t=e.sent).ok?(k(!1),h(t.data)):I.b.error("Something went wrong while fetching course information");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[y&&Object(E.jsx)(ee,{}),Object(E.jsx)("div",{className:"row m-b-20 fd-row",style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"content-pane-title col-md-10 pages-header fd-row",children:["Links",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return C()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),null===(null===O||void 0===O?void 0:O.teacher)?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("p",{className:"title-header m-0",children:v&&Object(E.jsxs)(ue.a,{className:"btn-create-link",variant:"link",onClick:function(){return d(!0)},children:[" ",Object(E.jsx)("i",{className:"fa fa-plus"}),"  Create Links  "]})})})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return c(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search Links here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(In,{getConfe:t,getVideos:n,getLinks:s,setModal:d,modal:u})]})};var Dn=function(e){var t=e.openEditModal,n=e.setOpenEditModal,s=e.editLinks,c=e.getConfe,r=e.getVideos,i=e.getLinks,u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(B.useParams)().id,N=function(e){e.preventDefault(),n(!1)},y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==j&&""!==v){e.next=5;break}I.b.error("Please fill out all fields !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 5:return n=null===s||void 0===s?void 0:s.id,sessionStorage.getItem("courseid"),e.next=9,(new Oe).editClassLinks(w,n,{description:j,url:v});case 9:(a=e.sent).ok?(k(),N(t),c(),r(),i()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==s&&(b(null===s||void 0===s?void 0:s.description),g(null===s||void 0===s?void 0:s.url))}),[s]);var k=function(){I.b.success("Successfully Updated link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return console.log("editLinks:",s),Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:function(){return n(!1),b(null===s||void 0===s?void 0:s.description),void g(null===s||void 0===s?void 0:s.url)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Links"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:y,children:[Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Description"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return b(e.target.value)},defaultValue:null===s||void 0===s?void 0:s.description,type:"text",placeholder:"Enter Description name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Url"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return g(e.target.value)},defaultValue:null===s||void 0===s?void 0:s.url,type:"text",placeholder:"Enter Url here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Type"}),Object(E.jsx)(me.a.Control,{value:null===s||void 0===s?void 0:s.type,type:"text",disabled:!0})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Links"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:O,title:"Done!",onConfirm:function(){f(!1)}})]})};var Ln=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(null),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(B.useParams)().id,y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=(A[0],A[1],Object(a.useState)("")),M=Object(H.a)(L,2),F=(M[0],M[1],Object(a.useState)()),P=Object(H.a)(F,2),z=(P[0],P[1],Object(a.useState)(!1)),Y=Object(H.a)(z,2),R=(Y[0],Y[1],Object(a.useState)("")),q=Object(H.a)(R,2),G=(q[0],q[1],Object(a.useContext)(D).data.user.subsType),U=Object(a.useState)(!1),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"1",e.next=3,(new Oe).getLink(N,"1");case 3:(t=e.sent).ok?u(t.data):alert("Something went wrong while fetching all Conference");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Q(),"LMS"!=G&&(window.location.href="/courses")}),[]);var Z=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"2",e.next=3,(new Oe).getLink(N,"2");case 3:(t=e.sent).ok?m(t.data):I.b.error("Something went wrong while fetching all Conference");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Z()}),[]);var W=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),"3",e.next=4,(new Oe).getLink(N,"3");case 4:(t=e.sent).ok?(J(!1),p(t.data)):I.b.error("Something went wrong while fetching all Conference");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){W()}),[]),Object(E.jsxs)(Ye,{children:[_&&Object(E.jsx)(ee,{}),Object(E.jsx)(Lt,{title:"Links"}),Object(E.jsx)(En,{onSearch:function(e){S(e)},getConfe:Q,getVideos:Z,getLinks:W}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(Sn,{searchTerm:C,getConfe:Q,conference:i,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(An,{searchTerm:C,getVideos:Z,videos:b,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(Tn,{searchTerm:C,getLinks:W,links:f,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)(Dn,{getConfe:Q,getVideos:Z,getLinks:W,editLinks:g,openEditModal:n,setOpenEditModal:s})]})};function Mn(e){var t=e.getVideoInfo,n=e.openCreateVideoModal,s=(e.setCreateVideoModal,e.setOpenCreateVideoModal),c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)([]),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),D=A[0],L=A[1],M=(Object(B.useParams)().id,sessionStorage.getItem("courseid")),F=sessionStorage.getItem("moduleid"),P=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i(!0),e.next=4,(new Oe).createVideo(M,F,{title:w,sequenceNo:p,fileName:m+D,base64String:C});case 4:(a=e.sent).ok?(s(!1),t(M,F),z()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){return I.b.success("Video Saved!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Y=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};return Object(a.useEffect)((function(){}),[]),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return s(!n)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Video"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:P,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Video Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter video name",onChange:function(e){return N(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"File Name"}),Object(E.jsxs)(de.a,{className:"mb-4",children:[Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter filename",onChange:function(e){return h(e.target.value)}}),Object(E.jsx)(de.a.Text,{style:{width:70},children:D})]})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Upload Video"}),Object(E.jsx)(me.a.Control,{className:"",accept:"video/mp4,video/x-m4v,video/*",type:"file",style:{backgroundColor:"inherit"},onChange:function(e){return t=e.target.files[0],console.log(t),void(""!=t&&Y(t).then((function(e){console.log(t.name);var n=t.name.split(".").pop();L(".".concat(n)),S(e)})));var t}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence No"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter sequence number",onChange:function(e){return x(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save"})})]})})]})})}function Fn(e){var t=e.getVideoInfo,n=e.openEditVideoModal,s=e.setOpenEditVideoModal,c=e.selectedVideo,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=(i[0],i[1]),d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)([]),C=Object(H.a)(k,2),S=C[0],T=C[1],A=sessionStorage.getItem("courseid"),D=sessionStorage.getItem("moduleid"),L=function(e){e.preventDefault(),s(!1)},M=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok&&T(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M(A)}),[]);var F=function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),u(!0),e.next=4,(new Oe).editVideo(A,null===c||void 0===c?void 0:c.id,{title:h,sequenceNo:x,moduleId:N});case 4:(a=e.sent).ok?(L(n),B(),t(A,D)):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){null!==c&&(O(null===c||void 0===c?void 0:c.title),v(null===c||void 0===c?void 0:c.sequenceNo))}),[c]);var B=function(){return I.b.success("Video Updated!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return s(!n)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Video Info"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:F,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return y(e.target.value)},children:[Object(E.jsx)("option",{children:"Select Unit Here "}),S.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.moduleName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Video Name"}),Object(E.jsx)(me.a.Control,{defaultValue:null===c||void 0===c?void 0:c.title,className:"custom-input",size:"lg",type:"text",placeholder:"Enter video name",onChange:function(e){return O(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence No"}),Object(E.jsx)(me.a.Control,{defaultValue:null===c||void 0===c?void 0:c.sequenceNo,className:"custom-input",size:"lg",type:"text",placeholder:"Enter Sequence number",onChange:function(e){return v(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save"})})]})})]})})}var Bn=n(209),Hn=n.n(Bn);function Pn(e){var t=e.selectedVideo,n=(e.setShowVideo,Object(a.useState)(!1)),c=Object(H.a)(n,2),r=(c[0],c[1],sessionStorage.getItem("modulename"));return console.log(t),Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:null===t||void 0===t?void 0:t.title}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"course-subtitle",children:Object(E.jsx)("small",{children:r})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:t.fileName}}),Object(E.jsx)("div",{children:Object(E.jsx)(Hn.a,{playing:!0,controls:!0,url:t.path})})]})}function zn(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(!1),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(!1),d=Object(H.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(null),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),P=F[0],z=(F[1],Object(a.useState)("")),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)([]),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(B.useParams)().id,Q=Object(a.useState)(!1),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(""),$=Object(H.a)(X,2),ee=$[0],te=$[1],ae=Object(a.useContext)(D).data.user,ie=sessionStorage.getItem("courseid"),le=(sessionStorage.getItem("moduleid"),Object(a.useState)("")),be=Object(H.a)(le,2),me=(be[0],be[1]),he=ae.subsType,fe=Object(a.useState)(!1),pe=Object(H.a)(fe,2),xe=pe[0],ve=pe[1],ge=function(){i(!r)},we=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),s=a,e.next=4,(new Oe).getVideoInformation(ie,s);case 4:c=e.sent,n(!1),c.ok?w(c.data):alert("Something went wrong while fetching all task");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(new Oe).getCourseUnit(J);case 3:a=e.sent,n(!1),a.ok?(_(a.data),console.log(a.data)):alert("Something went wrong while fetching course unit");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){C(!1)},ke=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),sessionStorage.getItem("moduleid"),e.next=4,(new Oe).deleteVideo(J,A);case 4:a=e.sent,n(!1),a.ok?(Te(),we(null,P)):alert(a.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(e){q(e)},Se=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(J);case 2:(t=e.sent).ok?me(t.data):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(J);case 2:(t=e.sent).ok&&(n=t.data,a=n.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==ae.userId})),console.log(a,ae.userId),ve(!!a));case 4:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){Ne(),Se(),"LMS"!=he&&(window.location.href="/courses")}),[]);var Te=function(){return I.b.error("Video Deleted!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Ae=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Ie=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(Ye,{children:[Object(E.jsx)(Lt,{title:ee,clicked:function(){return te(""),void K(!1)}}),W?Object(E.jsx)(Pn,{selectedVideo:f,showVideos:W,setShowVideos:K}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:"Video"}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:Ce,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search unit or video here",type:"search",onChange:function(e){return Ce(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Fn,{getVideoInfo:we,setVideoInfo:w,selectedVideo:f,openEditVideoModal:j,setOpenEditVideoModal:b}),Object(E.jsx)(Mn,{getVideoInfo:we,setVideoInfo:w,openCreateVideoModal:r,setOpenCreateVideoModal:i}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:V.map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){return we(t,e.id)},children:Object(E.jsxs)("span",{className:"unit-title",children:[e.moduleName,xe&&Object(E.jsxs)(ue.a,{className:"btn-create-class",variant:"link",onClick:ge,children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Add Video"]})]})}),Object(E.jsxs)(Je.a.Body,{children:[g.filter((function(e){return e.title.toLowerCase().includes(R.toLowerCase())})).map((function(e,t){return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{className:"lesson-header",md:9,children:Object(E.jsx)("span",{onClick:function(t){var n;te((n=e).title),p(n),K(!0)},children:null===e||void 0===e?void 0:e.title})}),xe&&Object(E.jsxs)(ce.a,{className:"align-right-content",md:3,children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Ae,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",onClick:function(t){return function(e,t){e.preventDefault(),p(t),b(!j)}(t,e)},children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:25},overlay:Ie,children:Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-trash",onClick:function(){C(!0),L(e.id)}})})})]})]})})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:k,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return function(e){ke(e),C(!1)}(e.id)},onCancel:ye,focusCancelBtn:!0,children:"You will not be able to recover this Video!"})]})]})})}))})]})]})}var Yn=function(e){var t,n,s,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)({}),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)({}),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)(!0),B=Object(H.a)(F,2),P=B[0],z=B[1],Y=Object(a.useState)(""),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(""),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)(""),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(!1),$=Object(H.a)(X,2),ee=$[0],te=$[1],ae=Object(a.useState)(!1),se=Object(H.a)(ae,2),ie=se[0],le=se[1],je=Object(a.useContext)(D).data.user,he=je.subsType,fe=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))},pe=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))},xe=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Download"}))},ve=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},ge=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Class"==e.type&&Ne(),"Course"==e.type&&ye();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),we=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getContributor(e.id);case 2:(n=t.sent).ok&&(a=n.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==je.userId})),console.log(s,je.userId),z(!!s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&we()}),[]);var Ne=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fileName:b.name,subFolderLocation:e.subFolder},t.next=3,(new Ct).deleteCourseTeacherResourceFile(e.id,n);case 3:(a=t.sent).ok?(u(!1),e.deleted(),I.b.success("File deleted successfully")):(u(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fileName:b.name,subFolderLocation:e.subFolder},t.next=3,(new Ct).deleteCourseTeacherResourceFile(e.id,n);case 3:(a=t.sent).ok?(u(!1),e.deleted(),I.b.success("File deleted successfully")):(u(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ke=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==C){t.next=9;break}return n=C.includes(L)?C:C+L,a={newFileName:n,oldFileName:w.name,subFolderLocation:e.subFolder},t.next=5,(new Ct).editTeacherResourceFile(e.id,a);case 5:(s=t.sent).ok?(x(!1),e.deleted(),I.b.success("Filename updated successfully"),S("")):(x(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage.replace("distributor","contributor"))),t.next=10;break;case 9:I.b.error("Please enter filename.");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ce=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==C){t.next=9;break}return n=C.includes(L)?C:C+L,a={newFileName:n,oldFileName:w.name,subFolderLocation:e.subFolder},t.next=5,(new Ct).updateTeacherResource(e.id,a);case 5:(s=t.sent).ok?(x(!1),e.deleted(),I.b.success("Filename updated successfully"),S("")):(x(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage.replace("distributor","contributor"))),t.next=10;break;case 9:I.b.error("Please enter filename.");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Se=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return le(!1),n={newFileName:_,oldFileName:q,subFolderLocation:"".concat(e.subFolder)},t.next=4,(new Ct).updateTeacherResource(e.id,e.type,n);case 4:t.sent.ok?(e.deleted(),I.b.success("Successfully renamed folder.")):I.b.error("Folder name is already exist.");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Te=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={subFolderLocation:"".concat(e.subFolder,"/").concat(W)},t.next=3,(new Ct).deleteCourseTeacherResourceFolder(e.id,n);case 3:(a=t.sent).ok?(e.deleted(),I.b.success("Successfully deleted folder.")):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage),te(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:["TeacherResources"==he&&(null===(t=e.data)||void 0===t?void 0:t.length)>0&&Object(E.jsx)(ce.a,{className:"d-flex justify-content-end",children:Object(E.jsx)(ue.a,{size:"lg",className:"tficolorbg-button float-right",onClick:function(){return t=null===e||void 0===e?void 0:e.data,void function e(n){if(!(n>=t.length)){var a=document.createElement("a");a.href=t[n].pathBase,a.target="_blank","download"in a&&(a.download=t[n].name),(document.body||document.documentElement).appendChild(a),a.click&&a.click(),a.parentNode.removeChild(a),setTimeout((function(){e(n+1)}),500)}}(0);var t},children:"Download ALL Files"})}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  ",Object(E.jsx)("th",{children:"Actions"})]})}),Object(E.jsxs)("tbody",{children:[null===(n=e.data)||void 0===n?void 0:n.filter((function(t){var n;return t.name.toLowerCase().includes(null===(n=e.filter)||void 0===n?void 0:n.toLowerCase())})).map((function(e,t){var n,a,s,c;return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"ellipsis w-75 file-name font-size-22",children:e.name}),P&&window.location.pathname.includes("course")&&"LMS"==he?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("td",{style:{paddingRight:"15px"},children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:(null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?pe:xe,children:Object(E.jsx)("a",{href:e.pathBase,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"".concat((null===(a=e.pathBase)||void 0===a?void 0:a.match(/.(jpg|jpeg|png|gif|pdf)$/i))?"fa-eye":"fa-arrow-down"," fas td-file-page")})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:ve,children:Object(E.jsx)("i",{className:je.isSchoolAdmin?"d-none":"fas fas fa-edit td-file-page",onClick:function(){return function(e){var t=e.name.split(".").pop(),n=e.name.replace(".".concat(t),"");M(".".concat(t)),x(!0),N(e),S(n)}(e)}})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:fe,children:Object(E.jsx)("a",{children:Object(E.jsx)("i",{className:je.isSchoolAdmin?"d-none":"fas fa-trash-alt td-file-page",onClick:function(){return t=e,u(!0),void h(t);var t}})})})]})}):Object(E.jsx)("td",{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:(null===(s=e.pathBase)||void 0===s?void 0:s.match(/.(jpg|jpeg|png|gif|pdf)$/i))?pe:xe,children:Object(E.jsx)("a",{href:e.pathBase,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"".concat((null===(c=e.pathBase)||void 0===c?void 0:c.match(/.(jpg|jpeg|png|gif|pdf)$/i))?"fa-eye":"fa-arrow-down"," fas td-file-page")})})})})]},t+e.name)})),null===(s=e.folders)||void 0===s?void 0:s.filter((function(t){var n;return t.name.toLowerCase().includes(null===(n=e.filter)||void 0===n?void 0:n.toLowerCase())})).map((function(t,n){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{className:"ellipsis w-75 colored-class font-size-22",onClick:function(){return e.clickedFolder(t)},children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsxs)("span",{className:"font-size-22",children:[" ",t.name]})]}),P&&window.location.pathname.includes("course")&&"LMS"==he?Object(E.jsxs)("td",{children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:ve,children:Object(E.jsx)("i",{class:"fas fas fa-edit td-file-page",onClick:function(){return G((e=t).name),J(e.name),void le(!0);var e}})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:fe,children:Object(E.jsx)("a",{children:Object(E.jsx)("i",{class:"fas fa-trash-alt td-file-page",onClick:function(){return K("".concat(t.name)),void te(!0)}})})})]}):Object(E.jsx)("td",{})]},n+t.name)}))]}),Object(E.jsxs)(be.a,{size:"lg",show:p,onHide:function(){return x(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Filename"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{children:[Object(E.jsxs)("p",{children:["Current filename: ",Object(E.jsx)("span",{children:w.fileName})]}),Object(E.jsx)(me.a.Label,{children:"New Filename"}),Object(E.jsxs)(de.a,{className:"mb-4",children:[Object(E.jsx)(me.a.Control,{defaultValue:C,value:C,type:"text",onChange:function(e){return S(e.target.value.replace(".",""))}}),Object(E.jsx)(de.a.Text,{children:L})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return"Class"==e.type&&Ce(),void("Course"==e.type&&ke())},children:"Update Filename"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",show:ie,onHide:function(){return le(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Folder name"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{children:[Object(E.jsxs)("p",{children:["Current folder name: ",Object(E.jsx)("span",{children:q})]}),Object(E.jsx)(me.a.Label,{children:"New folder name"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{defaultValue:C,value:_,type:"text",onChange:function(e){return J(e.target.value.replace(".",""))}})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return Se()},children:"Update Folder"})})]})})]}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:i,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return ge()},onCancel:function(){return u(!1)},focusCancelBtn:!0,children:"You will not be able to recover this file!"}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:ee,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return Te()},onCancel:function(){return te(!1)},focusCancelBtn:!0,children:"You will not be able to recover this folder!"})]})]})};var Rn=function(e){var t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),L=Object(H.a)(A,2),M=(L[0],L[1]),F=Object(a.useState)(!0),P=Object(H.a)(F,2),z=P[0],Y=P[1],R=Object(a.useContext)(D).data.user,q=Object(B.useParams)(),G=q.id,U=(q.path,Object(a.useState)(!1)),V=Object(H.a)(U,2),_=V[0],J=(V[1],localStorage.getItem("typeresource")),Q=R.subsType,Z=u.filter((function(e){return 100!=e.progress}));Object(a.useEffect)((function(){"Course"==e.type&&(K(),W())}),[]);var W=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getContributor(e.id);case 2:(n=t.sent).ok&&(a=n.data,s=a.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==R.userId})),console.log(s,R.userId),Y(!!s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(G);case 2:(t=e.sent).ok?(M(t.data),t.data.isTechfactors&&window.location.pathname.includes("resources")):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){""!=e&&Object.values(e).map((function(e,t){$(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0,status:""};u.push(n),d(Object(Te.a)(u))}))}))},$=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},ee=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(!0),"Course"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newTeacherResourceFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),O(0==l.length),v(0!=l.length)):(d([]),O(!1),v(!1),(null===(j=i.data)||void 0===j?void 0:j.errorMessage.includes("exist"))?(u[a].progress=100,u[a].status="failed",d(Object(Te.a)(u))):(c(!1),I.b.error(null===(b=i.data)||void 0===b?void 0:b.errorMessage.replace("distributor","contributor"))));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"Class"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newClassFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),O(0==l.length),v(0!=l.length)):(d([]),O(!1),v(!1),(null===(j=i.data)||void 0===j?void 0:j.errorMessage.includes("exist"))?(u[a].progress=100,u[a].status="failed",d(Object(Te.a)(u))):(c(!1),I.b.error(null===(b=i.data)||void 0===b?void 0:b.errorMessage.replace("distributor","contributor"))));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(e){var t=u;t.splice(e,1),d(Object(Te.a)(t))},ae=function(){c(!1),d([]),e.doneUpload(),O(!1),v(!1),v(!1)},ie=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Course"!=e.type){t.next=6;break}return n={folderName:S,subFolderLocation:e.subFolder},t.next=4,(new Ct).createTeacherResourceFolder(e.id,n);case 4:(a=t.sent).ok?(e.doneUpload(),y(!1),I.b.success("Folder created successfully.")):(y(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 6:if("Class"!=e.type){t.next=12;break}return c={folderName:S,subFolderLocation:e.subFolder},t.next=10,(new Ct).createCLassFolder(e.id,c);case 10:(r=t.sent).ok?(e.doneUpload(),y(!1)):(y(!1),I.b.error(null===(i=r.data)||void 0===i?void 0:i.errorMessage.replace("distributor","contributor")));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{flexDirection:"row",paddingLeft:0},className:"pages-header file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:e.title})}),"class"===J?"":Object(E.jsx)(E.Fragment,{children:z&&"LMS"==Q&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Create Folder"}))},children:Object(E.jsx)("i",{style:{marginTop:10},className:"fas fa-folder-plus file-upload-content font-size-35 cursor-pointer",onClick:function(){return y(!0)}})})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return y(!0)},children:" New Folder  "})}),Object(E.jsx)("div",{children:Object(E.jsx)("h5",{style:{paddingTop:15},className:"fileupload",children:" OR "})}),Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return c(!0)},children:" + Upload Files  "})})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload File"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return X(e.target.files)}})]})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),"failed"==e.status?Object(E.jsx)("td",{style:{fontSize:14,color:"red"},children:"Failed to upload.File already exist."}):Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," KB ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return te(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",disabled:0==Z.length,className:"file-library file-button-upload mx-3",onClick:function(){return ee()},children:x?"Uploading...":"Upload"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:h?"file-library file-button-upload":"d-none",onClick:function(){return ae()},children:"Done"})]})]}),Object(E.jsxs)(be.a,{size:"lg",show:N,onHide:function(){return y(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Folder"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(de.a,{size:"lg",children:Object(E.jsx)(je.a,{onChange:function(e){return T(e.target.value)},className:"mb-2","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Enter folder name"})}),_?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return X(e.target.files)}})]})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),"failed"==e.status?Object(E.jsx)("td",{style:{fontSize:14,color:"red"},children:"Failed to upload.File already exist."}):Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," KB ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return te(t)}})]})]},e.fileName)}))})]})]}):Object(E.jsx)(E.Fragment,{}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:_?"d-none":"file-library file-button-upload",onClick:function(){return ie()},children:"Save Folder"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:h?"file-library file-button-upload":"d-none",onClick:function(){return ae()},children:"Done"})]})]})]})};var qn=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)().id,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=(b[0],b[1]),h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=f.map((function(e){return"/".concat(e.value)}));Object(a.useContext)(D).data.user.subsType,Object(a.useEffect)((function(){k("")}),[]);var y=function(){k(N.join(""))},k=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),n={subFolderLocation:t},e.next=4,(new Ct).getTeacherResources(d,n);case 4:(a=e.sent).ok?(s(null===(c=a.data)||void 0===c?void 0:c.files),u(null===(r=a.data)||void 0===r?void 0:r.folders)):alert("Something went wrong while fetching Course files.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(Ye,{children:[Object(E.jsx)(Lt,{title:"",clicked:function(){return console.log("")}}),Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsx)(Rn,{type:"Course",title:"Teacher Resources",id:d,subFolder:N.join(""),doneUpload:function(){return y()}}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return w(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search File here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)("p",{style:{fontSize:"20px"},children:[Object(E.jsx)("span",{onClick:function(){return p([]),void k("")},className:0==f.length?"fix-color-bread":"colored-files-bread",children:"Teacher Resources"}),f.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Course"==n&&(N.length=t+1,f.length=t+1,k(N.join("")))}(e.value,t,"Course")},className:f.length==t+1?"fix-color-bread":"colored-files-bread",children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))]}),Object(E.jsx)(Yn,{filter:g,data:n,folders:i,subFolder:N.join(""),clickedFolder:function(e){return function(e){var t={naame:e,value:e};f.push(t),k("".concat(N.join(""),"/").concat(e))}(e.name)},deleted:function(){return y()},type:"Course",id:d})]})]})};var Gn=function(e){var t=e.active,n=e.courseInfos,s=Object(B.useParams)().id;return Object(a.useEffect)(Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(s);case 2:t=e.sent,console.log(t,"--------------------------------");case 4:case"end":return e.stop()}}),e)}))),[]),Object(E.jsxs)("div",{className:"side-navigation",children:[n.courseName,Object(E.jsx)("div",{className:"course-subtitle",children:n.authorName}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s),className:"side-navigation-item ".concat("Learn"===t?"active":""),children:"Learn"}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s,"/discussion"),className:"side-navigation-item ".concat("Discussion"===t?"active":""),children:"Discussion"}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s,"/exam"),className:"side-navigation-item ".concat("Exam"===t?"active":""),children:"Exam"}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s,"/assignment"),className:"side-navigation-item ".concat("Assignment"===t?"active":""),children:"Assignment"}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s,"/task"),className:"side-navigation-item ".concat("Task"===t?"active":""),children:"Task"}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s,"/interactive"),className:"side-navigation-item ".concat("Interactive"===t?"active":""),children:"Interactive"}),Object(E.jsx)(F.b,{to:"/school_courses/".concat(s,"/files"),className:"side-navigation-item ".concat("Files"===t?"active":""),children:"Files"})]})};function Un(){var e=Object(B.useParams)().id,t=Object(a.useContext)(D).data.user,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=t.subsType,u=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Oe).getCourseInformation(e);case 2:(n=t.sent).ok&&r(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){u(),"LMS"!=i&&(window.location.href="/courses")}),[]),Object(E.jsxs)(E.Fragment,{children:[t.isSchoolAdmin&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(te,{title:"Exam",style:"not-scrollable",activeHeader:"exam",children:Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Exam"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(un,{})})]})})}),Object(E.jsxs)(Ye,{children:[Object(E.jsx)(Lt,{title:"Exam Information",clicked:function(){return window.location.replace("/courses/".concat(e,"/exam"))}}),Object(E.jsx)(un,{})]})]})}var Vn=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getClassInfo=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/status/true"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N);function _n(e){var t,n,s,c,r,i,u,d,j,b=e.children,h=Object(a.useContext)(D),O=Object(a.useState)(null),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(B.useParams)().id,g=h.data.user,w=window.location.pathname,N=Object(a.useState)("false"!=localStorage.getItem("collaps")),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(!1),T=Object(H.a)(S,2),A=T[0],I=T[1],L=Object(a.useState)(!0),M=Object(H.a)(L,2),P=M[0],z=M[1],Y=g.subsType,R=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Vn).getClassInfo(v);case 2:(t=e.sent).ok?(console.log(t.data,"--------------------------------"),x(t.data)):alert("Something went wrong while fetching all courses"),I(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Learn"}))},G=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Interactive"}))};Object(a.useEffect)((function(){R()}),[window.location.pathname]),Object(a.useEffect)((function(){console.log(localStorage.getItem("collaps")),z("false"!=localStorage.getItem("collaps"))}),[k]);var U=function(e){C(e),localStorage.setItem("collaps",e)};return Object(E.jsxs)(te,{activeHeader:"classes",loading:A,fluid:!0,style:"",children:[Object(E.jsx)(ce.a,{style:{height:100}}),Object(E.jsxs)(se.a,{children:[P?Object(E.jsxs)(ce.a,{className:"row-course-bg course-widget-font",sm:3,children:[Object(E.jsx)(ze.a.Item,{className:"list-group-item-o",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"",sm:9,children:[Object(E.jsx)("div",{className:"class-subtitle-section",children:null===p||void 0===p||null===(t=p.classInformation)||void 0===t?void 0:t.className}),Object(E.jsxs)("div",{className:"class-subtitle-code",children:[" ",null===p||void 0===p||null===(n=p.classInformation)||void 0===n?void 0:n.classCode]}),Object(E.jsx)("div",{className:"class-subtitle-section",children:null===p||void 0===p||null===(s=p.classInformation)||void 0===s?void 0:s.teacherName}),Object(E.jsx)("div",{className:"class-subtitle-subject",children:null===p||void 0===p||null===(c=p.classInformation)||void 0===c?void 0:c.gradeName}),Object(E.jsx)("div",{className:"class-subtitle-name",children:null===p||void 0===p||null===(r=p.classInformation)||void 0===r?void 0:r.courseName})]}),Object(E.jsxs)(ce.a,{className:"ellipsis-top-right",sm:3,children:[Object(E.jsx)("i",{className:"fas fa-chevron-left cursor-pointer color-black",onClick:function(){return U(!1)}}),Object(E.jsxs)("div",{className:"fa-user-size",children:[Object(E.jsx)("i",{className:"fas fa-user"})," ",null===p||void 0===p||null===(i=p.students)||void 0===i?void 0:i.length]})]})]})}),"LMS"==Y&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:w.includes("feed")?"active-nav-item":"nav-item",to:"/classescontent/".concat(v,"/feed"),children:"Feed"}),Object(E.jsx)(F.b,{className:w.includes("learn")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/learn"),children:"Learn"}),Object(E.jsx)(F.b,{className:w.includes("exam")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/exam"),children:"Exam"}),Object(E.jsx)(F.b,{className:w.includes("task")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/task"),children:"Task"}),null!==(null===g||void 0===g?void 0:g.teacher)&&Object(E.jsx)(F.b,{className:w.includes("resources")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/resources"),children:"Teacher Resources"}),Object(E.jsx)(F.b,{className:w.includes("links")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/links"),children:"Links"}),Object(E.jsx)(F.b,{className:w.includes("discussion")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/discussion"),children:"Discussion"}),Object(E.jsx)(F.b,{className:w.includes("assignment")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/assignment"),children:"Assignment"}),Object(E.jsx)(F.b,{className:w.includes("interactives")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/interactives"),children:"Class Interactives"}),(null===p||void 0===p||null===(u=p.classInformation)||void 0===u||null===(d=u.course)||void 0===d?void 0:d.isTechfactors)&&Object(E.jsx)(F.b,{className:w.includes("videos")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/videos"),children:"Videos Upload"}),Object(E.jsx)(F.b,{className:w.includes("files")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/files"),children:"Files"}),null!=(null===g||void 0===g?void 0:g.teacher)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:w.includes("classList")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/classList"),children:"Class List"}),Object(E.jsx)(F.b,{className:w.includes("class_grading")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/class_grading"),children:"Class Grading"}),Object(E.jsx)(F.b,{className:w.includes("class_meeting")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/class_meeting"),children:"Class Meeting"})]})]}),"Ebooks"==Y&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:w.includes("learn")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/learn"),children:"Learn"}),Object(E.jsx)(F.b,{className:w.includes("ebooksFiles")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/ebooksFiles"),children:"Files"}),(null===g||void 0===g?void 0:g.isTeacher)&&Object(E.jsx)(F.b,{className:w.includes("classList")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/classList"),children:"Class List"})]}),"Interactives"==Y&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:w.includes("interactives")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/interactives"),children:"Class Interactives"}),null!=(null===g||void 0===g?void 0:g.teacher)&&Object(E.jsx)(F.b,{className:w.includes("classList")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/classList"),children:"Class List"})]}),"TeacherResources"==Y&&Object(E.jsxs)(ze.a,{children:[null!==(null===g||void 0===g?void 0:g.teacher)&&Object(E.jsx)(F.b,{className:w.includes("resources")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/resources"),children:"Teacher Resources"}),Object(E.jsx)(F.b,{className:w.includes("interactives")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/interactives"),children:"Class Interactives"}),null!=(null===g||void 0===g?void 0:g.teacher)&&Object(E.jsx)(F.b,{className:w.includes("classList")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/classList"),children:"Class List"})]})]}):Object(E.jsxs)(ce.a,{className:"row-course-bg course-widget-font",sm:1,children:[Object(E.jsx)(ce.a,{className:"text-align-right mb-2",children:Object(E.jsx)("i",{className:"fas fa-chevron-right",style:{color:"#EE9337"},onClick:function(){return U(!0)}})}),"LMS"==Y&&Object(E.jsxs)(ze.a,{children:[Object(E.jsx)(F.b,{className:w.includes("feed")?"active-nav-item":"nav-item",to:"/classescontent/".concat(v,"/feed"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Feed"}))},children:Object(E.jsx)("i",{className:"fas fa-comment"})})}),Object(E.jsx)(F.b,{className:w.includes("learn")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/learn"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:q,children:Object(E.jsx)("i",{className:"fas fa-book"})})}),Object(E.jsx)(F.b,{className:w.includes("exam")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/exam"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Exam"}))},children:Object(E.jsx)("i",{className:"fas fa-file-alt"})})}),Object(E.jsx)(F.b,{className:w.includes("discussion")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/discussion"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Discussion"}))},children:Object(E.jsx)("i",{className:"fas fa-comment-alt"})})}),Object(E.jsx)(F.b,{className:w.includes("assignment")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/assignment"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assignment"}))},children:Object(E.jsx)("i",{className:"fas fa-sticky-note"})})}),Object(E.jsx)(F.b,{className:w.includes("task")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/task"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Task"}))},children:Object(E.jsx)("i",{className:"fas fa-edit"})})}),Object(E.jsx)(F.b,{className:w.includes("interactives")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/interactives"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:G,children:Object(E.jsx)("i",{className:"fas fa-chalkboard-teacher"})})}),Object(E.jsx)(F.b,{className:w.includes("resources")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/resources"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Teacher Resources"}))},children:Object(E.jsx)("i",{className:"fas fa-link"})})}),Object(E.jsx)(F.b,{className:w.includes("links")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/links"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Links"}))},children:Object(E.jsx)("i",{className:"fa fa-link"})})}),(null===p||void 0===p||null===(j=p.classInformation.course)||void 0===j?void 0:j.isTechfactors)&&Object(E.jsx)(F.b,{className:w.includes("videos")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/videos"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Videos Upload"}))},children:Object(E.jsx)("i",{className:"fas fa-video"})})}),null!=(null===g||void 0===g?void 0:g.teacher)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{className:w.includes("classList")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/classList"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Class List"}))},children:Object(E.jsx)("i",{className:"fas fa-users"})})}),Object(E.jsx)(F.b,{className:w.includes("files")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/files"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Files"}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open"})})})]})]}),"Ebooks"==Y&&Object(E.jsx)(ze.a,{children:Object(E.jsx)(F.b,{className:w.includes("learn")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/learn"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:q,children:Object(E.jsx)("i",{className:"fas fa-book"})})})}),"Interactives"==Y&&Object(E.jsx)(F.b,{className:w.includes("interactives")?"active-nav-item":"nav-item",to:"/classes/".concat(v,"/interactives"),children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:G,children:Object(E.jsx)("i",{className:"fas fa-chalkboard-teacher"})})}),"TeacherResources"==Y&&Object(E.jsx)(ze.a,{})]}),Object(E.jsx)(ce.a,{sm:P?9:11,className:"scrollable vh-85 pb-5  pl-20",children:b})]})]})}function Jn(e){var t=e.title,n=e.clicked,a=e.secondItem,s=e.clickedSecond,c=(sessionStorage.getItem("breadname"),window.location.pathname.split("/")[3]);return Object(E.jsx)("div",{className:"row font-20",children:Object(E.jsxs)("div",{className:"bread-margin bread-crumbs-position",children:[Object(E.jsxs)("span",{children:[Object(E.jsx)(F.b,{className:"text-decoration-none text-black",to:"/classes",children:"Classes"})," ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})]}),Object(E.jsxs)("span",{className:""==t?"tfi-font-color capitalize":"capitalize hand",onClick:n,children:[function(){switch(c){case"classList":return"Class List";case"files":return"Files";case"interactives":return"Interactive Exercises";case"class_grading":return"Class Grading";case"class_meeting":return"Class Meeting";case"resources":return"Teacher Resources";default:return c}}()," "]}),""!==t&&Object(E.jsxs)("span",{className:a?"hand capitalize":"tfi-font-color capitalize",onClick:a?s:"",children:[Object(E.jsx)("i",{class:"text-black fas fa-chevron-right m-l-10 m-r-10 "}),t]}),a&&Object(E.jsxs)("span",{className:""!==a?"tfi-font-color capitalize":"",children:[Object(E.jsx)("i",{class:"text-black fas fa-chevron-right m-l-10 m-r-10 "}),a]})]})})}function Qn(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=e.subsType,s=Object(B.useHistory)();return Object(a.useEffect)((function(){"LMS"!=n&&(window.location.href="/classes")}),[]),Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"Exam Information",clicked:function(){return s.push("/classes/".concat(t,"/exam"))}}),Object(E.jsx)(un,{})]})}var Zn=function(e){var t=e.modal,n=e.toggle,s=e.module,c=e.getAssignmentList,r=(e.question,e.setQuestion,Object(a.useState)("")),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)([]),A=Object(H.a)(T,2),D=(A[0],A[1],Object(a.useState)(!1)),L=Object(H.a)(D,2),M=L[0],F=L[1],P=Object(a.useState)([]),Y=Object(H.a)(P,2),R=(Y[0],Y[1],Object(a.useState)([])),q=Object(H.a)(R,2),G=q[0],U=(q[1],null===G||void 0===G||G.map((function(e){return"/".concat(e.value)})),Object(a.useState)("")),V=Object(H.a)(U,2),_=(V[0],V[1],Object(a.useState)(!1)),J=Object(H.a)(_,2),Q=(J[0],J[1],Object(a.useState)(!1)),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(null),$=Object(H.a)(X,2),ee=($[0],$[1],Object(B.useParams)().id),te=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),K(!0),setTimeout((function(){return K(!1)}),1e3),""!=u&&""!==m&&""!==p&&"{{type=equation}}"!==p&&""!==w){e.next=7;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 7:if(!(w<=0)){e.next=11;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 11:return e.next=13,(new z).createAssignment(u,ee,{assignment:{assignmentName:m,instructions:p,rate:w},classAssignment:{}});case 13:(a=e.sent).ok?(ne(),d(""),h(""),x(""),N(""),c(null,u),n(t)):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){I.b.success("Successfully saved assignment!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Assignment"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)("div",{className:M?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)("div",{className:"text-align-right",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return F(!M)},children:"File Library"})}),Object(E.jsxs)(me.a,{onSubmit:te,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return d(e.target.value)},children:[Object(E.jsx)("option",{children:"-- Select Unit Here --"}),s.map((function(e){return Object(E.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.moduleName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Assignment Name"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return h(e.target.value)},type:"text",placeholder:"Enter Assignment Name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Rate"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return N(e.target.value)},type:"number",placeholder:"Enter Rate here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Instruction"}),Object(E.jsx)(ct,{value:p,placeholder:"Enter instruction here",onChange:function(e){return x(e)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{disabled:W,className:"tficolorbg-button",type:"submit",children:"Save Assignment"})})]})]})]}),Object(E.jsx)(oe.a,{success:!0,show:C,title:"Done!",onConfirm:function(){S(!1)}})]})};var Wn=function(e){var t=e.module,n=e.getAssignmentList,s=e.refmoduleId,c=e.onSearch,r=e.onRefresh,i=Object(a.useState)(!1),o=Object(H.a)(i,2),l=o[0],u=o[1],d=Object(a.useContext)(D).data.user;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",style:{paddingTop:"10px"},children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Assignment "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:r,className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),d.isTeacher&&Object(E.jsx)("p",{className:"title-header m-0-dashboard",children:Object(E.jsxs)(ue.a,{className:"btn-create-task",Button:!0,variant:"link",onClick:function(){return u(!0)},children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Create Assignment"]})})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return c(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search assignment here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Zn,{toggle:function(){u(!l)},modal:l,module:t,getAssignmentList:n,refmoduleId:s})]})};var Kn=function(e){var t,n=e.setRate,s=e.rate,c=e.setModal,r=e.modal,i=e.editAssignment,u=e.getAssignmentList,d=e.moduleId,j=e.instructions,b=e.setInstructions,m=e.setAssignmentName,h=e.assignmentName,O=e.unit,f=e.assignmentId,p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(null===i||void 0===i||null===(t=i.assignment)||void 0===t?void 0:t.instructions),N=Object(H.a)(w,2),y=(N[0],N[1],Object(a.useState)([])),k=Object(H.a)(y,2),C=(k[0],k[1],Object(a.useState)(!1)),S=Object(H.a)(C,2),T=S[0],A=S[1],D=Object(a.useState)([]),L=Object(H.a)(D,2),M=(L[0],L[1],Object(a.useState)([])),F=Object(H.a)(M,2),P=F[0],Y=(F[1],null===P||void 0===P||P.map((function(e){return"/".concat(e.value)})),Object(a.useState)("")),R=Object(H.a)(Y,2),q=(R[0],R[1],Object(a.useState)(!1)),G=Object(H.a)(q,2),U=(G[0],G[1],Object(a.useState)(null)),V=Object(H.a)(U,2),_=(V[0],V[1]),J=Object(B.useParams)().id,Q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==j&&"{{type=equation}}"!==j&&""!==s&&""!==h){e.next=5;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 5:if(!(s<=0)){e.next=9;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 9:return n=f,a=d,e.next=13,(new z).updateAssignment(n,{assignmentName:h,instructions:j,rate:s,isShared:null});case 13:(r=e.sent).ok?(u(null,a),c(!1),Z()):I.b.error(r.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){I.b.success("Successfully updated assignment!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){W()}),[]);var W=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getClassInformation(J);case 2:(t=e.sent).ok&&_(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.courseId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:r,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Assignment"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)("div",{className:T?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)("div",{className:"text-align-right",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return A(!T)},children:"File Library"})}),Object(E.jsxs)(me.a,{onSubmit:Q,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsx)(me.a.Select,{disabled:!0,children:Object(E.jsx)("option",{children:O})})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Assignment Name"}),Object(E.jsx)(me.a.Control,{defaultValue:h,placeholder:"Enter Assignment Name here",type:"text",onChange:function(e){return m(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Rate"}),Object(E.jsx)(me.a.Control,{defaultValue:s,onChange:function(e){return n(e.target.value)},type:"number",placeholder:"Enter Rate here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Instruction"}),Object(E.jsx)(ct,{value:j,placeholder:"Enter instruction here",onChange:function(e){return b(e)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Assignment"})})]})]})]}),Object(E.jsx)(oe.a,{success:!0,show:v,title:"Done!",onConfirm:function(){g(!1)}})]})};var Xn=function(e){var t=e.selectedAssignmentName,n=e.moduleId,s=e.getAssignmentList,c=e.assginModal,r=e.assignAssignmentToggle,i=e.assignmentId;console.log("assingmentId:",i);var u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(B.useParams)().id,M=Object(a.useContext)(D).data.notify,F=function(){var e={description:"assignment ".concat(t," to you."),activityType:"",classId:"".concat(L)};console.log({notification:e}),M(e)},P=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new z).assignAssignment(L,i,{startDate:j,startTime:O,endDate:v,endTime:y});case 3:(a=e.sent).ok?(F(),Y(),b(""),f(""),g(""),k(""),r(!1),s(null,n)):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){I.b.success("Successfully assigned assignment",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:c,onHide:r,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Assign Assignment"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:P,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return b(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return f(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return g(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return k(e.target.value)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Assignment"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:T,title:"Done!",onConfirm:function(){A(!1)}})]})};var $n=function(e){var t,n,s,c,r=e.selectedAssignmentName,i=e.moduleId,u=e.getAssignmentList,d=e.editAssignedAssignmentToggle,j=e.editAssignedAssignmentModal,b=e.editAssignAssignmentItem;console.log("this is edit assignAssignment:",b);var m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(""),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],P=M[1],Y=Object(B.useParams)().id,R=Object(a.useContext)(D).data.notify,q=function(){var e={description:"assignment ".concat(r," to you."),activityType:"",classId:"".concat(Y)};console.log({notification:e}),R(e)},G=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=null===b||void 0===b||null===(n=b.assignment)||void 0===n?void 0:n.id,e.next=4,(new z).updateAssignAssignment(Y,a,{startDate:O,startTime:v,endDate:y,endTime:T});case 4:(s=e.sent).ok?(q(),d(t),U(),u(null,i)):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e,t,n,a;null!==b&&(f(null===b||void 0===b||null===(e=b.classAssignment)||void 0===e?void 0:e.startDate),g(null===b||void 0===b||null===(t=b.classAssignment)||void 0===t?void 0:t.startTime),k(null===b||void 0===b||null===(n=b.classAssignment)||void 0===n?void 0:n.endDate),A(null===b||void 0===b||null===(a=b.classAssignment)||void 0===a?void 0:a.endTime))}),[b]);var U=function(){I.b.success("Successfully reassigned assignment",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:j,onHide:d,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Assign Assignment"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:G,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return f(e.target.value)},defaultValue:ge()(null===b||void 0===b||null===(t=b.classAssignment)||void 0===t?void 0:t.startDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return g(e.target.value)},defaultValue:null===b||void 0===b||null===(n=b.classAssignment)||void 0===n?void 0:n.startTime})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return k(e.target.value)},defaultValue:ge()(null===b||void 0===b||null===(s=b.classAssignment)||void 0===s?void 0:s.endDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return A(e.target.value)},defaultValue:null===b||void 0===b||null===(c=b.classAssignment)||void 0===c?void 0:c.endTime})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Assignment"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:F,title:"Done!",onConfirm:function(){P(!1)}})]})};var ea=function(e){var t=e.answerAnswerToggle,n=e.answerModal,s=e.assignmentId,c=Object(B.useParams)().id,r=Object(a.useContext)(D).data.user,i=Object(a.useState)(""),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)("pending"),p=Object(H.a)(f,2),x=p[0],v=p[1],g=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==d){e.next=5;break}I.b.error("Please fill out the field!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 5:return v("uploading"),i=null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.id,e.next=9,(new z).submitStudentAssignmentAnswer(i,c,s,{assignmentAnswer:d,fileDetails:h});case 9:(l=e.sent).data?(I.b.success("Successfully submitted assignment answer."),j(""),v("done"),O([]),t()):alert(l.data.errorMessage);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},N=function(){switch(x){case"pending":return 0;case"uploading":return 30;case"done":return 100}};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:t,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Answer Assignment"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:g,children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Label,{children:"Answer"})}),Object(E.jsx)(me.a.Group,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{onChange:function(e){return j(e.target.value)},as:"textarea",rows:3})}),Object(E.jsxs)(me.a.Group,{className:"mb-1",children:[Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){document.getElementById("attachedFile").click()},children:"Attach File"}),Object(E.jsx)("input",{id:"attachedFile",className:"d-none",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){var t;""!=(t=e.target.files)&&Object.values(t).map((function(e,t){e.size<=25e6?(console.log(e,t),w(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0};h.push(n),O(Object(Te.a)(h))}))):I.b.error("Please select a file below 25mb.")}))}})]}),Object(E.jsxs)(He.a,{responsive:"sm",className:0==h.length?"d-none":"",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===h||void 0===h?void 0:h.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:N()})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return function(e){var t=h;t.splice(e,1),O(Object(Te.a)(t))}(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Submit Answer"})})]})})]})})};var ta=function(e){var t,n=e.submittedAssignmentToggle,a=e.submittedAssignment,s=e.studentAnswer;return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:a,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Assignment"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Label,{children:"Answer"})}),Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Control,{defaultValue:null===s||void 0===s?void 0:s.assignmentAnswer,as:"textarea",rows:3,disabled:!0})}),Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Label,{children:"Feed Back"})}),Object(E.jsx)(me.a.Group,{className:"mb-2",children:Object(E.jsx)(me.a.Control,{defaultValue:null===s||void 0===s?void 0:s.feedback,type:"text",disabled:!0})}),Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Label,{children:"Grade"})}),Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{defaultValue:null===s||void 0===s?void 0:s.assignmentGrade,type:"text",disabled:!0})}),Object(E.jsxs)(me.a.Group,{className:"mb-1",children:[Object(E.jsx)(me.a.Label,{children:"File/s"}),"\xa0\xa0\xa0",null===s||void 0===s||null===(t=s.uploadedFiles)||void 0===t?void 0:t.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("a",{href:e.filePath,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"fas fa-download td-file-page mb-2"})})})}))]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"tficolorbg-button",type:"submit",children:"OK"})})]})]})})},na=function(e){e.viewAssignmentToggle;var t=e.viewAssignmentModal,n=e.viewAssignmentItem,a=e.startDate,s=e.startTime,c=e.endDate,r=e.endTime,i=e.setViewAssignmentModal;return console.log("viewAssignmentItem:",n),console.log("TIME AND DATE:",a,s,c,r),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:function(){return i(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsxs)(be.a.Title,{id:"example-modal-sizes-title-lg",children:[null===n||void 0===n?void 0:n.assignmentName,Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:10,className:"due-date-discusstion",style:{width:"auto",fontSize:"20px"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(a).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[s,"\xa0"]})]})}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",style:{width:"auto"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(c).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[r,"\xa0"]})]})})]})]})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===n||void 0===n?void 0:n.instructions})})})]})})};var aa=function(e){var t=e.assignment,n=e.searchTerm,s=e.getAssignmentList,c=e.moduleId,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(null),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useContext)(D).data.user,C=Object(B.useParams)().id,S=ge()().format("YYYY-MM-DD"),T=ge()().format("HH:mm"),A=Object(a.useState)(!1),I=Object(H.a)(A,2),L=I[0],M=I[1],F=Object(a.useState)([]),P=Object(H.a)(F,2),Y=P[0],R=P[1],q=Object(a.useState)(),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)(),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=Object(a.useState)(),K=Object(H.a)(W,2),X=K[0],$=K[1],ee=Object(a.useState)(),te=Object(H.a)(ee,2),ae=te[0],ie=te[1],oe=function(e,t,n,a,s){R(e),V(t),Z(n),$(a),ie(s),M(!L)},le=function(e){y(e),d(!u)},de=function(){O(!h)},je=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.student.id,a=C,e.next=4,(new z).getStudentAssignmentAnswer(n,a,t);case 4:(r=e.sent).ok?(v(r.data),de(),s(C,c)):alert("ERROR getStudentAssignmentAnswer");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==N)return je()}),[]);var be=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Answer"}))},me=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"tooltip-bottom"},e),{},{children:"View Grade"}))},he=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))};return Object(E.jsxs)("div",{children:[t.filter((function(e){var t;return""==n||(null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.assignmentName.toLowerCase().includes(n.toLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,f,p,x,v,g,w,N,y,C,A;return Object(E.jsx)(E.Fragment,{children:!0===(null===e||void 0===e?void 0:e.isScheduled)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{margin:"8px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.assignmentName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.assignment)||void 0===n?void 0:n.instructions})})]})}),!0===e.isLoggedUserDone?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Submitted"}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:he,children:Object(E.jsxs)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.assignment,null===e||void 0===e||null===(t=e.classAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.classAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.classAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.classAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:1},overlay:me,children:Object(E.jsx)(ue.a,{onClick:function(){var t;return je(null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-book-reader"})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(a=e.classAssignment)||void 0===a?void 0:a.endDate)+" "+(null===e||void 0===e||null===(s=e.classAssignment)||void 0===s?void 0:s.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{})]}):Object(E.jsxs)(E.Fragment,{children:[ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(c=e.classAssignment)||void 0===c?void 0:c.startDate)+" "+(null===e||void 0===e||null===(r=e.classAssignment)||void 0===r?void 0:r.startTime),"YYYY-MM-DD HH:mm"))&&ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(i=e.classAssignment)||void 0===i?void 0:i.endDate)+" "+(null===e||void 0===e||null===(o=e.classAssignment)||void 0===o?void 0:o.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:be,children:!k.isSchoolAdmin&&Object(E.jsx)(ue.a,{onClick:function(){var t;return le(null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-edit"})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:he,children:Object(E.jsx)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.assignment,null===e||void 0===e||null===(t=e.classAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.classAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.classAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.classAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-eye"})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(l=e.classAssignment)||void 0===l?void 0:l.endDate)+" "+(null===e||void 0===e||null===(u=e.classAssignment)||void 0===u?void 0:u.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[!k.isSchoolAdmin&&Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Not Submitted"}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:he,children:Object(E.jsx)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.assignment,null===e||void 0===e||null===(t=e.classAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.classAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.classAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.classAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-eye"})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(d=e.classAssignment)||void 0===d?void 0:d.startDate)+" "+(null===e||void 0===e||null===(j=e.classAssignment)||void 0===j?void 0:j.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:he,children:Object(E.jsx)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.assignment,null===e||void 0===e||null===(t=e.classAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.classAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.classAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.classAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-eye"})})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(b=e.classAssignment)||void 0===b?void 0:b.startDate)+" "+(null===e||void 0===e||null===(m=e.classAssignment)||void 0===m?void 0:m.startTime),"YYYY-MM-DD HH:mm"))&&ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(h=e.classAssignment)||void 0===h?void 0:h.endDate)+" "+(null===e||void 0===e||null===(O=e.classAssignment)||void 0===O?void 0:O.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(f=e.classAssignment)||void 0===f?void 0:f.endDate)+" "+(null===e||void 0===e||null===(p=e.classAssignment)||void 0===p?void 0:p.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)("div",{style:{color:"#EE9337",fontSize:"15px"},children:[Object(E.jsx)("b",{children:"Ended"}),"\xa0"]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(x=e.classAssignment)||void 0===x?void 0:x.startDate)+" "+(null===e||void 0===e||null===(v=e.classAssignment)||void 0===v?void 0:v.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(g=e.classAssignment)||void 0===g?void 0:g.startDate)+" "+(null===e||void 0===e||null===(w=e.classAssignment)||void 0===w?void 0:w.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:6,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(N=e.classAssignment)||void 0===N?void 0:N.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(y=e.classAssignment)||void 0===y?void 0:y.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(C=e.classAssignment)||void 0===C?void 0:C.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(A=e.classAssignment)||void 0===A?void 0:A.endTime})]})})]}),Object(E.jsx)("hr",{})]}):Object(E.jsx)(E.Fragment,{})})})),Object(E.jsx)(ea,{assignmentId:N,answerAnswerToggle:le,answerModal:u}),Object(E.jsx)(na,{setViewAssignmentModal:M,startDate:U,startTime:Q,endDate:X,endTime:ae,viewAssignmentItem:Y,viewAssignmentToggle:oe,viewAssignmentModal:L}),Object(E.jsx)(ta,{studentAnswer:x,submittedAssignmentToggle:de,submittedAssignment:h})]})},sa=function(e){e.viewAssignmentToggle;var t=e.setViewAssigmentModal,n=e.viewAssignmentModal,a=e.viewAssignmentItem,s=e.startDate,c=(e.startTime,e.endDate,e.endTime,e.viewAssignmentAssign);ge()(s).format("ll"),ge()().format("ll");return console.log("startDatestartDatestartDate:",c),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:function(){return t(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsxs)(be.a.Title,{id:"example-modal-sizes-title-lg",children:[null===a||void 0===a?void 0:a.assignmentName,Object(E.jsx)(se.a,{children:c?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{sm:10,className:"due-date-discusstion",style:{width:"auto",fontSize:"20px"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===c||void 0===c?void 0:c.startDate).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===c||void 0===c?void 0:c.startTime})]})}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",style:{width:"auto"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===c||void 0===c?void 0:c.endDate).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===c||void 0===c?void 0:c.endTime})]})})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{style:{color:"red",fontSize:"15px",paddingTop:"10px"},children:Object(E.jsx)("b",{children:"Not Assigned"})})})})]})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===a||void 0===a?void 0:a.instructions})})})]})})};var ca=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)([]),P=Object(H.a)(F,2),Y=P[0],R=P[1],q=Object(a.useState)([]),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)(),J=Object(H.a)(_,2),Q=J[0],Z=(J[1],Object(B.useParams)().id),W=Object(a.useState)(!1),K=Object(H.a)(W,2),X=K[0],$=K[1],te=Object(a.useState)(""),ae=Object(H.a)(te,2),ie=ae[0],le=ae[1],de=Object(a.useState)(null),je=Object(H.a)(de,2),be=je[0],me=je[1],he=ge()().format("YYYY-MM-DD"),Oe=ge()().format("HH:mm"),fe=Object(a.useContext)(D).data.user,pe=Object(a.useState)(!1),xe=Object(H.a)(pe,2),ve=xe[0],we=xe[1],Ne=Object(a.useState)([]),ye=Object(H.a)(Ne,2),ke=ye[0],Ce=ye[1],Se=Object(a.useState)(),Te=Object(H.a)(Se,2),Ae=Te[0],Ie=Te[1],Ee=Object(a.useState)(""),De=Object(H.a)(Ee,2),Le=De[0],Me=De[1],Fe=Object(a.useState)(""),Be=Object(H.a)(Fe,2),He=Be[0],Pe=Be[1],ze=Object(a.useState)(""),Ye=Object(H.a)(ze,2),Re=Ye[0],qe=Ye[1],Ge=Object(a.useState)(""),Ue=Object(H.a)(Ge,2),Ve=Ue[0],_e=Ue[1],Qe=Object(a.useState)(""),Ze=Object(H.a)(Qe,2),We=Ze[0],Ke=Ze[1],Xe=Object(a.useState)(null),$e=Object(H.a)(Xe,2),et=$e[0],tt=$e[1],nt=Object(a.useState)(""),at=Object(H.a)(nt,2),st=at[0],ct=at[1],it=fe.subsType,ot=Object(a.useState)(!1),lt=Object(H.a)(ot,2),ut=lt[0],dt=lt[1];Object(a.useEffect)((function(){jt(),"LMS"!=it&&(window.location.href="/classes")}),[]);var jt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dt(!0),e.next=3,(new Vn).getClassInfo(Z);case 3:(t=e.sent).ok?(dt(!1),ft(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId)):I.b.error("Something went wrong while fetching all courses"),dt(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("this is assignment:",U);var bt=function(e,t){Ce(e),Ie(t),we(!ve)},mt=function(e,t,n,a,s,c,r){qe(t),Pe(n),Ke(a),M(s),tt(c),_e(r),h(!b)},ht=function(e,t,n){ct(n),N(t),S(!C)},Ot=function(e,t,n){ct(n),M(t),x(!p)},ft=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?R(n.data):alert("Something went wrong while fetching all Module");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getAssignment(Z,n);case 2:(a=e.sent).ok?(V(a.data),me(n)):alert("Something went wrong while fetching all Assignment");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).delateAssignment(n);case 2:e.sent.ok?(pt(null,a),$(!1)):alert("Something went wrong while Deleting a task");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==be)return pt()}),[]),console.log("item?.id:",U);var vt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))},gt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},wt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Reassign"}))},Nt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assign"}))},yt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(_n,{children:[ut&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)(Wn,{onSearch:function(e){Me(e)},module:Y,onRefresh:function(){return jt()},getAssignmentList:pt}),Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:X,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(e){return xt(e,ie,be)},onCancel:function(){$(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Y.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return pt(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"20px"},children:null===e||void 0===e?void 0:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:(null===fe||void 0===fe?void 0:fe.isStudent)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(aa,{searchTerm:Le,assignment:U,getAssignmentList:pt,moduleId:be})}):Object(E.jsx)(E.Fragment,{children:null===U||void 0===U?void 0:U.filter((function(e){var t;return""==Le||(null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.assignmentName.toLowerCase().includes(Le.toLocaleLowerCase()))?e:void 0})).map((function(t){var n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,f,p;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.assignmentName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===t||void 0===t||null===(a=t.assignment)||void 0===a?void 0:a.instructions})})]})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Rate:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===(null===t||void 0===t||null===(s=t.assignment)||void 0===s?void 0:s.rate)?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(rt,{children:null===t||void 0===t||null===(c=t.assignment)||void 0===c?void 0:c.rate})})]})}),t.assignment.classId?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:vt,children:Object(E.jsxs)(ue.a,{onClick:function(){return bt(null===t||void 0===t?void 0:t.assignment,null===t||void 0===t?void 0:t.classAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:gt,children:Object(E.jsx)(ue.a,{onClick:function(n){var a,s,c,r,i;return mt(0,null===t||void 0===t||null===(a=t.assignment)||void 0===a?void 0:a.instructions,null===t||void 0===t||null===(s=t.assignment)||void 0===s?void 0:s.assignmentName,null===e||void 0===e?void 0:e.moduleName,null===t||void 0===t||null===(c=t.assignment)||void 0===c?void 0:c.id,null===t||void 0===t||null===(r=t.module)||void 0===r?void 0:r.id,null===t||void 0===t||null===(i=t.assignment)||void 0===i?void 0:i.rate)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-edit"})})}),(null===t||void 0===t?void 0:t.classAssignment)?Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:wt,children:Object(E.jsx)(ue.a,{onClick:function(e){var n;return ht(0,t,null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.assignmentName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})}):Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Nt,children:Object(E.jsx)(ue.a,{onClick:function(e){var n,a;return Ot(0,null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.id,null===t||void 0===t||null===(a=t.assignment)||void 0===a?void 0:a.assignmentName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:yt,children:Object(E.jsx)(ue.a,{onClick:function(){var n;return function(e,t){$(!0),le(e),me(t)}(null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.id,null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})]})}):Object(E.jsx)(E.Fragment,{children:t.assignment.classId?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsxs)(ue.a,{onClick:function(e){var n;return Ot(0,null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-user-clock"}),"0"]})})}):Object(E.jsx)(E.Fragment,{children:(null===(r=t.classAssignment)||void 0===r?void 0:r.startDate)?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:vt,children:Object(E.jsxs)(ue.a,{onClick:function(){return bt(null===t||void 0===t?void 0:t.assignment,null===t||void 0===t?void 0:t.classAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:wt,children:Object(E.jsx)(ue.a,{onClick:function(e){var n;return ht(0,t,null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.assignmentName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})]})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:vt,children:Object(E.jsxs)(ue.a,{onClick:function(){return bt(null===t||void 0===t?void 0:t.assignment,null===t||void 0===t?void 0:t.classAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Nt,children:Object(E.jsx)(ue.a,{onClick:function(e){var n;return Ot(0,null===t||void 0===t||null===(n=t.assignment)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})]})})})}),(null===t||void 0===t?void 0:t.classAssignment)?Object(E.jsxs)(se.a,{children:[ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isBefore(ge()((null===t||void 0===t||null===(i=t.classAssignment)||void 0===i?void 0:i.startDate)+" "+(null===t||void 0===t||null===(o=t.classAssignment)||void 0===o?void 0:o.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isAfter(ge()((null===t||void 0===t||null===(l=t.classAssignment)||void 0===l?void 0:l.endDate)+" "+(null===t||void 0===t||null===(u=t.classAssignment)||void 0===u?void 0:u.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended"})}),ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isSame(ge()((null===t||void 0===t||null===(d=t.classAssignment)||void 0===d?void 0:d.startDate)+" "+(null===t||void 0===t||null===(j=t.classAssignment)||void 0===j?void 0:j.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isAfter(ge()((null===t||void 0===t||null===(b=t.classAssignment)||void 0===b?void 0:b.startDate)+" "+(null===t||void 0===t||null===(m=t.classAssignment)||void 0===m?void 0:m.startTime),"YYYY-MM-DD HH:mm"))&&ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isBefore(ge()((null===t||void 0===t||null===(h=t.classAssignment)||void 0===h?void 0:h.endDate)+" "+(null===t||void 0===t||null===(O=t.classAssignment)||void 0===O?void 0:O.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===t||void 0===t?void 0:t.classAssignment.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===t||void 0===t||null===(f=t.classAssignment)||void 0===f?void 0:f.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===t||void 0===t?void 0:t.classAssignment.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===t||void 0===t||null===(p=t.classAssignment)||void 0===p?void 0:p.endTime})]})}),Object(E.jsx)("hr",{})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("hr",{})]})]})}))})})]})}))]}),Object(E.jsx)(sa,{setViewAssigmentModal:we,viewAssignmentAssign:Ae,viewAssignmentItem:ke,viewAssignmentToggle:bt,viewAssignmentModal:ve}),Object(E.jsx)(ta,{submittedAssignmentToggle:function(){s(!n)},submittedAssignment:n}),Object(E.jsx)(ea,{answerAnswerToggle:function(){u(!i)},answerModal:i}),Object(E.jsx)(Kn,{setRate:_e,rate:Ve,xmoduleId:et,assignmentId:L,unit:We,setUnit:Ke,setAssignmentName:Pe,assignmentName:He,setModal:h,instructions:Re,setInstructions:qe,toggle:mt,modal:b,editAssignment:Q,getAssignmentList:pt,moduleId:be}),Object(E.jsx)(Xn,{selectedAssignmentName:st,moduleId:be,assignmentId:L,assginModal:p,assignAssignmentToggle:Ot,getAssignmentList:pt}),Object(E.jsx)($n,{selectedAssignmentName:st,moduleId:be,getAssignmentList:pt,editAssignAssignmentItem:w,editAssignedAssignmentModal:C,editAssignedAssignmentToggle:ht})]})};var ra=function(e){var t=e.setModal,n=e.modal,s=e.toggle,c=(e.classInfo,e.module),r=e.getDiscussionUnit,i=Object(a.useState)(""),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],D=Object(a.useState)([]),L=Object(H.a)(D,2),M=L[0],F=L[1],P=Object(a.useState)(!1),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=Object(a.useState)([]),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(!1),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(""),X=Object(H.a)(K,2),$=X[0],ee=X[1],te=null===V||void 0===V?void 0:V.map((function(e){return"/".concat(e.value)})),ae=Object(a.useState)([]),se=Object(H.a)(ae,2),ce=se[0],ie=se[1],le=Object(a.useState)(null),de=Object(H.a)(le,2),je=de[0],he=de[1],Oe=Object(B.useParams)().id,fe=Oe;Object(a.useEffect)((function(){pe(),console.log(c,"-----------")}),[]);var pe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getClassInformation(Oe);case 2:(t=e.sent).ok&&(he(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.courseId),console.log({response:t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),A(!0),setTimeout((function(){return A(!1)}),1e3),""===d&&I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=6,(new z).createDiscussionModule(d,Oe,{discussion:{discussionName:O,instructions:v},discussionAssignment:{allowLate:true}});case 6:(n=e.sent).ok?(ve(),f(""),g(""),j(""),r(null,d),s(t)):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){I.b.success("Successfully created discussion!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},ge=function(e){navigator.clipboard.writeText(e),I.b.success("File link copied to clipboard.")},we=function(e){ee(e),q(!R),_([]),"Class"==e&&Ne(""),"Course"==e&&ye("")},Ne=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getClassFiles(fe,n);case 3:(a=e.sent).ok?(F(a.data.files),ie(a.data.folders)):alert("Something went wrong while fetching class files ;;.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getCourseFiles(je,n);case 3:(a=e.sent).ok?(F(a.data.files),ie(a.data.folders)):(alert(je),alert("Something went wrong while fetching Course files.111111111111111"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:function(){f(""),g(""),j(""),t(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Discussion"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:xe,children:[Object(E.jsxs)("div",{className:Z?"mb-3":"d-none",children:["Class"==$?Object(E.jsx)(St,{type:"Class",id:fe,subFolder:"".concat(te.join("")),doneUpload:function(){return Ne(te.join(""))}}):Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){return we("")},className:$?"colored-class-task":"fix-color-bread",children:"Files"}),$&&Object(E.jsxs)("span",{onClick:function(){return _([]),"Class"==$&&Ne(""),void("Course"==$&&ye(""))},className:0==V.length?"fix-color-bread":"colored-class-task",children:[" ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",$," Files"]}),null===V||void 0===V?void 0:V.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Class"==n&&(te.length=t+1,V.length=t+1,Ne(te.join("")))}(e.value,t,"Class")},className:V.length==t+1?"fix-color-bread":"colored-class-task",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",e.naame]})}))]}),R?Object(E.jsxs)(E.Fragment,{children:[M.map((function(e,t){var n;return console.log(e),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:(null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Object(E.jsx)("img",{src:e.pathBase.replace("http:","https:"),onClick:function(){return ge(e.pathBase)},className:"p-1",alt:e.name,height:30,width:30},t+e.name):Object(E.jsx)("i",{className:"fas fa-sticky-note",onClick:function(){return ge(e.pathBase)},style:{paddingRight:5}})})})),ce.map((function(e){return Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open",onClick:function(){return function(e,t){if("Class"==t){var n={naame:e,value:e};V.push(n),_(V),Ne("".concat(te.join(""),"/").concat(e))}else{var a={naame:e,value:e};V.push(a),_(V),ye("".concat(te.join(""),"/").concat(e))}}(e.name,$)},title:"",style:{height:30,width:30}})})}))]}):Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  "]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return we("Class")},className:"ellipsis w-25 task-folder",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{children:" Class Files"})]})}),Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return we("Course")},className:"ellipsis w-25 task-folder",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{children:" Course Files"})]})})]})]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return j(e.target.value)},children:[Object(E.jsx)("option",{children:"Select Unit Here "}),c.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.moduleName})}))]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2 tficolorbg-button",onClick:function(){return W(!Z)},children:"File Library"})})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Discussion Name"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return f(e.target.value)},type:"text",placeholder:"Enter discussion name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Instruction"}),Object(E.jsx)(ct,{value:v,placeholder:"Enter instruction here",onChange:function(e){return g(e)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{disabled:T,className:"tficolorbg-button",type:"submit",children:"Save Discussion"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:y,title:"Done!",onConfirm:function(){k(!1)}})]})};var ia=function(e){var t=e.module,n=e.getDiscussionUnit,s=e.onSearch,c=e.onRefresh,r=Object(a.useState)(!1),i=Object(H.a)(r,2),o=i[0],l=i[1],u=Object(a.useContext)(D).data.user;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Discussion "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:c,className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),u.isTeacher&&Object(E.jsx)("p",{className:"title-header m-0-dashboard",children:Object(E.jsxs)(ue.a,{className:"btn-create-task",Button:!0,variant:"link",onClick:function(){return l(!0)},children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Create Discussion"]})})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return s(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search discussion here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(ra,{setModal:l,getDiscussionUnit:n,module:t,toggle:function(){l(!o)},modal:o})]})};var oa=function(e){var t,n,s=e.setModal,c=e.setInstructions,r=e.instructions,i=e.modal,u=(e.toggle,e.editDiscussionItem),d=e.getDiscussionUnit,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==m){e.next=5;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 5:return s=null===u||void 0===u||null===(n=u.discussion)||void 0===n?void 0:n.id,c=null===u||void 0===u||null===(a=u.module)||void 0===a?void 0:a.id,e.next=9,(new z).updateDiscussion(s,{discussionName:m,instructions:r});case 9:(i=e.sent).ok?(k(),d(null,c),C()):I.b.error(i.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){I.b.success("Successfully Updated discussion!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){var e;null!==u&&h(null===u||void 0===u||null===(e=u.discussion)||void 0===e?void 0:e.discussionName)}),[u]);var C=function(){s(!1),c("")};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:i,onHide:C,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Discussion"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:y,children:[Object(E.jsx)("div",{className:w?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)("div",{className:"text-align-right",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return N(!w)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsx)(me.a.Select,{disabled:!0,children:Object(E.jsx)("option",{children:null===u||void 0===u||null===(t=u.module)||void 0===t?void 0:t.moduleName})})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Discussion Name"}),Object(E.jsx)(me.a.Control,{type:"text",placeholder:"Enter discussion name here",defaultValue:null===u||void 0===u||null===(n=u.discussion)||void 0===n?void 0:n.discussionName,onChange:function(e){return h(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Instruction"}),Object(E.jsx)(ct,{value:r,placeholder:"Enter instruction here",onChange:function(e){return c(e)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Discussion"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:p,title:"Done!",onConfirm:function(){x(!1)}})]})};var la=function(e){var t=e.selectedDiscussionName,n=e.assignToggle,s=e.assignModal,c=e.discussionId,r=e.moduleId,i=e.getDiscussionUnit;console.log("discussionId:",c);var u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(B.useParams)().id,M=Object(a.useContext)(D).data.notify,F=function(){var e={description:"discussion ".concat(t," to you."),activityType:"",classId:"".concat(L)};console.log({notification:e}),M(e)},P=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new z).assignDiscussion(L,c,{startDate:j,startTime:O,endDate:v,endTime:y});case 3:(a=e.sent).ok?(F(),Y(),b(""),f(""),g(""),k(""),n(t),i(null,r)):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){I.b.success("Successfully assigned discussion!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Assign Discussion"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:P,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return b(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return f(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return g(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return k(e.target.value)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Discussion"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:T,title:"Done!",onConfirm:function(){A(!1)}})]})};var ua=function(e){var t,n,s,c,r=e.selectedDiscussionName,i=e.editAssignToggle,u=e.editAssignModal,d=e.editAssignDiscussionItem,j=e.getDiscussionUnit,b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(!1),L=Object(H.a)(A,2),M=L[0],F=L[1],P=Object(B.useParams)().id,Y=Object(a.useContext)(D).data.notify,R=function(){var e={description:"discussion ".concat(r," to you."),activityType:"",classId:"".concat(P)};console.log({notification:e}),Y(e)},q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=null===d||void 0===d||null===(n=d.discussion)||void 0===n?void 0:n.id,e.next=4,(new z).updateAssignDiscusion(P,a,{startDate:h,startTime:x,endDate:N,endTime:S});case 4:(s=e.sent).ok?(R(),G(),j(null,null===d||void 0===d||null===(c=d.module)||void 0===c?void 0:c.id),i(t)):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){I.b.success("Successfully reassigned discussion!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(a.useEffect)((function(){var e,t,n,a;null!==d&&(O(null===d||void 0===d||null===(e=d.discussionAssignment)||void 0===e?void 0:e.startDate),v(null===d||void 0===d||null===(t=d.discussionAssignment)||void 0===t?void 0:t.startTime),y(null===d||void 0===d||null===(n=d.discussionAssignment)||void 0===n?void 0:n.endDate),T(null===d||void 0===d||null===(a=d.discussionAssignment)||void 0===a?void 0:a.endTime))}),[d]),Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:u,onHide:i,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Assign Discussion"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:q,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return O(e.target.value)},defaultValue:ge()(null===d||void 0===d||null===(t=d.discussionAssignment)||void 0===t?void 0:t.startDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return v(e.target.value)},defaultValue:null===d||void 0===d||null===(n=d.discussionAssignment)||void 0===n?void 0:n.startTime})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return y(e.target.value)},defaultValue:ge()(null===d||void 0===d||null===(s=d.discussionAssignment)||void 0===s?void 0:s.endDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return T(e.target.value)},defaultValue:null===d||void 0===d||null===(c=d.discussionAssignment)||void 0===c?void 0:c.endTime})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Discussion"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:M,title:"Done!",onConfirm:function(){F(!1)}})]})};var da=function(e){var t=e.getDiscussionComments,n=e.getComments,s=e.studentCommentToggle,c=e.studentCommentModal,r=(e.comments,e.discussionId),i=e.moduleId,u=e.getDiscussionUnit,d=e.startDate,j=e.startTime,b=e.endDate,m=e.endTime,h=Object(B.useParams)().id,O=Object(a.useContext)(D).data.user,f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=ge()().format("YYYY-MM-DD"),I=ge()().format("HH:mm"),L=Object(a.useState)(""),M=Object(H.a)(L,2),F=M[0],P=M[1],Y=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s=h,c=null===O||void 0===O?void 0:O.userId,e.next=5,(new z).submitComment(s,a,{userAccountId:c,reply:F});case 5:e.sent.ok?(y(!0),P(""),t(null,a,d,j,b,m)):alert("No good");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h,e.next=3,(new z).deleteComment(a,r,n);case 3:(s=e.sent).ok?(console.log("moduleId:",i),t(null,r,d,j,b,m),v(!1)):alert(s.data.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:x,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return R(S)},onCancel:function(){v(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Object(E.jsxs)(be.a,{size:"lg",show:c,onHide:s,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Discussion Comments"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(me.a,{children:!0===c?Object(E.jsx)(E.Fragment,{children:n.map((function(e){var t,n;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsxs)(ce.a,{sm:11,className:"inline-flex",children:[Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"feed-logo",children:Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"})}),Object(E.jsxs)("div",{className:"inline-flex",style:{paddingTop:"12px",fontSize:"18px",color:"#7D7D7D"},children:[Object(E.jsxs)("b",{children:[null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.firstname,"\xa0",null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.lastname]})," \xa0 ",ge()(e.createdDate).format("ll")]})]}),Object(E.jsx)(ce.a,{sm:1,style:{paddingTop:"5px",paddingLeft:"15px"},children:(null===O||void 0===O?void 0:O.userId)===(null===e||void 0===e?void 0:e.userAccountId)?Object(E.jsxs)(E.Fragment,{children:[ge()(A+" "+I,"YYYY-MM-DD HH:mm").isAfter(ge()(d+" "+j,"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{}),ge()(A+" "+I,"YYYY-MM-DD HH:mm").isAfter(ge()(d+" "+j,"YYYY-MM-DD HH:mm"))&&ge()(A+" "+I,"YYYY-MM-DD HH:mm").isBefore(ge()(b+" "+m,"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ue.a,{onClick:function(){return function(e){u(null,i),v(!0),T(e)}(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})]}):Object(E.jsx)(E.Fragment,{})})]}),Object(E.jsx)(ce.a,{sm:12,children:Object(E.jsx)(me.a.Group,{className:"mb-2",children:Object(E.jsx)(me.a.Control,{defaultValue:e.reply,as:"textarea",rows:2,disabled:!0,style:{resize:"none"}})})})]})})}))}):Object(E.jsx)(E.Fragment,{})}),ge()(A+" "+I,"YYYY-MM-DD HH:mm").isAfter(ge()(d+" "+j,"YYYY-MM-DD HH:mm"))&&ge()(A+" "+I,"YYYY-MM-DD HH:mm").isBefore(ge()(b+" "+m,"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("br",{}),!O.isSchoolAdmin&&Object(E.jsxs)(me.a,{children:[Object(E.jsxs)(de.a,{size:"sm",children:[Object(E.jsx)(je.a,{onChange:function(e){return P(e.target.value)},value:F,"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Reply"}),Object(E.jsx)(de.a.Text,{onClick:function(e){return Y(e,r)},id:"basic-addon2",className:"comment-btn",children:Object(E.jsx)("i",{className:"fas fa-paper-plane"})})]}),Object(E.jsx)("br",{})]})]})]})]}),Object(E.jsx)(oe.a,{success:!0,show:N,title:"Done!",onConfirm:function(){y(!1)}})]})};var ja=function(e){var t=e.discussionModule,n=e.getDiscussionUnit,s=e.moduleId,c=e.searchTerm,r=Object(a.useState)(""),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=ge()().format("YYYY-MM-DD"),f=ge()().format("HH:mm"),p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)([]),N=Object(H.a)(w,2),y=N[0],k=(N[1],Object(a.useState)()),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(),I=Object(H.a)(A,2),D=I[0],L=I[1],M=Object(a.useState)(),F=Object(H.a)(M,2),P=F[0],Y=F[1],R=Object(a.useState)(),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(B.useParams)().id,W=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getDiscussionComments(Z,n);case 2:(i=e.sent).ok?(Q(i.data),T(a),L(s),Y(c),U(r),d(n),g(!0)):alert("Something went wrong while getCommenst");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();return console.log("discussionModulediscussionModulediscussionModule:",t),Object(E.jsxs)("div",{children:[null===t||void 0===t?void 0:t.filter((function(e){var t,n;return""==c||(null===e||void 0===e||null===(t=e.discussion)||void 0===t||null===(n=t.discussionName)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,p,x,v,g,w,N,y,k,C;return Object(E.jsx)(E.Fragment,{children:!0===(null===e||void 0===e?void 0:e.isScheduled)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{margin:"8px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)("span",{style:{marginTop:"300px !important"},dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.instructions}})})]})}),!0===e.isLoggedUserDone?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsxs)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),ge()(O+" "+f,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(a=e.discussionAssignment)||void 0===a?void 0:a.endDate)+" "+(null===e||void 0===e||null===(s=e.discussionAssignment)||void 0===s?void 0:s.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{})]}):Object(E.jsxs)(E.Fragment,{children:[ge()(O+" "+f,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(c=e.discussionAssignment)||void 0===c?void 0:c.startDate)+" "+(null===e||void 0===e||null===(r=e.discussionAssignment)||void 0===r?void 0:r.startTime),"YYYY-MM-DD HH:mm"))&&ge()(O+" "+f,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(i=e.discussionAssignment)||void 0===i?void 0:i.endDate)+" "+(null===e||void 0===e||null===(o=e.discussionAssignment)||void 0===o?void 0:o.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsxs)(ue.a,{onClick:function(t){var n,a,s,c,r;return W(t,null===(n=e.discussion)||void 0===n?void 0:n.id,null===e||void 0===e||null===(a=e.discussionAssignment)||void 0===a?void 0:a.startDate,null===e||void 0===e||null===(s=e.discussionAssignment)||void 0===s?void 0:s.startTime,null===e||void 0===e||null===(c=e.discussionAssignment)||void 0===c?void 0:c.endDate,null===e||void 0===e||null===(r=e.discussionAssignment)||void 0===r?void 0:r.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:["Comments\xa0",e.responseCount]})}),ge()(O+" "+f,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(l=e.discussionAssignment)||void 0===l?void 0:l.endDate)+" "+(null===e||void 0===e||null===(u=e.discussionAssignment)||void 0===u?void 0:u.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsxs)(ue.a,{onClick:function(t){var n,a,s,c,r;return W(t,null===(n=e.discussion)||void 0===n?void 0:n.id,null===e||void 0===e||null===(a=e.discussionAssignment)||void 0===a?void 0:a.startDate,null===e||void 0===e||null===(s=e.discussionAssignment)||void 0===s?void 0:s.startTime,null===e||void 0===e||null===(c=e.discussionAssignment)||void 0===c?void 0:c.endDate,null===e||void 0===e||null===(r=e.discussionAssignment)||void 0===r?void 0:r.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:["Comments\xa0",e.responseCount]})})]}),ge()(O+" "+f,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(d=e.discussionAssignment)||void 0===d?void 0:d.startDate)+" "+(null===e||void 0===e||null===(j=e.discussionAssignment)||void 0===j?void 0:j.startTime),"YYYY-MM-DD HH:mm"))&&ge()(O+" "+f,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(b=e.discussionAssignment)||void 0===b?void 0:b.endDate)+" "+(null===e||void 0===e||null===(m=e.taskAssignment)||void 0===m?void 0:m.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(O+" "+f,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(h=e.discussionAssignment)||void 0===h?void 0:h.endDate)+" "+(null===e||void 0===e||null===(p=e.discussionAssignment)||void 0===p?void 0:p.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)("div",{style:{color:"#EE9337",fontSize:"15px"},children:[Object(E.jsx)("b",{children:"Ended"}),"\xa0"]}),ge()(O+" "+f,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(x=e.discussionAssignment)||void 0===x?void 0:x.startDate)+" "+(null===e||void 0===e||null===(v=e.discussionAssignment)||void 0===v?void 0:v.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(O+" "+f,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(g=e.discussionAssignment)||void 0===g?void 0:g.startDate)+" "+(null===e||void 0===e||null===(w=e.discussionAssignment)||void 0===w?void 0:w.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:6,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(N=e.discussionAssignment)||void 0===N?void 0:N.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(y=e.discussionAssignment)||void 0===y?void 0:y.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(k=e.discussionAssignment)||void 0===k?void 0:k.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(C=e.discussionAssignment)||void 0===C?void 0:C.endTime})]})})]}),Object(E.jsx)("hr",{})]}):Object(E.jsx)(E.Fragment,{})})})),Object(E.jsx)(da,{getDiscussionComments:W,getComments:J,endTime:G,endDate:P,startTime:D,startDate:S,getDiscussionUnit:n,moduleId:s,discussionId:u,comments:y,studentCommentToggle:function(){g(!v)},studentCommentModal:v}),Object(E.jsx)(oe.a,{success:!0,show:m,title:"Done!",onConfirm:function(){h(!1)}})]})};var ba=function(e){var t=e.getDiscussionComments,n=e.getComments,s=e.discussionCommentToggle,c=e.discussionCommentModal,r=(e.comments,e.discussionId),i=e.moduleId,u=e.getDiscussionUnit,d=e.startDate,j=e.startTime,b=e.endDate,h=e.endTime,O=Object(B.useParams)().id,f=Object(a.useContext)(D),p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=f.data.user,N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),P=F[0],Y=F[1],R=ge()().format("YYYY-MM-DD"),q=ge()().format("HH:mm"),G=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s=O,c=null===w||void 0===w?void 0:w.userId,e.next=5,(new z).submitComment(s,a,{userAccountId:c,reply:P});case 5:(r=e.sent).ok?(_(),Y(""),t(null,a,d,j,b,h)):I.b.error(r.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O,e.next=3,(new z).deleteComment(a,r,n);case 3:(s=e.sent).ok?(V(),C(!1),t(null,r,d,j,b,h)):alert(s.data.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){I.b.success("Successfully removed comment!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},_=function(){I.b.success("Successfully added comment!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},J=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:k,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return U(A)},onCancel:function(){C(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Object(E.jsxs)(be.a,{size:"lg",show:c,onHide:s,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Discussion Comments"})}),Object(E.jsxs)(be.a.Body,{children:[!0===c?Object(E.jsx)(E.Fragment,{children:n.map((function(e){var t,n;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsxs)(ce.a,{sm:11,className:"inline-flex",children:[Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"feed-logo",children:Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"})}),Object(E.jsxs)("div",{className:"inline-flex",style:{paddingTop:"12px",fontSize:"18px",color:"#7D7D7D"},children:[Object(E.jsxs)("b",{children:[null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.firstname,"\xa0",null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.lastname]})," \xa0 ",ge()(e.createdDate).format("ll")]})]}),Object(E.jsx)(ce.a,{sm:1,style:{paddingTop:"5px",paddingLeft:"15px"},children:(null===w||void 0===w?void 0:w.userId)===(null===e||void 0===e?void 0:e.userAccountId)?Object(E.jsxs)(E.Fragment,{children:[ge()(R+" "+q,"YYYY-MM-DD HH:mm").isAfter(ge()(b+" "+h,"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{}),ge()(R+" "+q,"YYYY-MM-DD HH:mm").isAfter(ge()(d+" "+j,"YYYY-MM-DD HH:mm"))&&ge()(R+" "+q,"YYYY-MM-DD HH:mm").isBefore(ge()(b+" "+h,"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:J,children:Object(E.jsx)(ue.a,{onClick:function(){return function(e){u(null,i),C(!0),L(e)}(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})})]}):Object(E.jsx)(E.Fragment,{})})]}),Object(E.jsx)(ce.a,{sm:12,children:Object(E.jsx)(me.a.Group,{className:"mb-2",children:Object(E.jsx)(me.a.Control,{defaultValue:e.reply,as:"textarea",rows:2,disabled:!0,style:{resize:"none"}})})})]})})}))}):Object(E.jsx)(E.Fragment,{}),ge()(R+" "+q,"YYYY-MM-DD HH:mm").isAfter(ge()(b+" "+h,"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{}),ge()(R+" "+q,"YYYY-MM-DD HH:mm").isAfter(ge()(d+" "+j,"YYYY-MM-DD HH:mm"))&&ge()(R+" "+q,"YYYY-MM-DD HH:mm").isBefore(ge()(b+" "+h,"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("br",{}),Object(E.jsxs)(me.a,{children:[Object(E.jsxs)(de.a,{size:"sm",children:[Object(E.jsx)(je.a,{onChange:function(e){return Y(e.target.value)},value:P,"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Reply"}),Object(E.jsx)(de.a.Text,{onClick:function(e){return G(e,r)},id:"basic-addon2",className:"comment-btn",children:Object(E.jsx)("i",{className:"fas fa-paper-plane"})})]}),Object(E.jsx)("br",{})]})]})]})]}),Object(E.jsx)(oe.a,{success:!0,show:v,title:"Done!",onConfirm:function(){g(!1)}})]})};var ma=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=(r[1],Object(a.useState)(!1)),d=Object(H.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(null),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(!1),F=Object(H.a)(M,2),P=F[0],Y=F[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(B.useParams)().id,_=Object(a.useState)(""),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=Object(a.useState)(!1),K=Object(H.a)(W,2),X=K[0],$=K[1],te=Object(a.useState)(),ae=Object(H.a)(te,2),ie=ae[0],le=ae[1],de=Object(a.useState)(!1),je=Object(H.a)(de,2),be=je[0],me=je[1],he=Object(a.useState)(""),Oe=Object(H.a)(he,2),fe=Oe[0],pe=Oe[1],xe=Object(a.useState)(),ve=Object(H.a)(xe,2),we=ve[0],Ne=ve[1],ye=Object(a.useState)(),ke=Object(H.a)(ye,2),Ce=ke[0],Se=ke[1],Te=Object(a.useState)(),Ae=Object(H.a)(Te,2),Ie=Ae[0],Ee=Ae[1],De=Object(a.useState)(),Le=Object(H.a)(De,2),Me=Le[0],Fe=Le[1],Be=ge()().format("YYYY-MM-DD"),He=ge()().format("HH:mm"),Pe=Object(a.useContext)(D).data.user,ze=Object(a.useState)([]),Ye=Object(H.a)(ze,2),Re=Ye[0],qe=Ye[1],Ge=Object(a.useState)(""),Ue=Object(H.a)(Ge,2),Ve=Ue[0],_e=Ue[1],Qe=Object(a.useState)({}),Ze=Object(H.a)(Qe,2),We=(Ze[0],Ze[1]),Ke=Object(a.useState)(""),Xe=Object(H.a)(Ke,2),$e=Xe[0],et=Xe[1],tt=Object(a.useState)(!1),nt=Object(H.a)(tt,2),at=nt[0],st=nt[1],ct=Pe.subsType,rt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return st(!0),e.next=3,(new Vn).getClassInfo(V);case 3:(t=e.sent).ok?(st(!1),ut(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),We(t.data)):(st(!1),I.b.error("Something went wrong while fetching all courses"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){rt(),"LMS"!=ct&&(window.location.href="/classes")}),[]);var it=function(e,t,n){et(n),pe(t),$(!X)},ot=function(e,t,n){et(n),le(t),me(!be)},lt=function(e,t,n){C(t),U(n),console.log("item:",t),b(!j)},ut=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok&&p(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getDiscussionUnit(V,n);case 2:(a=e.sent).ok?(w(a.data),L(n)):alert("Something went wrong while getDiscussionUnit");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,c,r,i){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getDiscussionComments(V,n);case 2:(l=e.sent).ok?(qe(l.data),Ne(a),Se(c),Ee(r),Fe(i),pe(n),s(!0)):alert("Something went wrong while getCommenst");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==A)return dt()}),[]);var bt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteDiscussion(n);case 2:e.sent.ok?(I.b.success("Successfully deleted discussion!"),dt(null,A),Y(!1)):alert("Something went wrong while Deleting a deleteDiscussion");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},ht=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Reassign"}))},Ot=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assign"}))},ft=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(_n,{children:[at&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)(ia,{onSearch:function(e){_e(e)},getDiscussionUnit:dt,module:f,onRefresh:function(){return rt()}}),Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:P,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(e){return bt(e,Q)},onCancel:function(){Y(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),f.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return dt(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:null===(null===Pe||void 0===Pe?void 0:Pe.teacher)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ja,{searchTerm:Ve,moduleId:A,getDiscussionUnit:dt,discussionModule:g})}):Object(E.jsx)(E.Fragment,{children:null===g||void 0===g?void 0:g.filter((function(e){var t;return""==Ve||(null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName.toLowerCase().includes(Ve.toLocaleLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,f,p,x,v;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsxs)("div",{className:"text-color-bcbcbc",children:["Instruction:\xa0",null===e||void 0===e?void 0:e.instructions]}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)("span",{style:{marginTop:"300px !important"},dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.instructions}})})]})}),(null===(a=e.discussion)||void 0===a?void 0:a.classId)?Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:1},overlay:mt,children:Object(E.jsx)(ue.a,{onClick:function(t){var n;return lt(0,e,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.instructions)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-edit"})})}),(null===(s=e.discussionAssignment)||void 0===s?void 0:s.startDate)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:1},overlay:ht,children:Object(E.jsx)(ue.a,{onClick:function(t){var n;return ot(0,e,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.discussionName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Ot,children:Object(E.jsx)(ue.a,{onClick:function(t){var n,a;return it(0,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.id,null===e||void 0===e||null===(a=e.discussion)||void 0===a?void 0:a.discussionName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:ft,children:Object(E.jsx)(ue.a,{onClick:function(){var t;return function(e){Y(!0),Z(e)}(null===(t=e.discussion)||void 0===t?void 0:t.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})]}):Object(E.jsx)(E.Fragment,{children:(null===(c=e.discussionAssignment)||void 0===c?void 0:c.startDate)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)("div",{style:{marginRight:"5px"},children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:ht,children:Object(E.jsx)(ue.a,{onClick:function(t){var n;return ot(0,e,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.discussionName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Ot,children:Object(E.jsx)(ue.a,{onClick:function(t){var n,a;return it(0,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.id,null===e||void 0===e||null===(a=e.discussion)||void 0===a?void 0:a.discussionName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})})})}),(null===(r=e.discussionAssignment)||void 0===r?void 0:r.startDate)?Object(E.jsxs)("div",{children:[ge()(Be+" "+He,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(i=e.discussionAssignment)||void 0===i?void 0:i.startDate)+" "+(null===e||void 0===e||null===(o=e.discussionAssignment)||void 0===o?void 0:o.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(Be+" "+He,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(l=e.discussionAssignment)||void 0===l?void 0:l.endDate)+" "+(null===e||void 0===e||null===(u=e.discussionAssignment)||void 0===u?void 0:u.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended\xa0"})}),Object(E.jsx)("div",{style:{paddingBottom:"5px"},children:Object(E.jsxs)(ue.a,{onClick:function(t){var n;return jt(t,null===(n=e.discussion)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:["Comments\xa0",e.responseCount]})})]})}),ge()(Be+" "+He,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(d=e.discussionAssignment)||void 0===d?void 0:d.startDate)+" "+(null===e||void 0===e||null===(j=e.discussionAssignment)||void 0===j?void 0:j.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(Be+" "+He,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(b=e.discussionAssignment)||void 0===b?void 0:b.startDate)+" "+(null===e||void 0===e||null===(m=e.discussionAssignment)||void 0===m?void 0:m.startTime),"YYYY-MM-DD HH:mm"))&&ge()(Be+" "+He,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(h=e.discussionAssignment)||void 0===h?void 0:h.endDate)+" "+(null===e||void 0===e||null===(O=e.discussionAssignment)||void 0===O?void 0:O.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing \xa0 "})}),Object(E.jsx)("div",{style:{paddingBottom:"5px"},children:Object(E.jsxs)(ue.a,{onClick:function(t){var n,a,s,c,r;return jt(t,null===(n=e.discussion)||void 0===n?void 0:n.id,null===e||void 0===e||null===(a=e.discussionAssignment)||void 0===a?void 0:a.startDate,null===e||void 0===e||null===(s=e.discussionAssignment)||void 0===s?void 0:s.startTime,null===e||void 0===e||null===(c=e.discussionAssignment)||void 0===c?void 0:c.endDate,null===e||void 0===e||null===(r=e.discussionAssignment)||void 0===r?void 0:r.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:["Comments\xa0",e.responseCount]})})]}),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("br",{})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(f=e.discussionAssignment)||void 0===f?void 0:f.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(p=e.discussionAssignment)||void 0===p?void 0:p.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(x=e.discussionAssignment)||void 0===x?void 0:x.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(v=e.discussionAssignment)||void 0===v?void 0:v.endTime})]})}),Object(E.jsx)("hr",{})]})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("hr",{})]})]})}))})})]})}))]}),Object(E.jsx)(ba,{getDiscussionComments:jt,getComments:Re,endTime:Me,endDate:Ie,startTime:Ce,startDate:we,getDiscussionUnit:dt,moduleId:A,discussionId:fe,comments:i,discussionCommentToggle:function(e){s(!n)},discussionCommentModal:n}),Object(E.jsx)(oa,{setModal:b,setInstructions:U,instructions:G,editDiscussionItem:k,toggle:lt,modal:j,getDiscussionUnit:dt}),Object(E.jsx)(la,{selectedDiscussionName:$e,moduleId:A,getDiscussionUnit:dt,discussionId:fe,assignToggle:it,assignModal:X}),Object(E.jsx)(ua,{selectedDiscussionName:$e,getDiscussionUnit:dt,editAssignDiscussionItem:ie,editAssignToggle:ot,editAssignModal:be})]})};var ha=function(e){var t,n=e.onSearch,s=e.modules,c=void 0===s?[]:s,r=e.fetchExams,i=e.onRefresh,u=Object(Vt.useParams)().id,d=Object(a.useContext)(D).data.user,j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(null===(t=c[0])||void 0===t?void 0:t.id),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)(!1),B=Object(H.a)(F,2),P=B[0],z=B[1];Object(a.useEffect)((function(){var e;S(null===(e=c[0])||void 0===e?void 0:e.id)}),[c]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),M(!0),setTimeout((function(){return M(!1)}),2e3),n={test:{moduleItemId:C,testName:p,testInstructions:w,classId:u,isShared:!1}},e.next=6,(new We).createExam(u,C,n);case 6:if(!(a=e.sent).ok){e.next=15;break}return I.b.success("Successfully created the exam"),e.next=11,r();case 11:R(),console.log(""),e.next=16;break;case 15:I.b.error(a.data.errorMessage||"Please input all the required fields.");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e;h(!1),S(null===(e=c[0])||void 0===e?void 0:e.id),x(""),N(""),z(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Exam "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:i,className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),d.isTeacher&&Object(E.jsx)("p",{className:"title-header m-0-dashboard",children:Object(E.jsxs)(ue.a,{className:"btn-create-task",Button:!0,variant:"link",onClick:function(){return h(!0)},children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Create Exam"]})})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search Exam Here",type:"search",onChange:function(e){return n(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:m,onHide:function(){return R()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Exam"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:Y,children:[Object(E.jsx)("div",{className:P?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Module"}),Object(E.jsx)(me.a.Select,{"aria-label":"Default select example",onChange:function(e){return S(e.target.value)},children:c.map((function(e,t){return console.log({item:e}),Object(E.jsx)("option",{value:e.id,children:e.moduleName},t)}))})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Exam Name"}),Object(E.jsx)(me.a.Control,{defaultValue:"",className:"custom-input",size:"lg",type:"text",placeholder:"Enter exam name",onChange:function(e){return x(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return z(!P)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Exam Instructions"}),Object(E.jsx)(ct,{value:w,placeholder:"Enter instruction here",onChange:function(e){return N(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{disabled:L,className:"tficolorbg-button",type:"submit",children:"Save Exam"})})]})})]})]})};function Oa(e){var t=e.showModal,n=e.setShowModal,s=e.exam,c=e.id,r=e.setLoading,i=e.fetchExams,u=e.closeModal,d=Object(a.useState)(""),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useContext)(D).data.notify;Object(a.useEffect)((function(){if(s.classTest){var e=null===s||void 0===s?void 0:s.classTest,t=e.endDate,n=e.endTime,a=e.startDate,c=e.startTime,r=e.timeLimit,i=ge()(a).format("YYYY-MM-DD"),o=ge()(t).format("YYYY-MM-DD");m(o),p(n),w(i),C(c),L(r)}}),[s]);var F=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""==b||""==f||""==g||""==k||""==A?I.b.error("Please input all the required fields."):A<=1?I.b.error("Time limit should be greater than 1 minute."):(n={allowLate:!0,endDate:b,endTime:f,startDate:g,startTime:k,timeLimit:A},console.log({data:n},s),r(!0),console.log(g==b),a=k<f,g==b?a?P(n):(r(!1),I.b.error("Time limit should be greater than 1 minute.")):P(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e={description:"exam ".concat(s.test.testName," to you."),activityType:"",classId:"".concat(c)};M(e)},P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.classTest){e.next=7;break}return e.next=3,(new We).reAssignExam(c,s.test.id,t);case 3:(n=e.sent).ok?(I.b.success("Exam assigned successfully"),B(),i(),u()):(I.b.error((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage)||"Something went wrong while deleting the exam"),r(!1)),e.next=11;break;case 7:return e.next=9,(new We).assignExam(c,s.test.id,t);case 9:(l=e.sent).ok?(I.b.success("Exam assigned successfully"),B(),i(),u()):(I.b.error((null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.errorMessage)||"Something went wrong while deleting the exam"),r(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:null==s.classTest?"Assign Exam":" Reassign Exam"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:F,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Start Date "}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:g,className:"custom-input",size:"lg",type:"date",placeholder:"Enter exam name",onChange:function(e){return w(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Start Time "}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:k,className:"custom-input",size:"lg",type:"time",placeholder:"Enter exam name",onChange:function(e){return C(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"End Date "}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:b,className:"custom-input",size:"lg",type:"date",min:g,placeholder:"Enter exam name",onChange:function(e){return m(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"End Time "}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:f,className:"custom-input",size:"lg",type:"time",disabled:!b,placeholder:"Enter exam name",onChange:function(e){return p(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Time Limit"}),Object(E.jsx)(me.a.Control,{defaultValue:"",value:A,className:"custom-input",size:"lg",type:"number",placeholder:"Time limit",onChange:function(e){return L(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:null==s.classTest?"Save Exam":" Update Exam"})})]})})]})}function fa(e){var t=e.showEditModal,n=e.setShowEditModal,s=(e.onSubmit,e.id,e.exam),c=e.fetchExams,r=e.setLoading;console.log({exam:s});var i=Object(a.useState)(s.test.testInstructions),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(s.test.testName),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1];Object(a.useEffect)((function(){var e,t;j(null===(e=s.test)||void 0===e?void 0:e.testInstructions),O(null===(t=s.test)||void 0===t?void 0:t.testName)}),[]);var g=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),a={isShared:!1,testInstructions:d,testName:h},console.log({data:a}),e.next=6,(new We).updateExam(s.test.id,a);case 6:(i=e.sent).ok?(I.b.success("Successfully updated the exam!"),n(!1),v(!1),c()):(I.b.error((null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.errorMessage)||"Please input all the required fields."),r(!1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Exam"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:g,children:[Object(E.jsx)("div",{className:x?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Exam Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",value:h,size:"lg",type:"text",placeholder:"Enter exam name",onChange:function(e){return O(e.target.value)}})]}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{className:"float-right my-2",onClick:function(){return v(!x)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Exam Instruction"}),Object(E.jsx)(ct,{value:d,placeholder:"Enter instruction here",onChange:function(e){return j(e)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Exam"})})]})})]})}function pa(e){var t,n=e.id,a=e.user,s=e.exam,c=e.startDate,r=e.endDate;return console.log(a.isStudent,"sampleeee"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{to:a.isStudent?"/classExam/".concat(n,"/exam/").concat(s.test.id):"/class/".concat(n,"/exam/").concat(s.test.id,"?class_id=").concat(n,"&").concat(null==s.test.classId&&"not_editable=true"),className:"exam-title",children:Object(E.jsx)("span",{dangerouslySetInnerHTML:{__html:s.test.testName}})}),Object(E.jsx)("p",{className:"exam-course-name",children:null===(t=s.module)||void 0===t?void 0:t.moduleName}),Object(E.jsx)("p",{className:"exam-instruction ",dangerouslySetInnerHTML:{__html:s.test.testInstructions}}),c&&Object(E.jsxs)("p",{className:"exam-instruction m-0",children:[Object(E.jsx)("span",{className:"d-inline-block",style:{width:40},children:"Start:"}),Object(E.jsx)("b",{children:ge()(c).format("MMMM Do YYYY, h:mm:ss a")})]}),r&&Object(E.jsxs)("p",{className:"exam-instruction m-0 mb-3",children:[Object(E.jsx)("span",{className:"d-inline-block",style:{width:40},children:"End:"}),Object(E.jsx)("b",{children:ge()(r).format("MMMM Do YYYY, h:mm:ss a")})]})]})}function xa(e){var t=e.exam,n=e.setShowModal,s=e.setShowEditModal,c=e.setShowWarning,r=e.toggleShare,i=e.getInformationExam,o=(Object(a.useContext)(D).data.user,Object(B.useParams)().id),l=t.test.classId==o;return console.log("exam123:",t),Object(E.jsxs)("div",{className:"exam-actions",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Preview"}))},children:Object(E.jsx)("a",{href:"#preview",children:Object(E.jsx)("i",{class:"fas fa-eye",onClick:function(e){var n;i(e,null===t||void 0===t||null===(n=t.test)||void 0===n?void 0:n.id)}})})}),t.test.classId&&l&&Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:t.test.isShared?function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Unshare"}))}:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Share"}))},children:Object(E.jsx)("a",{href:"#share",onClick:function(e){e.preventDefault(),r()},children:Object(E.jsx)("i",{class:"fas fa-share ".concat(t.test.isShared&&"rotate")})})}),(null===t||void 0===t?void 0:t.isScheduled)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Reassign"}))},children:Object(E.jsx)("a",{href:"#assign",onClick:function(e){e.preventDefault(),n(!0)},children:Object(E.jsx)("i",{class:"fas fa-clock"})})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assign"}))},children:Object(E.jsx)("a",{href:"#assign",onClick:function(e){e.preventDefault(),n(!0)},children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})}),null!=t.test.classId&&!t.test.isShared&&Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},children:Object(E.jsx)("a",{href:"#edit",onClick:function(e){e.preventDefault(),s(!0)},children:Object(E.jsx)("i",{class:"fas fa-edit"})})}),null==t.classTest&&Object(E.jsx)(E.Fragment,{children:null!=t.test.classId&&!t.test.isShared&&Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))},children:Object(E.jsx)("a",{href:"#delete",onClick:function(e){e.preventDefault(),c(!0)},children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})})]})}var va=function(e){var t,n=e.showPreviewExamModal,a=e.setShowPreviewExamModal,s=e.testItem,c=e.questionPartDto;return console.log("testItem:",s),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return a(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Preview Exam"}),Object(E.jsxs)(be.a.Body,{className:"modal-label b-0px",children:[Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Label,{style:{color:"#EE9337"},children:Object(E.jsx)("b",{children:null===s||void 0===s||null===(t=s.test)||void 0===t?void 0:t.testName})})}),null===c||void 0===c?void 0:c.map((function(e){var t,n,a,s,c,r,i,o,l,u,d;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(me.a.Label,{children:[Object(E.jsx)("b",{dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(t=e.questionPart)||void 0===t?void 0:t.instructions}})," "]}),1==(null===e||void 0===e||null===(n=e.questionPart)||void 0===n?void 0:n.questionTypeId)?Object(E.jsx)(E.Fragment,{children:null===e||void 0===e||null===(a=e.questionDtos)||void 0===a?void 0:a.map((function(e,t){var n,a,s=t+1;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a.Group,{className:"m-b-15",children:Object(E.jsxs)(me.a.Label,{className:"d-flex",children:[s,".",Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.testQuestion})]})}),null===(a=e.choices)||void 0===a?void 0:a.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(me.a.Group,{className:"m-b-20 d-flex align-items-center",children:[Object(E.jsx)(me.a.Check,{type:"radio",disabled:!0,className:"px-3 pl-0"}),Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.testChoices})]})})})),Object(E.jsxs)("div",{className:"d-flex",children:[" Correct Answer : \xa0 ",Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.answer})," "]}),Object(E.jsx)("hr",{})]})}))}):Object(E.jsx)(E.Fragment,{}),2==(null===e||void 0===e||null===(s=e.questionPart)||void 0===s?void 0:s.questionTypeId)?Object(E.jsx)(E.Fragment,{children:null===e||void 0===e||null===(c=e.questionDtos)||void 0===c?void 0:c.map((function(e,t){var n,a,s=t+1;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a.Group,{className:"m-b-15",children:Object(E.jsxs)(me.a.Label,{className:"d-flex",children:[s,". ",Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.testQuestion})]})}),null===(a=e.choices)||void 0===a?void 0:a.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Check,{type:"radio",label:null===e||void 0===e?void 0:e.testChoices,disabled:!0})})})})),"Correct Answer: ",null===e||void 0===e?void 0:e.answer,Object(E.jsx)("hr",{})]})}))}):Object(E.jsx)(E.Fragment,{}),3==(null===e||void 0===e||null===(r=e.questionPart)||void 0===r?void 0:r.questionTypeId)?Object(E.jsx)(E.Fragment,{children:null===e||void 0===e||null===(i=e.questionDtos)||void 0===i?void 0:i.map((function(e,t){var n,a,s=t+1;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a.Group,{className:"m-b-15",children:Object(E.jsxs)(me.a.Label,{className:"d-flex",children:[s,". ",Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.testQuestion})]})}),null===(a=e.choices)||void 0===a?void 0:a.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",disabled:!0})})})})),Object(E.jsxs)("div",{className:"d-flex",children:[" Correct Answer : \xa0 ",Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.answer})," "]}),Object(E.jsx)("hr",{})]})}))}):Object(E.jsx)(E.Fragment,{}),4==(null===e||void 0===e||null===(o=e.questionPart)||void 0===o?void 0:o.questionTypeId)?Object(E.jsx)(E.Fragment,{children:null===e||void 0===e||null===(l=e.questionDtos)||void 0===l?void 0:l.map((function(e,t){var n,a=t+1;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a.Group,{className:"m-b-15",children:Object(E.jsxs)(me.a.Label,{className:"d-flex",children:[a,". ",Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.testQuestion})]})}),Object(E.jsx)(me.a.Group,{className:"mb-20",children:Object(E.jsx)(me.a.Control,{as:"textarea",rows:4,disabled:!0,style:{resize:"none"}})})]})}))}):Object(E.jsx)(E.Fragment,{}),5==(null===e||void 0===e||null===(u=e.questionPart)||void 0===u?void 0:u.questionTypeId)?Object(E.jsx)(E.Fragment,{children:null===e||void 0===e||null===(d=e.questionDtos)||void 0===d?void 0:d.map((function(e,t){var n,a,s=t+1;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(me.a.Group,{className:"m-b-15",children:Object(E.jsxs)(me.a.Label,{className:"d-flex",children:[s,". ",Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.testQuestion})]})}),null===(a=e.choices)||void 0===a?void 0:a.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",disabled:!0})})})})),Object(E.jsxs)("div",{className:"d-flex",children:[" Correct Answer : \xa0 ",Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.answer})," "]}),Object(E.jsx)("hr",{})]})}))}):Object(E.jsx)(E.Fragment,{})]})}))]})]})})};function ga(e){var t,n=e.exam,s=e.deleteExam,c=e.setLoading,r=e.fetchExams,i=Object(a.useContext)(D).data.user,u=window.location.pathname.split("/")[2],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Rt(n),y=N.startDate,k=N.endDate,C=Object(a.useState)([]),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],B=M[1];console.log("classId:",u);var P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("analysis","true"),a=null===i||void 0===i||null===(n=i.student)||void 0===n?void 0:n.id,s=u,e.next=5,(new z).getExamAnalysis(a,s,t);case 5:(c=e.sent).ok?(A(c.data),console.log(c.data)):alert(c.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,s,i,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({exam:n}),c(!0),e.next=4,(new Oe).editExam(null===(t=n.test)||void 0===t?void 0:t.id,{isShared:!(null===(a=n.test)||void 0===a?void 0:a.isShared),testName:null===(s=n.test)||void 0===s?void 0:s.testName,testInstructions:null===(i=n.test)||void 0===i?void 0:i.testInstructions});case 4:(l=e.sent).ok?(r(),I.b.success((null===(u=n.test)||void 0===u?void 0:u.isShared)?"Exam unshared successfully.":"Exam shared successfully.")):I.b.error(l.data.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=Object(a.useState)(!1),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)([]),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getInformationExam(n);case 2:(a=e.sent).ok?(Q(a.data),X(a.data.questionPartDto),U(!0)):alert("Something went wrong while fetching Exam Item");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return console.log("questionPartDto:",K),Object(E.jsxs)("div",{className:"exam-item-container",children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:b,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n.test.id);case 2:m(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return m(!1)},focusCancelBtn:!0,children:"You will not be able to recover this exam!"}),Object(E.jsxs)("div",{className:"exam-content",children:[(null===i||void 0===i?void 0:i.isStudent)&&(null===n||void 0===n||null===(t=n.classTest)||void 0===t?void 0:t.showAnalysis)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ue.a,{style:{float:"right",marginTop:"15px"},className:"btn-showResult",onClick:function(){var e,t;return t=null===n||void 0===n||null===(e=n.test)||void 0===e?void 0:e.id,P(t),void B(!0)},size:"sm",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Show Result"})})}),Object(E.jsx)(pa,{id:u,exam:n,user:i,startDate:y,endDate:k}),Object(E.jsx)(Gt,{exam:n,user:i,startDate:y,endDate:k})]}),i.isTeacher&&Object(E.jsx)(xa,{toggleShare:Y,exam:n,setShowModal:p,setShowEditModal:w,setShowWarning:m,getInformationExam:$}),Object(E.jsx)(Oa,{showModal:f,setShowModal:p,id:u,exam:n,setLoading:c,fetchExams:r,closeModal:function(){return p(!1)}}),Object(E.jsx)(fa,{showEditModal:g,setShowEditModal:w,id:u,exam:n,setLoading:c,fetchExams:r}),Object(E.jsx)(va,{showPreviewExamModal:G,setShowPreviewExamModal:U,testItem:J,questionPartDto:K}),Object(E.jsx)(qt,{setViewAnalysis:B,viewAnalysis:F,examAnalysis:T})]})}var wa=n.p+"static/media/loader.25b68fee.svg";function Na(){return Object(E.jsx)("div",{children:Object(E.jsx)("div",{className:"absolute-loader",children:Object(E.jsx)("img",{src:wa,alt:"loading"})})})}var ya=function(){var e=Object(a.useState)(!0),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)().id,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)([]),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useContext)(D).data,g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=(w[0],w[1],Object(a.useState)("")),y=Object(H.a)(N,2),k=(y[0],y[1],v.user),C=k.subsType,S=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).getExams(d);case 3:(t=e.sent).ok?(s(!1),n=t.data.filter((function(e){return k.isTeacher||null!=e.classTest})),a=n.map((function(e){return e.module})),c=[],a.forEach((function(e,t){c.map((function(e){return e.id})).includes(e.id)||c.push(e)})),u(n)):I.b.error("Something went wrong while fetching exams");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new z).getModuleClass(d);case 3:t=e.sent,s(!1),t.ok?x(t.data):(alert("Something went wrong while fetching modules"),I.b.error("Something went wrong while fetching modules"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){T(),"LMS"!=C&&(window.location.href="/classes")}),[]);var A=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).deleteExam(t);case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,S();case 7:I.b.success("Exam was successfully deleted"),e.next=11;break;case 10:I.b.error((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage)||"Something went wrong while deleting the exam");case 11:s(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){S()}),[]),Object(E.jsxs)(_n,{children:[n&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsxs)("div",{className:"class-container position-relative",children:[Object(E.jsx)(ha,{onSearch:function(e){h(e)},modules:p,fetchExams:S,onRefresh:function(){return S()}}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:p.map((function(e,t){return 0==i.filter((function(t){return e.id===t.module.id})).filter((function(e){return e.test.testName.toLowerCase().includes(m.toLowerCase())})).length?Object(E.jsx)("div",{}):Object(E.jsxs)(Je.a.Item,{eventKey:t,children:[Object(E.jsx)(Je.a.Header,{children:e.moduleName}),Object(E.jsx)(Je.a.Body,{children:i.filter((function(t){return e.id===t.module.id})).filter((function(e){return e.test.testName.toLowerCase().includes(m.toLowerCase())})).map((function(e,t){return Object(E.jsx)(ga,{exam:e,deleteExam:A,setLoading:s,fetchExams:S},t)}))})]},t)}))}),0===i.filter((function(e){return e.test.testName.toLowerCase().includes(m.toLowerCase())})).length&&!n&&Object(E.jsx)("div",{className:"no-exams",children:"No exams found..."})]})]})},ka=n(24),Ca=n(113),Sa="equation",Ta="{{type=equation}}",Aa={moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"],align:"left",buttonsVisible:3},moreParagraph:{buttons:["alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote"],align:"left",buttonsVisible:3},moreRich:{buttons:["insertLink","insertImage","insertVideo","insertTable","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR"],align:"left",buttonsVisible:3},moreMisc:{buttons:["undo","redo","fullscreen","print","getPDF","spellChecker","selectAll","html","help"],align:"right",buttonsVisible:2}},Ia=function(e){var t=e.inputType,n=e.value,a=e.placeholder,s=e.onChange;return t===Sa?Object(E.jsx)(Ke.a,{className:"custom-input",size:"lg",value:n.split(Ta)[1]||"",placeholder:a,autoCommands:"pi theta sqrt sum prod alpha beta gamma rho",autoOperatorNames:"sin cos tan",onChange:function(e){return s("".concat(Ta).concat(e))}}):Object(E.jsx)($e.a,{value:n,model:n,config:{key:v.FROALA_LICENSE,placeholderText:a,charCounterCount:!1,pluginsEnabled:["fullscreen","codeBeautifier","table","image","link","lists","paragraphFormat","paragraphStyle","lineHeight","indent","outdent","quickInsert","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR","customButtons","inlineClass","inlineStyle","colors","customStyles","fontSize","fontFamily"],imageUpload:!1,imagePaste:!0,imagePasteProcess:!0,imageInsertButtons:["imageBack","|","imageByURL"],toolbarButtons:Aa,toolbarButtonsMD:Aa,toolbarButtonsSM:Aa,toolbarButtonsXS:Aa},onModelChange:s})};function Ea(e){var t=Object(a.useState)(e.value.includes(Ta)?Sa:""),n=Object(H.a)(t,2),s=n[0];n[1];return Object(E.jsxs)("div",{className:e.className,children:[Object(E.jsx)("div",{className:"mb-3"},"inline-radio"),Object(E.jsx)(Ia,Object(m.a)(Object(m.a)({},e),{},{inputType:s}))]})}var Da=function(e){var t=e.setEditAnnouncementModal,n=e.content,s=e.setContent,c=e.getFeedClass,r=e.editAnnouncementItem,i=e.editAnnouncementModal;e.openEditAnnouncementToggle,console.log("this is announcement:",r);var u=Object(a.useState)(!1),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(H.a)(m,2),O=h[0],f=h[1],p=function(){var e=Object(l.a)(o.a.mark((function e(a){var i,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),0,i=null===r||void 0===r?void 0:r.title,l=null===r||void 0===r?void 0:r.referenceId,!0,0,e.next=8,(new z).updateAnnouncement(l,{id:0,title:i,content:n,useraccountId:0,status:true});case 8:(u=e.sent).ok?(x(),t(!1),c(),s("")):I.b.error(u.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){I.b.success("Successfully updated announcement!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return console.log("content:",n),Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:i,onHide:function(){s(""),t(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Update Announcement"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)(ae.a,{className:"calendar-card",children:Object(E.jsx)(ae.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:p,children:[Object(E.jsx)("div",{className:O?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)(Ea,{value:n,placeholder:"Enter Announcement here",onChange:function(e){return s(e)}}),Object(E.jsxs)("div",{style:{textAlign:"right",paddingTop:"15px"},children:[Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return f(!O)},children:"File Library"}),"\xa0",Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Announcement"})]})]})})})})]}),Object(E.jsx)(oe.a,{success:!0,show:j,title:"Done!",onConfirm:function(){b(!1)}})]})},La=function(e){var t=e.refId,n=e.typeId,s=e.getFeedClass,c=e.commentInfo,r=Object(a.useState)(""),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(B.useParams)().id,f=Object(a.useContext)(D).data.user,p=Object(a.useState)(!0),x=Object(H.a)(p,2),v=(x[0],x[1]),g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=function(){var e=Object(l.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(N),y(!0),setTimeout((function(){return y(!1)}),1e3),""!==u){e.next=8;break}I.b.warning("Please fill out this Field"),e.next=12;break;case 8:return e.next=10,(new z).commentAnnouncement(O,t,n,{comment:u});case 10:(c=e.sent).ok?(I.b.success("Comment was successfully Created"),d(""),s(),C()):alert(c.data.errorMessage);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(c),s()}),[c]);var C=function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(new z).getComment(O,t,n);case 3:a=e.sent,v(!1),a.ok?h(a.data):alert(a.data.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log("refId:",t),Object(a.useEffect)((function(){C()}),[]);var S=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n,e.next=4,(new z).deleteCommentfeed(O,a);case 4:(c=e.sent).ok?(s(),C(),I.b.success("Comment was successfully deleted")):alert(c.data.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return console.log("commentInfo:",c),Object(E.jsxs)("div",{children:[null===m||void 0===m?void 0:m.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(se.a,{style:{marginBottom:10},children:[Object(E.jsx)(ce.a,{md:1,style:{textAlign:"right"},children:Object(E.jsx)("i",{class:"fas fa-md fa-user-circle comment-log"})}),Object(E.jsxs)(ce.a,{md:10,style:{backgroundColor:"#F8F8F8",padding:5,borderRadius:10},children:[null===e||void 0===e?void 0:e.commentedBy," ",Object(E.jsx)("small",{children:ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")}),f.isTeacher&&Object(E.jsxs)(ue.a,{onClick:function(t){return S(t,null===e||void 0===e?void 0:e.id)},className:"btn-like",size:"sm",Button:!0,variant:"link",children:["\xa0",Object(E.jsx)("i",{className:"fas fa-trash"})]}),(null===f||void 0===f?void 0:f.userId)===(null===e||void 0===e?void 0:e.createdById)&&null===(null===f||void 0===f?void 0:f.teacher)?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ue.a,{onClick:function(t){return S(t,null===e||void 0===e?void 0:e.id)},className:"btn-like",size:"sm",Button:!0,variant:"link",children:["\xa0",Object(E.jsx)("i",{className:"fas fa-trash"})]})}):Object(E.jsx)(E.Fragment,{}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{children:null===e||void 0===e?void 0:e.comment})]}),Object(E.jsx)(ce.a,{md:1})]})})})),Object(E.jsxs)(me.a,{onSubmit:function(e){return k(e)},children:[Object(E.jsxs)(de.a,{size:"xs",style:{padding:20},children:[Object(E.jsx)(je.a,{value:u,onChange:function(e){return d(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-xs",placeholder:"Write your comment here...",style:{borderRadius:10}}),Object(E.jsx)(ue.a,{onClick:function(e){return k(e)},disabled:N,className:"btn-like",size:"sm",Button:!0,variant:"link",children:Object(E.jsx)("i",{className:"fas fa-paper-plane"})})]}),Object(E.jsx)("br",{})]})]})};var Ma=function(e){var t,n=e.feedItemLike,a=e.showLike,s=e.setShowLike;return console.log("qweasd:",n),Object(E.jsxs)(E.Fragment,{children:[" ",Object(E.jsxs)(be.a,{size:"sm",className:"modal-all",show:a,onHide:function(){return s(!1)},centered:!0,children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Likes"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:null===n||void 0===n||null===(t=n.likes)||void 0===t?void 0:t.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"}),"\xa0",null===e||void 0===e?void 0:e.likeBy,Object(E.jsx)("br",{})]})}))})]})]})};var Fa=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=(r[0],r[1],Object(B.useParams)().id),u=Object(a.useState)([i]),d=Object(H.a)(u,2),j=d[0],b=(d[1],Object(a.useState)(!1)),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(),M=Object(H.a)(L,2),P=M[0],Y=M[1],R=Object(a.useState)([]),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useContext)(D);console.log({userContext:V});var _=V.data,J=_.user,Q=(_.selectedClassId,_.setSelectedClassId),Z=_.themeColor,W=Object(a.useState)(Ca.a),K=Object(H.a)(W,2),X=K[0],$=K[1],te=Object(a.useState)(),ie=Object(H.a)(te,2),le=ie[0],je=ie[1],be=Object(a.useState)(""),he=Object(H.a)(be,2),Oe=he[0],fe=he[1],pe=Object(a.useState)([]),xe=Object(H.a)(pe,2),ve=(xe[0],xe[1]),we=Object(a.useState)([]),Ne=Object(H.a)(we,2),ye=Ne[0],ke=Ne[1],Ce=Object(a.useState)(null),Se=Object(H.a)(Ce,2),Te=Se[0],Ae=Se[1],Ie=J.subsType,Ee=Object(a.useState)(!1),De=Object(H.a)(Ee,2),Le=De[0],Me=De[1],Fe=Object(a.useState)([]),Be=Object(H.a)(Fe,2),He=Be[0],Pe=Be[1],ze=Object(a.useState)(!1),Ye=Object(H.a)(ze,2),Re=Ye[0],qe=Ye[1],Ge=Object(a.useState)([]),Ue=Object(H.a)(Ge,2),Ve=(Ue[0],Ue[1],Object(a.useState)(!1)),_e=Object(H.a)(Ve,2),Je=(_e[0],_e[1],Object(a.useState)([])),Qe=Object(H.a)(Je,2),Ze=Qe[0],We=(Qe[1],Object(a.useState)(!1)),Ke=Object(H.a)(We,2),Xe=Ke[0],$e=Ke[1],et=Object(a.useState)(""),tt=Object(H.a)(et,2),nt=(tt[0],tt[1],null===Ze||void 0===Ze||Ze.map((function(e){return"/".concat(e.value)})),Object(a.useState)([])),at=Object(H.a)(nt,2),st=(at[0],at[1],Object(a.useState)(null)),ct=Object(H.a)(st,2),it=(ct[0],ct[1]),ot=Object(a.useState)(!1),lt=Object(H.a)(ot,2),ut=lt[0],dt=lt[1],jt=function(e){Me(!0),Pe(e)},bt=function(e,t){Y(e),s(t),A(!0)},mt=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),qe(!0),setTimeout((function(){return qe(!1)}),1e3),3,0,!0,c=null===Te||void 0===Te||null===(a=Te.classInformation)||void 0===a?void 0:a.className,e.next=9,(new z).createAnnouncementClass(3,{announcement:{content:n,title:c,useraccountId:0,status:true},referenceIds:j});case 9:(r=e.sent).ok?(gt(),s(""),pt()):I.b.error(r.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Vn).getClassInfo(i);case 2:(t=e.sent).ok?Ae(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getClassInformation(i);case 2:(t=e.sent).ok&&(it(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.courseId),console.log({response:t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Ot(),ht(),Q(i),pt(),"LMS"!=Ie&&(window.location.href="/classes")}),[]),console.log("classInfo:",Te);var ft=function(e,t,n){je(e),fe(t),ke(n),$(!X)},pt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i,"classssssssss"),dt(!0),e.next=4,(new z).getFeedClass(i);case 4:(t=e.sent).ok?(dt(!1),U(t.data),!0===(null===(n=t.data)||void 0===n||null===(a=n.feedInformations)||void 0===a?void 0:a.isLike)&&ve(null===(s=t.data)||void 0===s||null===(c=s.feedInformations)||void 0===c?void 0:c.commentedBy)):(I.b.error(t.data.errorMessage),dt(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteAnnouncement(t);case 2:(n=e.sent).ok?(vt(),pt(),f(!1)):alert(n.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(){I.b.success("Successfully removed announcement!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},gt=function(){I.b.success("Successfully added announcement!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},wt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).likeCommentAnnouncement(i,t,n);case 2:(a=e.sent).ok?pt():alert(a.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nt=function(e){return console.log("props",e),Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Like"}))},yt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Unlike"}))},kt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View Comment"}))},Ct=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"No Comment"}))};return Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),ut&&Object(E.jsx)(ee,{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:O,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return xt(v)},onCancel:function(){f(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),null===(null===J||void 0===J?void 0:J.teacher)?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{className:"calendar-card",children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Announcement "}),Object(E.jsx)(ue.a,{onClick:function(){return pt()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})]})}),Object(E.jsxs)(me.a,{onSubmit:mt,children:[Object(E.jsx)("div",{className:Xe?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)(Ea,{value:n,placeholder:"Enter Announcement here",onChange:function(e){return s(e)}}),Object(E.jsxs)("div",{style:{textAlign:"right",paddingTop:"15px"},children:[Object(E.jsx)(ue.a,{onClick:function(){return $e(!Xe)},children:"File Library"}),"\xa0",Object(E.jsx)(ue.a,{disabled:Re,className:"tficolorbg-button",type:"submit",children:"POST"})]})]})]})})}),Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Announcement "}),Object(E.jsx)(ue.a,{onClick:function(){return pt()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})]})}),null===G||void 0===G?void 0:G.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"post-date",style:{paddingButton:""}}),null===e||void 0===e?void 0:e.feedInformations.map((function(t){var n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,p,x,v,w;return Object(E.jsx)(E.Fragment,{children:1===t.type?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{className:"post-card",children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Announcement "}),Object(E.jsx)(ue.a,{onClick:function(){return pt()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})]})}),Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"icon-post",children:[Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"feed-logo",children:Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"})})}),Object(E.jsxs)("div",{className:"inline-flex",style:{paddingTop:"1px",fontSize:"18px",color:"#7D7D7D"},children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 has Posted an ",Object(E.jsxs)("div",{className:"font-color",children:[" \xa0 ",Object(E.jsx)("b",{children:"Announcement "})," "]})]}),Object(E.jsx)("p",{style:{marginLeft:58},children:Object(E.jsxs)("small",{children:[Object(E.jsx)("i",{className:"fas fa-clock"})," ",ge()(null===e||void 0===e?void 0:e.dateUpdated).format("LL"),"\xa0"]})})]}),Object(E.jsx)(ce.a,{md:3,children:null===(null===J||void 0===J?void 0:J.teacher)?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"inline-flex",style:(n={paddingTop:"20px"},Object(ka.a)(n,"paddingTop","6px"),Object(ka.a)(n,"float","right"),n),children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return bt(t,t.description)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-pencil-alt"}),"\xa0 "]})}),Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){f(!0),g(e)}(null===t||void 0===t?void 0:t.referenceId)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"far fa-trash-alt"}),"\xa0 "]})})]})})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",sm:1}),Object(E.jsx)(ce.a,{sm:11,style:{fontSize:"16px",color:"#707070",textAlign:"justify"},children:Object(E.jsx)("div",{className:"font-color",children:Object(E.jsx)(rt,{children:t.description})})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsxs)("div",{className:"like-show-name",children:[Object(E.jsx)(F.b,{to:"#",onClick:function(){return jt(t)},children:null===t||void 0===t||null===(a=t.likes)||void 0===a?void 0:a.slice(0,2).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[null===e||void 0===e?void 0:e.likeBy,","]})}))}),(null===t||void 0===t||null===(s=t.likes)||void 0===s?void 0:s.length)<=2?Object(E.jsx)(E.Fragment,{}):Object(E.jsxs)(E.Fragment,{children:["\xa0and ",(null===t||void 0===t||null===(c=t.likes)||void 0===c?void 0:c.length)-2," others"]})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337"}}),Object(E.jsx)("div",{children:!0===(null===t||void 0===t?void 0:t.isLike)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:yt,children:Object(E.jsxs)(ue.a,{onClick:function(){return wt(null===t||void 0===t?void 0:t.referenceId,t.type)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"fas fa-thumbs-up"}),"\xa0",null===t||void 0===t||null===(r=t.likes)||void 0===r?void 0:r.length," Liked\xa0",Object(E.jsx)("b",{style:{fontSize:"12px",position:"absolute"}})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:Nt,children:Object(E.jsxs)(ue.a,{onClick:function(){return wt(null===t||void 0===t?void 0:t.referenceId,t.type,t)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-thumbs-up"}),"\xa0",null===t||void 0===t||null===(i=t.likes)||void 0===i?void 0:i.length," Like\xa0",Object(E.jsx)("b",{style:{fontSize:"12px",position:"absolute"}})]})})})})]})}),Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:(null===t||void 0===t||null===(o=t.comments)||void 0===o?void 0:o.length)?kt:Ct,children:Object(E.jsxs)(ue.a,{onClick:function(){return ft(null===t||void 0===t?void 0:t.referenceId,t.type,null===t||void 0===t?void 0:t.comments)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-comment-alt"}),"\xa0",(null===t||void 0===t||null===(l=t.comments)||void 0===l?void 0:l.length)>1?(null===t||void 0===t||null===(u=t.comments)||void 0===u?void 0:u.length)+" Comments":(null===t||void 0===t||null===(d=t.comments)||void 0===d?void 0:d.length)+" Comment"," \xa0",Object(E.jsx)("b",{style:{fontSize:"12px",position:"absolute"}})]})})}),!0===X&&le===(null===t||void 0===t?void 0:t.referenceId)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(La,{commentInfo:ye,getFeedClass:pt,refId:le,typeId:Oe})}):Object(E.jsx)("span",{})]})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{className:"post-card",children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{children:Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"feed-logo",children:Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"})})}),Object(E.jsxs)("div",{className:"inline-flex",style:{paddingTop:"12px",fontSize:"18px",color:"#7D7D7D"},children:[2===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Z},children:[" ",Object(E.jsx)("b",{children:"Assignment "})," "]})]}):Object(E.jsx)(E.Fragment,{}),3===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Z},children:[" ",Object(E.jsx)("b",{children:"Task "})," "]})]}):Object(E.jsx)(E.Fragment,{}),4===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Z},children:[" ",Object(E.jsx)("b",{children:"Exam "})," "]})]}):Object(E.jsx)(E.Fragment,{}),5===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Z},children:[" ",Object(E.jsx)("b",{children:"Interactive "})," "]})," "]}):Object(E.jsx)(E.Fragment,{})]})]}),Object(E.jsx)("p",{style:{marginLeft:58},children:Object(E.jsxs)("small",{children:[Object(E.jsx)("i",{className:"fas fa-clock"})," ",ge()(null===e||void 0===e?void 0:e.dateUpdated).format("LL"),"\xa0"]})}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",sm:1}),Object(E.jsx)(ce.a,{sm:11,style:{fontSize:"16px",color:"#EE9337",paddingTop:"30px",paddingBottom:"15px"},children:Object(E.jsx)("div",{style:{color:Z},children:Object(E.jsx)("b",{children:t.title})})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:12,style:{fontSize:"14px",color:"#707070",textAlign:"justify",paddingLeft:55},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsxs)("p",{children:[ge()(null===t||void 0===t?void 0:t.startDate).format("ll"),"\xa0"]})}),Object(E.jsxs)("div",{className:"text-color-707070",children:["/ ",null===t||void 0===t?void 0:t.startTime]})]})}),Object(E.jsx)(ce.a,{sm:12,style:{fontSize:"14px",color:"#707070",textAlign:"justify",paddingLeft:55},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsxs)("p",{children:[ge()(null===t||void 0===t?void 0:t.endDate).format("ll"),"\xa0"]})}),Object(E.jsxs)("div",{className:"text-color-707070",children:["/  ",null===t||void 0===t?void 0:t.endTime]})]})})]}),Object(E.jsxs)("div",{className:"like-show-name",children:[Object(E.jsx)(F.b,{to:"#",onClick:function(){return jt(t)},children:null===t||void 0===t||null===(j=t.likes)||void 0===j?void 0:j.slice(0,2).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[null===e||void 0===e?void 0:e.likeBy,","]})}))}),(null===t||void 0===t||null===(b=t.likes)||void 0===b?void 0:b.length)<=2?Object(E.jsx)(E.Fragment,{}):Object(E.jsxs)(E.Fragment,{children:["\xa0and ",(null===t||void 0===t||null===(m=t.likes)||void 0===m?void 0:m.length)-2," others"]})]}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("hr",{})}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"25px"}}),Object(E.jsx)("div",{children:!0===(null===t||void 0===t?void 0:t.isLike)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:yt,children:Object(E.jsxs)(ue.a,{onClick:function(){return wt(null===t||void 0===t?void 0:t.referenceId,t.type)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"fas fa-thumbs-up"})," ",null===t||void 0===t||null===(h=t.likes)||void 0===h?void 0:h.length,"\xa0Liked\xa0",Object(E.jsx)("b",{style:{fontSize:"16px",position:"absolute"}})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:Nt,children:Object(E.jsxs)(ue.a,{onClick:function(){return wt(null===t||void 0===t?void 0:t.referenceId,t.type,t)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-thumbs-up"}),Object(E.jsxs)("b",{style:{fontSize:"16px",flexDirection:"row"},className:"fd-row",children:[" ",null===t||void 0===t||null===(O=t.likes)||void 0===O?void 0:O.length,Object(E.jsx)("span",{style:{color:Z},children:Object(E.jsxs)("b",{children:[" ","Like"]})})]})]})})})})]})}),Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:(null===t||void 0===t||null===(p=t.comments)||void 0===p?void 0:p.length)?kt:Ct,children:Object(E.jsxs)(ue.a,{onClick:function(){return ft(null===t||void 0===t?void 0:t.referenceId,t.type,t.comments)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-comment-alt"}),"\xa0",(null===t||void 0===t||null===(x=t.comments)||void 0===x?void 0:x.length)>1?(null===t||void 0===t||null===(v=t.comments)||void 0===v?void 0:v.length)+" Comments":(null===t||void 0===t||null===(w=t.comments)||void 0===w?void 0:w.length)+" Comment","\xa0",Object(E.jsx)("b",{style:{fontSize:"16px",position:"absolute"}})]})})}),!0===X&&le===(null===t||void 0===t?void 0:t.referenceId)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(La,{commentInfo:ye,getFeedClass:pt,refId:le,typeId:Oe})}):Object(E.jsx)("span",{})]})]})})})})}))]})})),Object(E.jsx)(oe.a,{success:!0,show:y,title:"Done!",onConfirm:function(){k(!1)}}),Object(E.jsx)(Da,{setEditAnnouncementModal:A,content:n,setContent:s,getFeedClass:pt,editAnnouncementItem:P,editAnnouncementModal:T,openEditAnnouncementToggle:bt}),Object(E.jsx)(Ma,{feedItemLike:He,showLike:Le,setShowLike:Me})]})]})};function Ba(e){var t=e.content;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",style:{marginBottom:"-20px"},children:Object(E.jsx)("div",{className:"col-md-10 pages-header",children:Object(E.jsx)("p",{className:"title-header",children:null===t||void 0===t?void 0:t.pageName})})}),t.content?Object(E.jsx)("div",{style:{position:"relative",paddingTop:"1px"},children:Object(E.jsx)("span",{style:{marginTop:"300px !important"},dangerouslySetInnerHTML:{__html:t.content+"<br>"}})}):Object(E.jsx)("span",{})]})}var Ha=n(405),Pa=n.n(Ha),za=n(148);function Ya(){var e=Pa.a.createClient(),t=Object(a.useContext)(D).data,n=t.user,s=t.selectedClassId,c="JlY0w5XWHkfAVjM0Ee4R0617nE5ZVlpLZ7AL",r=(null===n||void 0===n?void 0:n.name)||"No Name",i="99106021895",u="5w3nQZ",d=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getClassInformation(s);case 2:(t=e.sent).ok&&(console.log({response:t}),i=null===(n=t.data)||void 0===n?void 0:n.meeting_Id,u=null===(a=t.data)||void 0===a?void 0:a.password,i&&u&&j());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(){console.log("Getting signature"),fetch("https://zoom.tekteachlms.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingNumber:i,role:0})}).then((function(e){return e.json()})).then((function(t){console.log({response:t}),console.log("starting meeting"),function(t){var n=document.getElementById("meetingSDKElement");e.init({debug:!0,zoomAppRoot:n,language:"en-US",customize:{meetingInfo:["topic","host","mn","pwd","telPwd","invite","participant","dc","enctype"],toolbar:{buttons:[{text:"Custom Button",className:"CustomButton",onClick:function(){console.log("custom button")}}]}}}),e.join({sdkKey:c,signature:t,meetingNumber:i,password:u,userName:r,userEmail:"",tk:""})}(t.signature)})).catch((function(e){console.log("error"),console.error(e)}))}return Object(a.useEffect)((function(){console.log({selectedClassId:s,user:n}),null!=s&&n.isStudent&&d()}),[s]),Object(E.jsx)("div",{id:"meetingSDKElement",style:{position:"absolute",top:0}})}za.ZoomMtg.setZoomJSLib("https://source.zoom.us/2.4.5/lib","/av"),za.ZoomMtg.preLoadWasm(),za.ZoomMtg.prepareWebSDK(),za.ZoomMtg.i18n.load("en-US"),za.ZoomMtg.i18n.reload("en-US");var Ra=function(){var e=Object(a.useState)(null),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)({}),T=Object(H.a)(S,2),A=T[0],I=T[1],L=Object(a.useState)({}),M=Object(H.a)(L,2),P=M[0],Y=M[1],R=Object(a.useState)({}),q=Object(H.a)(R,2),G=q[0],U=(q[1],Object(B.useParams)().id),V=Object(a.useContext)(D).data.user,_=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Vn).getClassInfo(U);case 2:(t=e.sent).ok?(console.log({response:t}),J(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),I(t.data),C(null===(a=t.data.classInformation)||void 0===a?void 0:a.courseName)):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?u(n.data):alert("Something went wrong while fetching all modules");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_(),K()}),[]);var Q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getPages(U,t);case 2:(n=e.sent).ok?(m(n.data),console.log(n.data)):alert("Something went wrong while fetching all pages");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,(new z).getContent(U,a,t);case 3:(s=e.sent).ok?(p(s.data),console.log(s.data)):alert("Something went wrong while fetching all pages");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).teacherMiranda();case 2:(t=e.sent).ok&&(Y(t.data),console.log(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://irai2.com/mir2021.1.2/?"+t+","+n+","+a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://irai2.com/mir2021.1.2/?"+t+","+n+":"+a+","+s);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),ee=/:\/\/([^\/]+)/.exec(window.location.href)[1];return window.location.pathname,!!window.location.host.split(".")[1]&&window.location.host.split(".")[0],Object(E.jsxs)(_n,{setLoading:function(){return console.log("sample")},children:[Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)("div",{style:{position:"relative"},className:"not-scrollable",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"scrollable vh-80 pb-5",style:{marginLeft:"15px"},children:[Object(E.jsx)(Ba,{content:f,classInfo:A}),"Innovators 1 (Second Edition)"===k&&"Lesson 3- Introduction to Miranda Simulator"===g&&Object(E.jsx)(ae.a,{className:"calendar kb-0px",style:{backgroundColor:"white",padding:5},children:(null===V||void 0===V?void 0:V.teacher)?Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){X(P.connectionCode,P.username,P.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator T"]}):Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){$(G.connectionCode,G.roomNumber,G.username,G.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator S"]})}),"ama"===ee&&Object(E.jsx)(ae.a,{className:"calendar kb-0px",style:{backgroundColor:"white",padding:5},children:(null===V||void 0===V?void 0:V.teacher)?Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){X(P.connectionCode,P.username,P.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator T"]}):Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){$(G.connectionCode,G.roomNumber,G.username,G.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator S"]})}),"Creators 1 (Second Edition)"===k&&"Lesson 10"===g&&Object(E.jsx)(ae.a,{className:"calendar kb-0px",style:{backgroundColor:"white",padding:5},children:(null===V||void 0===V?void 0:V.teacher)?Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){X(P.connectionCode,P.username,P.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator T"]}):Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){$(G.connectionCode,G.roomNumber,G.username,G.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator"]})})]}),Object(E.jsx)(ce.a,{md:"3",children:Object(E.jsxs)(ae.a,{className:"calendar kb-0px",style:{backgroundColor:"white"},children:[Object(E.jsxs)(ae.a.Header,{className:"calendar-header",style:{backgroundColor:"white"},children:[Object(E.jsx)("div",{className:"row calendar-title",children:Object(E.jsx)("div",{children:"Table of Content"})}),Object(E.jsx)("div",{className:"row calendar-subtitle",children:Object(E.jsx)("div",{children:Object(E.jsxs)(me.a.Select,{onChange:function(e){s(e.target.value),null==e.target.value||""==e.target.value?m([]):Q(e.target.value)},"aria-label":"Default select example",children:[Object(E.jsx)("option",{value:"",children:"--SELECT MODULE HERE--"}),i.map((function(e){return Object(E.jsxs)("option",{value:null===e||void 0===e?void 0:e.id,children:[" ",null===e||void 0===e?void 0:e.moduleName]})}))]})})})]}),Object(E.jsx)("div",{children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{tag:"h5",className:"card-title",children:"Pages"}),Object(E.jsx)(ae.a.Text,{className:"card-title",children:Object(E.jsx)("ul",{style:{listStyle:"none",height:"50vh"},className:"scrollable pb-5",children:b.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("li",{children:Object(E.jsxs)("p",{onClick:function(t){Z(null===e||void 0===e?void 0:e.id),W(null===e||void 0===e?void 0:e.pageName)},className:"btn-create-discussion",variant:"link",children:[" ",null===e||void 0===e?void 0:e.pageName,"  "]})})})}))})})]})})]})})]})})]})};var qa=function(e){var t=e.conference,n=e.getConfe,s=e.setOpenEditModal,c=e.setEditLinks,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=Object(a.useContext)(D).data.user,v=Object(a.useState)(),g=Object(H.a)(v,2),w=(g[0],g[1],function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteLinks(p,t);case 2:e.sent.ok?(j(!1),n(),N()):alert("Something went wrong while fetching all Conference");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=function(){I.b.success("Successfully deleted link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},y=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},k=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return w(O)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this Conference Link!"}),Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"25px"},children:"Conference"})}),Object(E.jsx)(Je.a.Body,{children:null===t||void 0===t?void 0:t.filter((function(e){return""==r||(null===e||void 0===e?void 0:e.description.toLowerCase().includes(r.toLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsxs)(ce.a,{sm:9,children:[Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsxs)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e?void 0:e.url,children:[" ",null===e||void 0===e?void 0:e.description]})}),Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{className:"text-color-bcbcbc",children:null===e.classLink?Object(E.jsxs)("span",{children:["Date Posted ",ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")]}):Object(E.jsxs)("span",{children:["Date Posted ",ge()(null===e||void 0===e||null===(t=e.classLink)||void 0===t?void 0:t.createdDate).format("ll")]})})})]}),null===x.teacher?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:y,children:Object(E.jsx)(ue.a,{onClick:function(t){return function(e,t){e.preventDefault(),c(t),s(!0)}(t,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:k,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){j(!0),f(e)}(null===e||void 0===e?void 0:e.classLink.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})," "]})})]})}),Object(E.jsx)(ce.a,{sm:6}),Object(E.jsx)(ce.a,{sm:6,style:{textAlign:"right"},className:"due-date-discusstion"}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})}))})]})]})})};var Ga=function(e){var t=e.links,n=e.getLinks,s=e.setOpenEditModal,c=e.setEditLinks,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=Object(a.useContext)(D).data.user,v=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteLinks(p,t);case 2:e.sent.ok?(j(!1),n(),g()):alert("Something went wrong while fetching all Conference");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){I.b.success("Successfully deleted conference link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},w=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},N=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return v(O)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this link!"}),Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"25px"},children:"Other Links"})}),Object(E.jsx)(Je.a.Body,{children:null===t||void 0===t?void 0:t.filter((function(e){return""==r||(null===e||void 0===e?void 0:e.description.toLowerCase().includes(r.toLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsxs)(ce.a,{sm:9,children:[Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e?void 0:e.url,children:null===e||void 0===e?void 0:e.description})}),Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{className:"text-color-bcbcbc",children:null===e.classLink?Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")]}):Object(E.jsxs)("span",{children:["Post Date ",ge()(null===e||void 0===e||null===(t=e.classLink)||void 0===t?void 0:t.createdDate).format("ll")]})})})]}),null===x.teacher?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:w,children:Object(E.jsx)(ue.a,{onClick:function(t){return function(e,t){e.preventDefault(),c(t),console.log(t),s(!0)}(t,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:N,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){j(!0),f(e)}(null===e||void 0===e?void 0:e.classLink.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})," "]})})]})}),Object(E.jsx)(ce.a,{sm:6}),Object(E.jsx)(ce.a,{sm:6,style:{textAlign:"right"},className:"due-date-discusstion"}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})}))})]})]})})};var Ua=function(e){var t=e.videos,n=e.getVideos,s=e.setOpenEditModal,c=e.setEditLinks,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=Object(a.useContext)(D).data.user,v=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteLinks(p,t);case 2:e.sent.ok?(j(!1),n(),g()):alert("Something went wrong while fetching all Conference");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){I.b.success("Successfully deleted video link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},w=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},N=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return v(O)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this Vidoe link!"}),Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"25px"},children:"Videos"})}),Object(E.jsx)(Je.a.Body,{children:null===t||void 0===t?void 0:t.filter((function(e){return""==r||(null===e||void 0===e?void 0:e.description.toLowerCase().includes(r.toLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsxs)(ce.a,{sm:9,children:[Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e?void 0:e.url,children:null===e||void 0===e?void 0:e.description})}),Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{className:"text-color-bcbcbc",children:null===e.classLink?Object(E.jsxs)("span",{children:["Date Posted ",ge()(null===e||void 0===e?void 0:e.createdDate).format("ll")]}):Object(E.jsxs)("span",{children:["Date Posted ",ge()(null===e||void 0===e||null===(t=e.classLink)||void 0===t?void 0:t.createdDate).format("ll")]})})})]}),null===x.teacher?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:w,children:Object(E.jsx)(ue.a,{onClick:function(t){return function(e,t){e.preventDefault(),c(t),console.log(t),s(!0)}(t,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{className:"fa fa-edit"})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:N,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){j(!0),f(e)}(null===e||void 0===e?void 0:e.classLink.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})," "]})})]})}),Object(E.jsx)(ce.a,{sm:6}),Object(E.jsx)(ce.a,{sm:6,style:{textAlign:"right"},className:"due-date-discusstion"}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})}))})]})]})})};var Va=function(e){var t=e.setUrl,n=e.typeId,s=e.setTypeId,c=e.url,r=e.modal,i=e.setDescription,u=e.description,d=e.toggle,j=e.getConfe,b=e.getVideos,m=e.getLinks,h=Object(B.useParams)().id,O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=function(){var e=Object(l.a)(o.a.mark((function e(a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(!0),setTimeout((function(){return x(!1)}),1e3),""!==n){e.next=7;break}I.b.error("Please Select Type",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 7:return e.next=9,(new z).createLinks(h,n,{typeId:n,description:u,url:c});case 9:(r=e.sent).ok?(d(a),j(),b(),m(),g(),s(""),i(""),t("")):I.b.error(r.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){I.b.success("Successfully created link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:r,onHide:d,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Links"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:v,children:[Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Description"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Enter Description name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Url"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return t(e.target.value)},type:"text",placeholder:"Enter Url here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Type"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return s(e.target.value)},children:[Object(E.jsx)("option",{children:"-- Select Links Type Here --"}),Object(E.jsx)("option",{value:"1",children:"Conferences"}),Object(E.jsx)("option",{value:"2",children:"Videos"}),Object(E.jsx)("option",{value:"3",children:"Other Links"})]})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{disabled:p,className:"tficolorbg-button",type:"submit",children:"Save Links"})})]})})]})})};var _a=function(e){var t=e.getConfe,n=e.getVideos,s=e.getLinks,c=e.onSearch,r=e.onRefresh,i=Object(a.useState)(!1),o=Object(H.a)(i,2),l=o[0],u=o[1],d=Object(a.useContext)(D),j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=d.data.user;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"content-pane-title col-md-10 pages-header",children:["Links",Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:r,className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),null!=(null===y||void 0===y?void 0:y.teacher)&&Object(E.jsxs)("p",{className:"title-header",children:[" ",Object(E.jsxs)(ue.a,{className:"btn-create-link",variant:"link",onClick:function(){return u(!0)},children:[" ",Object(E.jsx)("i",{className:"fa fa-plus"}),"  Create Links  "]})]})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return c(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search Links here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Va,{setUrl:N,url:w,setDescription:x,description:p,setTypeId:h,typeId:m,getConfe:t,getVideos:n,getLinks:s,toggle:function(){u(!l),h(""),x(""),N("")},modal:l})]})};var Ja=function(e){var t,n=e.openEditModal,s=e.setOpenEditModal,c=e.editLinks,r=e.getConfe,i=e.getVideos,u=e.getLinks,d=Object(a.useState)(""),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=(O[0],O[1]),p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(B.useParams)().id,N=function(e){e.preventDefault(),s(!1)},y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==b&&""!==v){e.next=5;break}I.b.error("Please fill out all fields !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=10;break;case 5:return a=null===c||void 0===c||null===(n=c.classLink)||void 0===n?void 0:n.id,e.next=8,(new z).editClassLinks(w,a,{description:b,url:v});case 8:(s=e.sent).ok?(f(!0),N(t),r(),i(),u(),k()):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e,t;null!==c&&(m(null===c||void 0===c||null===(e=c.classLink)||void 0===e?void 0:e.description),g(null===c||void 0===c||null===(t=c.classLink)||void 0===t?void 0:t.url))}),[c]),console.log("editLinks:",c);var k=function(){I.b.success("Successfully Updated link!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:function(){return s(!1),m(""),void g("")},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Links"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:y,children:[Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Description"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return m(e.target.value)},defaultValue:null===c||void 0===c?void 0:c.description,type:"text",placeholder:"Enter Description name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Url"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return g(e.target.value)},defaultValue:null===c||void 0===c?void 0:c.url,type:"text",placeholder:"Enter Url here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Type"}),Object(E.jsx)(me.a.Control,{value:null===c||void 0===c||null===(t=c.classLink)||void 0===t?void 0:t.type,type:"text",disabled:!0})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Links"})})]})})]})})};var Qa=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(B.useParams)().id,y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),I=(A[0],A[1],Object(a.useState)("")),L=Object(H.a)(I,2),M=(L[0],L[1],Object(a.useState)()),F=Object(H.a)(M,2),P=(F[0],F[1],Object(a.useState)(!1)),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=Object(a.useContext)(D).data.user.subsType,U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"1",e.next=3,(new z).getLink(N,"1");case 3:(t=e.sent).ok?u(t.data):alert("Something went wrong while fetching all Conference");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){U(),"LMS"!=G&&(window.location.href="/classes"),V(),_()}),[]);var V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),"2",e.next=4,(new z).getLink(N,"2");case 4:(t=e.sent).ok?(q(!1),m(t.data)):alert("Something went wrong while fetching all Conference");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"3",e.next=3,(new z).getLink(N,"3");case 3:(t=e.sent).ok?p(t.data):alert("Something went wrong while fetching all Conference");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(_n,{children:[R&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)(_a,{onSearch:function(e){S(e)},getConfe:U,getVideos:V,getLinks:_,onRefresh:function(){return V()}}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(qa,{searchTerm:C,getConfe:U,conference:i,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(Ua,{searchTerm:C,getVideos:V,videos:b,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(Ga,{searchTerm:C,getLinks:_,links:f,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)(Ja,{getConfe:U,getVideos:V,getLinks:_,editLinks:g,openEditModal:n,setOpenEditModal:s})]})};var Za=function(e){var t=e.setModal,n=e.modal,s=e.toggle,c=e.module,r=e.getTaskModule,i=(e.classId,Object(a.useState)("")),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(!1),D=Object(H.a)(A,2),L=D[0],M=D[1],F=Object(a.useState)([]),P=Object(H.a)(F,2),Y=(P[0],P[1],Object(a.useState)([])),R=Object(H.a)(Y,2),q=R[0],G=(R[1],null===q||void 0===q||q.map((function(e){return"/".concat(e.value)})),Object(a.useState)("")),U=Object(H.a)(G,2),V=(U[0],U[1],Object(a.useState)(!1)),_=Object(H.a)(V,2),J=(_[0],_[1],Object(a.useState)(null)),Q=Object(H.a)(J,2),Z=(Q[0],Q[1],Object(a.useState)(!1)),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(B.useParams)().id,ee=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),X(!0),setTimeout((function(){return X(!1)}),1e3),""!==x&&"{{type=equation}}"!==x&&""!==d&&""!==N&&""!==h){e.next=7;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 7:if(!(N<=0)){e.next=11;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=15;break;case 11:return e.next=13,(new z).creatTask(d,$,{task:{taskName:h,instructions:x,rate:N},taskAssignment:{allowLate:true}});case 13:(n=e.sent).ok?(j(""),O(""),y(""),v(""),r(null,d),s(t),I.b.success("Successfully saved task!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:function(){t(!1),j(""),O(""),v("")},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Task"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:ee,children:[Object(E.jsx)("div",{className:L?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)("div",{className:"text-align-right",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return M(!L)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsxs)(me.a.Select,{onChange:function(e){return j(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"-- Select Unit Here -- "}),c.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.moduleName})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Task Name"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return O(e.target.value)},type:"text",placeholder:"Enter Task name here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Rate"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return y(e.target.value)},type:"number",placeholder:"Enter Rate here"})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Instruction"}),Object(E.jsx)(ct,{value:x,placeholder:"Enter instruction here",onChange:function(e){return v(e)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{disabled:K,className:"tficolorbg-button",type:"submit",children:"Save Task"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:S,title:"Done!",onConfirm:function(){T(!1)}})]})};var Wa=function(e){var t=e.module,n=e.getTaskModule,s=e.refModuleId,c=e.onSearch,r=e.onRefresh,i=Object(a.useState)(!1),o=Object(H.a)(i,2),l=o[0],u=o[1],d=Object(a.useContext)(D).data.user,j=Object(B.useParams)().id;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Task "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:r,className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),d.isTeacher&&Object(E.jsx)("p",{className:"title-header m-0-dashboard",children:Object(E.jsxs)(ue.a,{className:"btn-create-task",Button:!0,variant:"link",onClick:function(){return u(!0)},children:[Object(E.jsx)("i",{className:"fa fa-plus"})," Create Task"]})})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return c(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search task here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(Za,{setModal:u,refModuleId:s,module:t,classId:j,toggle:function(){u(!l)},modal:l,getTaskModule:n})]})};var Ka=function(e){var t=e.setRate,n=e.rate,s=e.moduleName,c=e.setTaskName,r=e.taskName,i=e.setInstructions,u=e.instructions,d=e.taskId,j=e.modal,b=(e.toggle,e.module),m=(e.editTask,e.getTaskModule),h=e.moduleId,O=e.setModal,f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)([]),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)([])),T=Object(H.a)(S,2),A=(T[0],T[1],Object(a.useState)([])),D=Object(H.a)(A,2),L=D[0],M=(D[1],null===L||void 0===L||L.map((function(e){return"/".concat(e.value)})),Object(a.useState)("")),F=Object(H.a)(M,2),P=(F[0],F[1],Object(a.useState)(!1)),Y=Object(H.a)(P,2),R=(Y[0],Y[1],Object(a.useState)(null)),q=Object(H.a)(R,2),G=(q[0],q[1]),U=Object(B.useParams)().id;console.log("rate:",n);var V=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==u&&"{{type=equation}}"!==u&&""!==n&&""!==r){e.next=5;break}I.b.error("Please input all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=14;break;case 5:if(!(n<=0)){e.next=9;break}I.b.error("Rate must be greater than to 0.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=14;break;case 9:return a=d,e.next=12,(new z).updateTask(a,{taskName:r,instructions:u,rate:n,isShared:null});case 12:(s=e.sent).ok?(_(),m(null,h),O(!1)):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){I.b.success("Successfully updated task!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};Object(a.useEffect)((function(){J()}),[]);var J=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getClassInformation(U);case 2:(t=e.sent).ok&&G(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.courseId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:j,onHide:function(){return O(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Task"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:V,children:[Object(E.jsx)("div",{className:N?"mb-3":"d-none",children:Object(E.jsx)(Ht,{})}),Object(E.jsx)("div",{className:"text-align-right",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return y(!N)},children:"File Library"})}),Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Unit"}),Object(E.jsxs)(me.a.Select,{disabled:!0,children:[Object(E.jsxs)("option",{children:[s," "]}),b.map((function(e){return Object(E.jsxs)("option",{value:s,children:[s," ",e.id]})}))]})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Task Name"}),Object(E.jsx)(me.a.Control,{placeholder:"Enter Task name here",onChange:function(e){return c(e.target.value)},type:"text",defaultValue:r})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Rate"}),Object(E.jsx)(me.a.Control,{onChange:function(e){return t(e.target.value)},type:"number",placeholder:"Enter Rate here",defaultValue:n})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Instruction"}),Object(E.jsx)(ct,{value:u,placeholder:"Enter instruction here",onChange:function(e){return i(e)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Task"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:x,title:"Done!",onConfirm:function(){v(!1)}})]})};var Xa=function(e){var t=e.moduleId,n=e.getTaskModule,s=e.assignTaskModal,c=e.assignTaskToggle,r=(e.taskName,e.assingTaskId),i=e.selectedTaskName,u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(B.useParams)().id,M=Object(a.useContext)(D).data.notify,F=function(){console.log({selectedTaskName:i});var e={description:"task ".concat(i," to you."),activityType:"",classId:"".concat(L)};console.log({notification:e}),M(e)},P=function(){var e=Object(l.a)(o.a.mark((function e(a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,(new z).assignTask(L,r,{startDate:j,startTime:O,endDate:v,endTime:y});case 3:(s=e.sent).ok?(Y(),F(),b(""),f(""),g(""),k(""),c(a),n(null,t)):I.b.error(s.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){I.b.success("Successfully assigned task!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:c,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Assign Task"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:P,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return b(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return f(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return g(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return k(e.target.value)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Task"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:T,title:"Done!",onConfirm:function(){A(!1)}})]})};var $a=function(e){var t,n,s,c,r=e.editAssignTaskItem,i=e.editAssignTaskToggle,u=e.editAssignTaskModal,d=e.getTaskModule;console.log("editAssignTaskItem:",r);var j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(B.useParams)().id,P=Object(a.useContext)(D).data.notify,Y=function(e){if(e)return e.replace(/<(?:.|\n)*?>/gm,"")},R=function(){var e,t={description:"task ".concat(Y(null===r||void 0===r||null===(e=r.task)||void 0===e?void 0:e.taskName)," to you."),activityType:"",classId:"".concat(F)};console.log({notification:t}),P(t)},q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=null===r||void 0===r||null===(n=r.taskAssignment)||void 0===n?void 0:n.taskId,c=null===r||void 0===r||null===(a=r.module)||void 0===a?void 0:a.id,e.next=5,(new z).updateAssignTask(F,s,{startDate:m,startTime:p,endDate:w,endTime:C});case 5:(l=e.sent).ok?(R(),d(null,c),G(),i(t)):I.b.error(l.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e,t,n,a;null!==r&&(h(null===r||void 0===r||null===(e=r.taskAssignment)||void 0===e?void 0:e.startDate),x(null===r||void 0===r||null===(t=r.taskAssignment)||void 0===t?void 0:t.startTime),N(null===r||void 0===r||null===(n=r.taskAssignment)||void 0===n?void 0:n.endDate),S(null===r||void 0===r||null===(a=r.taskAssignment)||void 0===a?void 0:a.endTime))}),[r]);var G=function(){I.b.success("Successfully updated task!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:u,onHide:i,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Assign Task"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:q,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return h(e.target.value)},defaultValue:ge()(null===r||void 0===r||null===(t=r.taskAssignment)||void 0===t?void 0:t.startDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return x(e.target.value)},defaultValue:null===r||void 0===r||null===(n=r.taskAssignment)||void 0===n?void 0:n.startTime})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return N(e.target.value)},defaultValue:ge()(null===r||void 0===r||null===(s=r.taskAssignment)||void 0===s?void 0:s.endDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return S(e.target.value)},defaultValue:null===r||void 0===r||null===(c=r.taskAssignment)||void 0===c?void 0:c.endTime})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Task"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:L,title:"Done!",onConfirm:function(){M(!1)}})]})};var es=function(e){var t=e.answerTaskToggle,n=e.answerTaskModal,s=e.taskId,c=Object(B.useParams)().id,r=Object(a.useContext)(D).data.user,i=Object(a.useState)(""),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)("pending"),p=Object(H.a)(f,2),x=p[0],v=p[1];console.log("taskId:",s);var g=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v("uploading"),i=null===r||void 0===r||null===(a=r.student)||void 0===a?void 0:a.id,e.next=5,(new z).submitStudentTaskAnswer(i,c,s,{taskAnswer:d,fileDetails:h});case 5:(l=e.sent).ok?(j(""),I.b.success("Successfully submitted task answer."),v("done"),O([]),t(!1),O([])):alert(l.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},N=function(){switch(x){case"pending":return 0;case"uploading":return 30;case"done":return 100}};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:t,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Answer Task"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:g,children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Label,{children:"Answer"})}),Object(E.jsx)(me.a.Group,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{onChange:function(e){return j(e.target.value)},as:"textarea",rows:3})}),Object(E.jsxs)(me.a.Group,{className:"mb-1",children:[Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){document.getElementById("attachedFile").click()},children:"Attach File"}),Object(E.jsx)("input",{id:"attachedFile",className:"d-none",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){var t;""!=(t=e.target.files)&&Object.values(t).map((function(e,t){e.size<=25e6?(console.log(e,t),w(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0};h.push(n),O(Object(Te.a)(h))}))):I.b.error("Please select a file below 25mb.")}))}})]}),Object(E.jsxs)(He.a,{responsive:"sm",className:0==h.length?"d-none":"",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===h||void 0===h?void 0:h.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:N()})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return function(e){var t=h;t.splice(e,1),O(Object(Te.a)(t))}(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Submit Answer"})})]})})]})})};var ts=function(e){var t,n=e.submittedTaskToggle,a=e.submittedTaskModal,s=e.taskAnswerItem;return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:a,onHide:n,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Task"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Label,{children:"Answer"})}),Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Control,{defaultValue:null===s||void 0===s?void 0:s.taskAnswer,as:"textarea",rows:3,disabled:!0})}),Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Label,{children:"Feed Back"})}),Object(E.jsx)(me.a.Group,{className:"mb-2",children:Object(E.jsx)(me.a.Control,{defaultValue:null===s||void 0===s?void 0:s.feedback,type:"text",disabled:!0})}),Object(E.jsx)(me.a.Group,{className:"mb-1",children:Object(E.jsx)(me.a.Label,{children:"Grade"})}),Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{defaultValue:null===s||void 0===s?void 0:s.taskGrade,type:"text",disabled:!0})}),Object(E.jsxs)(me.a.Group,{className:"mb-1",children:[Object(E.jsx)(me.a.Label,{children:"File/s"}),"\xa0\xa0\xa0",null===s||void 0===s||null===(t=s.uploadedFiles)||void 0===t?void 0:t.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("a",{href:e.filePath,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"fas fa-download td-file-page mb-2"})})})}))]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"tficolorbg-button",type:"submit",children:"OK"})})]})]})})},ns=function(e){e.viewTaskToggle;var t=e.viewTaskMotal,n=e.viewTaskItem,a=e.startDate,s=e.startTime,c=e.endDate,r=e.endTime,i=e.setViewTaskModal;return console.log("viewTaskItemviewTaskItemviewTaskItem:",n),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:function(){return i(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsxs)(be.a.Title,{id:"example-modal-sizes-title-lg",children:[null===n||void 0===n?void 0:n.taskName,Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:10,className:"due-date-discusstion",style:{width:"auto",fontSize:"20px"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(a).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[s,"\xa0"]})]})}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",style:{width:"auto"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(c).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[r,"\xa0"]})]})})]})]})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===n||void 0===n?void 0:n.instructions})})})]})})};var as=function(e){var t=e.taskModule,n=e.searchTerm,s=e.moduleId,c=e.getTaskModule,r=Object(a.useContext)(D).data.user,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(!1),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(null),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(B.useParams)().id,S=ge()().format("YYYY-MM-DD"),T=ge()().format("HH:mm"),A=Object(a.useState)(),I=Object(H.a)(A,2),L=I[0],M=I[1],F=Object(a.useState)([]),P=Object(H.a)(F,2),Y=P[0],R=P[1],q=Object(a.useState)(),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)(),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=Object(a.useState)(),K=Object(H.a)(W,2),X=K[0],$=K[1],ee=Object(a.useState)(),te=Object(H.a)(ee,2),ae=te[0],ie=te[1];console.log("taskModuletaskModuletaskModule:",t);var oe=function(e,t,n,a,s){R(e),V(t),Z(n),$(a),ie(s),M(!L)},le=function(e){g(e),j(!d)},de=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.id,i=C,e.next=4,(new z).getStudentTaskAnwswer(a,i,t);case 4:(l=e.sent).ok?(k(l.data),f(!O),c(C,s)):alert("ERROR");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==v)return de()}),[]);var je=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Answer"}))},be=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"tooltip-bottom"},e),{},{children:"View Grade"}))},me=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))};return Object(E.jsxs)("div",{children:[t.filter((function(e){var t;return""==n||(null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.taskName.toLowerCase().includes(n.toLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,i,o,l,u,d,j,b,m,h,O,f,p,x,v,g,w,N,y,k,C,A;return Object(E.jsx)(E.Fragment,{children:!0===(null===e||void 0===e?void 0:e.isScheduled)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{margin:"8px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.taskName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.instructions})})]})}),!0===e.isLoggedUserDone?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Submitted"}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:me,children:Object(E.jsxs)(ue.a,{onClick:function(t){var n,a,s,c;return oe(null===e||void 0===e?void 0:e.task,null===e||void 0===e||null===(n=e.taskAssignment)||void 0===n?void 0:n.startDate,null===e||void 0===e||null===(a=e.taskAssignment)||void 0===a?void 0:a.startTime,null===e||void 0===e||null===(s=e.taskAssignment)||void 0===s?void 0:s.endDate,null===e||void 0===e||null===(c=e.taskAssignment)||void 0===c?void 0:c.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:1},overlay:be,children:Object(E.jsx)(ue.a,{onClick:function(){var t;return de(null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-book-reader"})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(a=e.taskAssignment)||void 0===a?void 0:a.endDate)+" "+(null===e||void 0===e||null===(s=e.taskAssignment)||void 0===s?void 0:s.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{})]}):Object(E.jsxs)(E.Fragment,{children:[ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(c=e.taskAssignment)||void 0===c?void 0:c.startDate)+" "+(null===e||void 0===e||null===(i=e.taskAssignment)||void 0===i?void 0:i.startTime),"YYYY-MM-DD HH:mm"))&&ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(o=e.taskAssignment)||void 0===o?void 0:o.endDate)+" "+(null===e||void 0===e||null===(l=e.taskAssignment)||void 0===l?void 0:l.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:je,children:!r.isSchoolAdmin&&Object(E.jsx)(ue.a,{onClick:function(){var t;return le(null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-edit"})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:me,children:Object(E.jsx)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.task,null===e||void 0===e||null===(t=e.taskAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.taskAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.taskAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.taskAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-eye"})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(u=e.taskAssignment)||void 0===u?void 0:u.endDate)+" "+(null===e||void 0===e||null===(d=e.taskAssignment)||void 0===d?void 0:d.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[!r.isSchoolAdmin&&Object(E.jsx)(ue.a,{className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Not Submitted"}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:me,children:Object(E.jsx)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.task,null===e||void 0===e||null===(t=e.taskAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.taskAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.taskAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.taskAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-eye"})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(j=e.taskAssignment)||void 0===j?void 0:j.startDate)+" "+(null===e||void 0===e||null===(b=e.taskAssignment)||void 0===b?void 0:b.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:1},overlay:me,children:Object(E.jsx)(ue.a,{onClick:function(){var t,n,a,s;return oe(null===e||void 0===e?void 0:e.task,null===e||void 0===e||null===(t=e.taskAssignment)||void 0===t?void 0:t.startDate,null===e||void 0===e||null===(n=e.taskAssignment)||void 0===n?void 0:n.startTime,null===e||void 0===e||null===(a=e.taskAssignment)||void 0===a?void 0:a.endDate,null===e||void 0===e||null===(s=e.taskAssignment)||void 0===s?void 0:s.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-book-reader"})})})})]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(m=e.taskAssignment)||void 0===m?void 0:m.startDate)+" "+(null===e||void 0===e||null===(h=e.taskAssignment)||void 0===h?void 0:h.startTime),"YYYY-MM-DD HH:mm"))&&ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(O=e.taskAssignment)||void 0===O?void 0:O.endDate)+" "+(null===e||void 0===e||null===(f=e.taskAssignment)||void 0===f?void 0:f.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(p=e.taskAssignment)||void 0===p?void 0:p.endDate)+" "+(null===e||void 0===e||null===(x=e.taskAssignment)||void 0===x?void 0:x.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)("div",{style:{color:"#EE9337",fontSize:"15px"},children:[Object(E.jsx)("b",{children:"Ended"}),"\xa0"]}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(v=e.taskAssignment)||void 0===v?void 0:v.startDate)+" "+(null===e||void 0===e||null===(g=e.taskAssignment)||void 0===g?void 0:g.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(S+" "+T,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(w=e.taskAssignment)||void 0===w?void 0:w.startDate)+" "+(null===e||void 0===e||null===(N=e.taskAssignment)||void 0===N?void 0:N.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:6,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(y=e.taskAssignment)||void 0===y?void 0:y.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(k=e.taskAssignment)||void 0===k?void 0:k.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(C=e.taskAssignment)||void 0===C?void 0:C.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(A=e.taskAssignment)||void 0===A?void 0:A.endTime})]})})]}),Object(E.jsx)("hr",{})]}):Object(E.jsx)(E.Fragment,{})})})),Object(E.jsx)(es,{taskId:v,answerTaskToggle:le,answerTaskModal:d}),Object(E.jsx)(ns,{startDate:U,startTime:Q,endDate:X,endTime:ae,viewTaskItem:Y,viewTaskToggle:oe,setViewTaskModal:M,viewTaskMotal:L}),Object(E.jsx)(ts,{taskAnswerItem:y,submittedTaskToggle:function(){f(!O)},submittedTaskModal:O})]})},ss=function(e){e.viewTaskTaggle;var t=e.viewTaskModal,n=e.viewTaskItem,a=e.viewTaskAssign,s=e.setViewTaskModal;return console.log("startDatestartDatestartDate:",a),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:function(){return s(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsxs)(be.a.Title,{id:"example-modal-sizes-title-lg",children:[null===n||void 0===n?void 0:n.taskName,Object(E.jsx)(se.a,{children:a?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{sm:10,className:"due-date-discusstion",style:{width:"auto",fontSize:"20px"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:ge()(null===a||void 0===a?void 0:a.startDate).format("ll")}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[null===a||void 0===a?void 0:a.startTime,"\xa0"]})]})}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",style:{width:"auto"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===a||void 0===a?void 0:a.endDate).format("ll"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-707070",children:"/\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[null===a||void 0===a?void 0:a.endTime,"\xa0"]})]})})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{style:{color:"red",fontSize:"15px",paddingTop:"10px"},children:Object(E.jsx)("b",{children:"Not Assigned"})})})})]})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===n||void 0===n?void 0:n.instructions})})})]})})};var cs=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),I=A[0],L=A[1],M=Object(a.useState)([]),F=Object(H.a)(M,2),P=F[0],Y=F[1],R=Object(a.useState)(),q=Object(H.a)(R,2),G=q[0],U=(q[1],Object(B.useParams)().id),V=Object(a.useState)(!1),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)(""),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=ge()().format("YYYY-MM-DD"),te=ge()().format("HH:mm"),ae=Object(a.useContext)(D).data.user,ie=Object(a.useState)(!1),le=Object(H.a)(ie,2),de=le[0],je=le[1],be=Object(a.useState)([]),me=Object(H.a)(be,2),he=me[0],Oe=me[1],fe=Object(a.useState)(null),pe=Object(H.a)(fe,2),xe=pe[0],ve=pe[1],we=Object(a.useState)(""),Ne=Object(H.a)(we,2),ye=Ne[0],ke=Ne[1],Ce=Object(a.useState)({}),Se=Object(H.a)(Ce,2),Te=(Se[0],Se[1]),Ae=Object(a.useState)(""),Ie=Object(H.a)(Ae,2),Ee=Ie[0],De=Ie[1],Le=Object(a.useState)(""),Me=Object(H.a)(Le,2),Fe=Me[0],Be=Me[1],He=Object(a.useState)(""),Pe=Object(H.a)(He,2),ze=Pe[0],Ye=Pe[1],Re=Object(a.useState)(""),qe=Object(H.a)(Re,2),Ge=qe[0],Ue=qe[1],Ve=Object(a.useState)(""),_e=Object(H.a)(Ve,2),Qe=_e[0],Ze=_e[1],We=Object(a.useState)(""),Ke=Object(H.a)(We,2),Xe=Ke[0],$e=Ke[1],et=Object(a.useState)(!1),tt=Object(H.a)(et,2),nt=tt[0],at=tt[1],st=ae.subsType;Object(a.useEffect)((function(){ct(),"LMS"!=st&&(window.location.href="/classes")}),[]);var ct=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return at(!0),e.next=3,(new Vn).getClassInfo(U);case 3:(t=e.sent).ok?(dt(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),Te(t.data),at(!1)):(alert("Something went wrong while fetching all courses"),at(!1)),at(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(e,t){Oe(e),ve(t),je(!de)},ot=function(e,t,a,c,r,i){De(t),Be(a),Ue(c),Ze(r),Ye(i),s(!n)},lt=function(e,t){S(t),N(!w)},ut=function(e,t,n){$e(n),L(t),x(!p)},dt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?h(n.data):alert("Something went wrong while fetching all Module");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getTaskModule(U,n);case 2:(a=e.sent).ok?(Y(null===a||void 0===a?void 0:a.data),u(n)):alert("Something went wrong while Deleting Deleting a getTaskModule");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==i)return jt()}),[]);var bt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteTasks(n);case 2:e.sent.ok?(jt(null,a),Q(!1)):alert("Something went wrong while Deleting a task");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),mt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))},ht=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Ot=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Reassign"}))},ft=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assign"}))},pt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};return Object(E.jsxs)(_n,{children:[nt&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)(Wa,{onSearch:function(e){ke(e)},module:b,getTaskModule:jt,onRefresh:function(){return ct()}}),Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:J,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(e){return bt(e,K,i)},onCancel:function(){Q(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),b.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return jt(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:null===(null===ae||void 0===ae?void 0:ae.teacher)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(as,{searchTerm:ye,taskModule:P,getTaskModule:jt,moduleId:i})}):Object(E.jsx)(E.Fragment,{children:null===P||void 0===P?void 0:P.filter((function(e){var t;return""==ye||(null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.taskName.toLowerCase().includes(ye.toLocaleLowerCase()))?e:void 0})).map((function(t){var n,a,s,c,r,i,o,l,d,j,b,m,h,O,f,p,x,v,g;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===t||void 0===t||null===(n=t.task)||void 0===n?void 0:n.taskName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===t||void 0===t||null===(a=t.task)||void 0===a?void 0:a.instructions})})]})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Rate:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===(null===t||void 0===t||null===(s=t.task)||void 0===s?void 0:s.rate)?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(rt,{children:null===t||void 0===t||null===(c=t.task)||void 0===c?void 0:c.rate})})]})}),t.task.classId?Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:mt,children:Object(E.jsxs)(ue.a,{onClick:function(){return it(null===t||void 0===t?void 0:t.task,null===t||void 0===t?void 0:t.taskAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:ht,children:Object(E.jsx)(ue.a,{onClick:function(e){var n,a,s,c,r;return ot(0,null===t||void 0===t||null===(n=t.task)||void 0===n?void 0:n.taskName,null===t||void 0===t||null===(a=t.task)||void 0===a?void 0:a.instructions,null===t||void 0===t||null===(s=t.task)||void 0===s?void 0:s.id,null===t||void 0===t||null===(c=t.module)||void 0===c?void 0:c.moduleName,null===t||void 0===t||null===(r=t.task)||void 0===r?void 0:r.rate)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-edit"})})}),(null===t||void 0===t?void 0:t.taskAssignment)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Ot,children:Object(E.jsx)(ue.a,{onClick:function(e){return lt(0,t)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:ft,children:Object(E.jsx)(ue.a,{onClick:function(e){var n;return ut(0,t.task.id,null===t||void 0===t||null===(n=t.task)||void 0===n?void 0:n.taskName)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:pt,children:Object(E.jsx)(ue.a,{onClick:function(){var n;return function(e,t){Q(!0),X(e),u(t)}(null===t||void 0===t||null===(n=t.task)||void 0===n?void 0:n.id,null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-trash-alt"})})})]}):Object(E.jsx)(E.Fragment,{children:(null===(r=t.taskAssignment)||void 0===r?void 0:r.startDate)?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:mt,children:Object(E.jsxs)(ue.a,{onClick:function(){return it(null===t||void 0===t?void 0:t.task,null===t||void 0===t?void 0:t.taskAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Ot,children:Object(E.jsx)(ue.a,{onClick:function(e){return lt(0,t)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})]})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(ce.a,{sm:3,className:"icon-exam",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:mt,children:Object(E.jsxs)(ue.a,{onClick:function(){return it(null===t||void 0===t?void 0:t.task,null===t||void 0===t?void 0:t.taskAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:ft,children:Object(E.jsx)(ue.a,{onClick:function(e){return ut(0,null===t||void 0===t?void 0:t.task.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})]})})}),(null===t||void 0===t?void 0:t.taskAssignment)?Object(E.jsxs)(E.Fragment,{children:[ge()($+" "+te,"YYYY-MM-DD HH:mm").isBefore(ge()((null===t||void 0===t||null===(i=t.taskAssignment)||void 0===i?void 0:i.startDate)+" "+(null===t||void 0===t||null===(o=t.taskAssignment)||void 0===o?void 0:o.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()($+" "+te,"YYYY-MM-DD HH:mm").isAfter(ge()((null===t||void 0===t||null===(l=t.taskAssignment)||void 0===l?void 0:l.endDate)+" "+(null===t||void 0===t||null===(d=t.taskAssignment)||void 0===d?void 0:d.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended"})}),ge()($+" "+te,"YYYY-MM-DD HH:mm").isSame(ge()((null===t||void 0===t||null===(j=t.taskAssignment)||void 0===j?void 0:j.startDate)+" "+(null===t||void 0===t||null===(b=t.taskAssignment)||void 0===b?void 0:b.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()($+" "+te,"YYYY-MM-DD HH:mm").isAfter(ge()((null===t||void 0===t||null===(m=t.taskAssignment)||void 0===m?void 0:m.startDate)+" "+(null===t||void 0===t||null===(h=t.taskAssignment)||void 0===h?void 0:h.startTime),"YYYY-MM-DD HH:mm"))&&ge()($+" "+te,"YYYY-MM-DD HH:mm").isBefore(ge()((null===t||void 0===t||null===(O=t.taskAssignment)||void 0===O?void 0:O.endDate)+" "+(null===t||void 0===t||null===(f=t.taskAssignment)||void 0===f?void 0:f.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===t||void 0===t||null===(p=t.taskAssignment)||void 0===p?void 0:p.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===t||void 0===t||null===(x=t.taskAssignment)||void 0===x?void 0:x.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===t||void 0===t||null===(v=t.taskAssignment)||void 0===v?void 0:v.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===t||void 0===t||null===(g=t.taskAssignment)||void 0===g?void 0:g.endTime})]})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})]})}))})})]})}))]}),Object(E.jsx)(ss,{setViewTaskModal:je,viewTaskAssign:xe,viewTaskItem:he,viewTaskTaggle:it,viewTaskModal:de}),Object(E.jsx)(Ka,{setRate:Ye,rate:ze,moduleName:Qe,taskId:Ge,setTaskId:Ue,instructions:Fe,setInstructions:Be,taskName:Ee,setTaskName:De,setModal:s,moduleId:i,editTask:G,toggle:ot,modal:n,module:b,getTaskModule:jt}),Object(E.jsx)(Xa,{selectedTaskName:Xe,moduleId:i,getTaskModule:jt,assingTaskId:I,assignTaskModal:p,assignTaskToggle:ut}),Object(E.jsx)($a,{getTaskModule:jt,editAssignTaskItem:C,editAssignTaskToggle:lt,editAssignTaskModal:w})]})};var rs=function(e){var t=e.onSearch,n=e.onRefresh;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"row m-b-20",style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Interactive Exercises "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return t(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search interactive exercise here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]})};var is=function(e){var t=e.moduleId,n=e.getIndteractive,s=e.assignInteractiveToggle,c=e.assignInteractiveModal,r=e.interactiveId,i=Object(a.useState)(""),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(B.useParams)().id,D=function(){var e=Object(l.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),d!=x||h!=N){e.next=5;break}I.b.error("Start date must not earlier than the end date",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=9;break;case 5:return e.next=7,(new z).assignInteractive(A,r,{startDate:d,startTime:h,endDate:x,endTime:N});case 7:(c=e.sent).ok?(L(),j(""),O(""),v(""),y(""),n(null,t),s(a)):I.b.error(c.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){I.b.success("Successfully assigned interactive!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:c,onHide:s,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Assign Class Interactive"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:D,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return j(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return O(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return v(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return y(e.target.value)}})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Class Interactive"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:S,title:"Done!",onConfirm:function(){T(!1)}})]})};var os=function(e){var t,n,s,c,r=e.getIndteractive,i=e.editAssignInteractiveItem,u=e.editAssignIteractiveToggle,d=e.editAssignInteractiveModal,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),D=A[0],L=A[1],M=Object(B.useParams)().id,F=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m!=w||p!=C){e.next=5;break}I.b.error("Start date must not earlier than the end date",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 5:return s=null===i||void 0===i||null===(n=i.interactive)||void 0===n?void 0:n.id,c=null===i||void 0===i||null===(a=i.module)||void 0===a?void 0:a.id,e.next=9,(new z).updateAssignInteractive(M,s,{startDate:m,startTime:p,endDate:w,endTime:C});case 9:(l=e.sent).ok?(P(),r(null,c),u(t)):I.b.error(l.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e,t,n,a;null!==i&&(h(null===i||void 0===i||null===(e=i.classInteractiveAssignment)||void 0===e?void 0:e.startDate),x(null===i||void 0===i||null===(t=i.classInteractiveAssignment)||void 0===t?void 0:t.startTime),N(null===i||void 0===i||null===(n=i.classInteractiveAssignment)||void 0===n?void 0:n.endDate),S(null===i||void 0===i||null===(a=i.classInteractiveAssignment)||void 0===a?void 0:a.endTime))}),[i]);var P=function(){I.b.success("Successfully reassigned interactive!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:d,onHide:u,"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Assign Class Interactive"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:F,children:[Object(E.jsxs)(me.a.Group,{className:"mb-3",children:[Object(E.jsx)(me.a.Label,{children:"Start Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return h(e.target.value)},defaultValue:ge()(null===i||void 0===i||null===(t=i.classInteractiveAssignment)||void 0===t?void 0:t.startDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Start Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return x(e.target.value)},defaultValue:null===i||void 0===i||null===(n=i.classInteractiveAssignment)||void 0===n?void 0:n.startTime})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Date"}),Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return N(e.target.value)},defaultValue:ge()(null===i||void 0===i||null===(s=i.classInteractiveAssignment)||void 0===s?void 0:s.endDate).format("YYYY-MM-DD")})]}),Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"End Time"}),Object(E.jsx)(me.a.Control,{type:"time",onChange:function(e){return S(e.target.value)},defaultValue:null===i||void 0===i||null===(c=i.classInteractiveAssignment)||void 0===c?void 0:c.endTime})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Class Interactive"})})]})})]}),Object(E.jsx)(oe.a,{success:!0,show:D,title:"Done!",onConfirm:function(){L(!1)}})]})},ls=n(38),us=n.n(ls);var ds=function(e){var t=e.interactive,n=e.searchTerm,s=e.classInfo,c=ge()().format("YYYY-MM-DD"),r=ge()().format("HH:mm"),i=Object(a.useState)([]),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)([]),x=Object(H.a)(p,2),v=(x[0],x[1]),g=Object(a.useContext)(D).data.user,w=Object(B.useParams)().id,N=function(e,t,n,a,s){var c=O.code;e.preventDefault(),window.open(t+"?sid="+n+"&gid="+a+"&cid="+s+"#"+c)},y=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Play"}))},k=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getAccountInfo(g.userId);case 2:(t=e.sent).ok?j(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getSchoolCode();case 2:(t=e.sent).ok?(f(t.data),console.log("Haru",t.data)):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){A(e)},T=function(e){var t,n,a=g.userId,c=(null===g||void 0===g||null===(t=g.student)||void 0===t||t.fname,null===g||void 0===g||null===(n=g.student)||void 0===n||n.lname,d.username,d.password,{reference_id:a,school_code:O.id});us.a.post("https://api.godspark.world/v1/student/generate-token",c,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){v(t.data.Token),function(e,t){var n,a,c,r,i,o,l,u,j=g.userId;if(null===g||void 0===g||null===(n=g.student)||void 0===n||n.fname,null===g||void 0===g||null===(a=g.student)||void 0===a||a.lname,d.username,d.password,1===(null===s||void 0===s||null===(c=s.classInformation)||void 0===c?void 0:c.gradeLevelId)){var b={reference_id:j,school_code:O.id,class_id:417};us.a.post("https://api.godspark.world/v1/student/update-class",b,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(2===(null===s||void 0===s||null===(r=s.classInformation)||void 0===r?void 0:r.gradeLevelId)){var m={reference_id:j,school_code:O.id,class_id:418};us.a.post("https://api.godspark.world/v1/student/update-class",m,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(3===(null===s||void 0===s||null===(i=s.classInformation)||void 0===i?void 0:i.gradeLevelId)){var h={reference_id:j,school_code:O.id,class_id:419};us.a.post("https://api.godspark.world/v1/student/update-class",h,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(4===(null===s||void 0===s||null===(o=s.classInformation)||void 0===o?void 0:o.gradeLevelId)){var f={reference_id:j,school_code:O.id,class_id:425};us.a.post("https://api.godspark.world/v1/student/update-class",f,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(5===(null===s||void 0===s||null===(l=s.classInformation)||void 0===l?void 0:l.gradeLevelId)){var p={reference_id:j,school_code:O.id,class_id:426};us.a.post("https://api.godspark.world/v1/student/update-class",p,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(6===(null===s||void 0===s||null===(u=s.classInformation)||void 0===u?void 0:u.gradeLevelId)){var x={reference_id:j,school_code:O.id,class_id:427};us.a.post("https://api.godspark.world/v1/student/update-class",x,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}}(t.data.Token,e)}),(function(e){}))},A=function(e){var t,n,a,c,r,i,o,l,u=g.userId,j=null===g||void 0===g||null===(t=g.student)||void 0===t?void 0:t.fname,b=null===g||void 0===g||null===(n=g.student)||void 0===n?void 0:n.lname,m=d.username,h=d.password;if(1===(null===s||void 0===s||null===(a=s.classInformation)||void 0===a?void 0:a.gradeLevelId)){var f={class_id:417,reference_id:u,school_code:O.id,username:"student2233",first_name:"A",last_name:"Mike",password:h};us.a.post("https://api.godspark.world/v1/student/create",f,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){T(e)}),(function(e){}))}else if(2===(null===s||void 0===s||null===(c=s.classInformation)||void 0===c?void 0:c.gradeLevelId)){var p={class_id:418,reference_id:u,school_code:O.id,username:m,first_name:j,last_name:b,password:h};us.a.post("https://api.godspark.world/v1/student/create",p,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){T(e)}),(function(e){}))}else if(3===(null===s||void 0===s||null===(r=s.classInformation)||void 0===r?void 0:r.gradeLevelId)){var x={class_id:419,reference_id:u,school_code:O.id,username:m,first_name:j,last_name:b,password:h};us.a.post("https://api.godspark.world/v1/student/create",x,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){T(e)}),(function(e){}))}else if(4===(null===s||void 0===s||null===(i=s.classInformation)||void 0===i?void 0:i.gradeLevelId)){var v={class_id:425,reference_id:u,school_code:O.id,username:m,first_name:j,last_name:b,password:h};us.a.post("https://api.godspark.world/v1/student/create",v,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){T(e)}),(function(e){}))}else if(5===(null===s||void 0===s||null===(o=s.classInformation)||void 0===o?void 0:o.gradeLevelId)){var w={class_id:426,reference_id:u,school_code:O.id,username:m,first_name:j,last_name:b,password:h};us.a.post("https://api.godspark.world/v1/student/create",w,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){T(e)}),(function(e){}))}else if(6===(null===s||void 0===s||null===(l=s.classInformation)||void 0===l?void 0:l.gradeLevelId)){var N={class_id:427,reference_id:u,school_code:O.id,username:m,first_name:j,last_name:b,password:h};us.a.post("https://api.godspark.world/v1/student/create",N,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){T(e)}),(function(e){}))}};return Object(a.useEffect)((function(){k(),C()}),[]),Object(E.jsx)("div",{children:null===t||void 0===t?void 0:t.filter((function(e){var t;return""==n||(null===e||void 0===e||null===(t=e.interactive)||void 0===t?void 0:t.interactiveName.toLowerCase().includes(n.toLowerCase()))?e:void 0})).map((function(e){var t,n,a,i,o,l,u,d,j,b,m,h,f,p,x,v,k,C,T,A,I,D,L,M,F,B,H,P,z,Y,R,q;return Object(E.jsx)(E.Fragment,{children:!0===(null===e||void 0===e?void 0:e.isScheduled)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.interactive)||void 0===t?void 0:t.interactiveName})}),!0===e.isLoggedUserDone?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:50005===e.module.courseId?Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:y,children:Object(E.jsxs)("button",{onClick:function(t){var n;S(null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path)},className:"btn btn-xs btn-green",children:[null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.interactiveName," Start",O.id]})}):Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:y,children:Object(E.jsx)(ue.a,{onClick:function(t){var n,a,s;return N(t,null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path,null===g||void 0===g||null===(a=g.student)||void 0===a?void 0:a.id,null===e||void 0===e||null===(s=e.interactive)||void 0===s?void 0:s.id,w)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-play"})})})})}):Object(E.jsxs)(E.Fragment,{children:[ge()(c+" "+r,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(a=e.classInteractiveAssignment)||void 0===a?void 0:a.startDate)+" "+(null===e||void 0===e||null===(i=e.classInteractiveAssignment)||void 0===i?void 0:i.startTime),"YYYY-MM-DD HH:mm"))&&ge()(c+" "+r,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(o=e.classInteractiveAssignment)||void 0===o?void 0:o.endDate)+" "+(null===e||void 0===e||null===(l=e.classInteractiveAssignment)||void 0===l?void 0:l.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:y,children:"God's Park"===(null===s||void 0===s||null===(u=s.classInformation)||void 0===u?void 0:u.courseName)||"God's Park 1"===(null===s||void 0===s||null===(d=s.classInformation)||void 0===d?void 0:d.courseName)||"God's Park 2"===(null===s||void 0===s||null===(j=s.classInformation)||void 0===j?void 0:j.courseName)||"God's Park 3"===(null===s||void 0===s||null===(b=s.classInformation)||void 0===b?void 0:b.courseName)||"God's Park 4"===(null===s||void 0===s||null===(m=s.classInformation)||void 0===m?void 0:m.courseName)||"God's Park 5"===(null===s||void 0===s||null===(h=s.classInformation)||void 0===h?void 0:h.courseName)||"God's Park 6"===(null===s||void 0===s||null===(f=s.classInformation)||void 0===f?void 0:f.courseName)?Object(E.jsx)(ue.a,{onClick:function(t){var n;return S(null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-play"})}):Object(E.jsx)(ue.a,{onClick:function(t){var n,a,s;return N(t,null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path,null===g||void 0===g||null===(a=g.student)||void 0===a?void 0:a.id,null===e||void 0===e||null===(s=e.interactive)||void 0===s?void 0:s.id,w)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-play"})})})}),ge()(c+" "+r,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(p=e.classInteractiveAssignment)||void 0===p?void 0:p.endDate)+" "+(null===e||void 0===e||null===(x=e.classInteractiveAssignment)||void 0===x?void 0:x.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:y,children:"God's Park"===(null===s||void 0===s||null===(v=s.classInformation)||void 0===v?void 0:v.courseName)||"God's Park 1"===(null===s||void 0===s||null===(k=s.classInformation)||void 0===k?void 0:k.courseName)||"God's Park 2"===(null===s||void 0===s||null===(C=s.classInformation)||void 0===C?void 0:C.courseName)||"God's Park 3"===(null===s||void 0===s||null===(T=s.classInformation)||void 0===T?void 0:T.courseName)||"God's Park 4"===(null===s||void 0===s||null===(A=s.classInformation)||void 0===A?void 0:A.courseName)||"God's Park 5"===(null===s||void 0===s||null===(I=s.classInformation)||void 0===I?void 0:I.courseName)||"God's Park 6"===(null===s||void 0===s||null===(D=s.classInformation)||void 0===D?void 0:D.courseName)?Object(E.jsx)(ue.a,{onClick:function(t){var n;return S(null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-play"})}):Object(E.jsx)(ue.a,{onClick:function(t){var n,a,s;return N(t,null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path,null===g||void 0===g||null===(a=g.student)||void 0===a?void 0:a.id,null===e||void 0===e||null===(s=e.interactive)||void 0===s?void 0:s.id,w)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-play"})})})})]}),ge()(c+" "+r,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(L=e.classInteractiveAssignment)||void 0===L?void 0:L.startDate)+" "+(null===e||void 0===e||null===(M=e.classInteractiveAssignment)||void 0===M?void 0:M.startTime),"YYYY-MM-DD HH:mm"))&&ge()(c+" "+r,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(F=e.classInteractiveAssignment)||void 0===F?void 0:F.endDate)+" "+(null===e||void 0===e||null===(B=e.classInteractiveAssignment)||void 0===B?void 0:B.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(c+" "+r,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(H=e.classInteractiveAssignment)||void 0===H?void 0:H.endDate)+" "+(null===e||void 0===e||null===(P=e.classInteractiveAssignment)||void 0===P?void 0:P.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)("div",{style:{color:"#EE9337",fontSize:"15px"},children:[Object(E.jsx)("b",{children:"Ended"}),"\xa0"]}),Object(E.jsx)(ce.a,{sm:6,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(z=e.classInteractiveAssignment)||void 0===z?void 0:z.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(Y=e.classInteractiveAssignment)||void 0===Y?void 0:Y.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(R=e.classInteractiveAssignment)||void 0===R?void 0:R.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(q=e.classInteractiveAssignment)||void 0===q?void 0:q.endTime})]})})]}),Object(E.jsx)("hr",{})]}):Object(E.jsx)(E.Fragment,{})})}))})};var js=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(),A=Object(H.a)(T,2),L=A[0],M=A[1],P=Object(B.useParams)().id,Y=ge()().format("YYYY-MM-DD"),R=ge()().format("HH:mm"),q=Object(a.useContext)(D).data.user,G=Object(a.useState)(""),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)({}),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(""),X=Object(H.a)(K,2),$=X[0],te=X[1],ie=Object(a.useState)(""),oe=Object(H.a)(ie,2),le=oe[0],de=oe[1],je=Object(a.useState)(""),be=Object(H.a)(je,2),me=(be[0],be[1]),he=q.subsType,Oe=Object(a.useState)(!1),fe=Object(H.a)(Oe,2),pe=fe[0],xe=fe[1],ve=Object(a.useState)(""),we=Object(H.a)(ve,2),Ne=(we[0],we[1],Object(a.useState)({})),ye=Object(H.a)(Ne,2),ke=ye[0],Ce=ye[1],Se=Object(a.useState)({}),Te=Object(H.a)(Se,2),Ae=Te[0],Ie=Te[1],Ee=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(!0),e.next=3,(new Vn).getClassInfo(P);case 3:(t=e.sent).ok?(xe(!1),Be(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),W(t.data)):I.b.error("Something went wrong while fetching all interactives"),xe(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getAccountInfo(q.userId);case 2:(t=e.sent).ok?te(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getSchoolCode();case 2:(t=e.sent).ok?(de(t.data),console.log("Haru",t.data)):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(e,t){S(t),N(!w)},Fe=function(e,t){M(t),x(!p)},Be=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?s(n.data):alert("error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("interactive:",b);var He=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getInteractive(P,n);case 2:(a=e.sent).ok?(h(a.data),u(n)):alert("Error");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==i)return He();"Ebooks"==he&&(window.location.href="/classes")}),[]),Object(a.useEffect)((function(){Ee(),De(),Le(),Ye(),Re()}),[]);var Pe=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Reassign"}))},ze=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assign"}))},Ye=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).teacherMiranda();case 2:(t=e.sent).ok&&(Ce(t.data),console.log(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).studentMiranda();case 2:(t=e.sent).ok&&Ie(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://irai2.com/mir2021.1.2/?"+t+","+n+","+a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://irai2.com/mir2021.1.2/?"+t+","+n+":"+a+","+s);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),Ue=(/:\/\/([^\/]+)/.exec(window.location.href)[1],window.location.pathname,!!window.location.host.split(".")[1]&&window.location.host.split(".")[0],function(e){var t,n,a=q.userId,s=(null===q||void 0===q||null===(t=q.student)||void 0===t||t.fname,null===q||void 0===q||null===(n=q.student)||void 0===n||n.lname,$.username,$.password,{reference_id:a,school_code:le.id});us.a.post("https://api.godspark.world/v1/student/generate-token",s,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){me(t.data.Token),function(e,t){var n,a,s,c,r,i,o,l,u=q.userId;if(null===q||void 0===q||null===(n=q.student)||void 0===n||n.fname,null===q||void 0===q||null===(a=q.student)||void 0===a||a.lname,$.username,$.password,1===(null===Z||void 0===Z||null===(s=Z.classInformation)||void 0===s?void 0:s.gradeLevelId)){var d={reference_id:u,school_code:le.id,class_id:417};us.a.post("https://api.godspark.world/v1/student/update-class",d,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(2===(null===Z||void 0===Z||null===(c=Z.classInformation)||void 0===c?void 0:c.gradeLevelId)){var j={reference_id:u,school_code:le.id,class_id:418};us.a.post("https://api.godspark.world/v1/student/update-class",j,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(3===(null===Z||void 0===Z||null===(r=Z.classInformation)||void 0===r?void 0:r.gradeLevelId)){var b={reference_id:u,school_code:le.id,class_id:419};us.a.post("https://api.godspark.world/v1/student/update-class",b,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(4===(null===Z||void 0===Z||null===(i=Z.classInformation)||void 0===i?void 0:i.gradeLevelId)){var m={reference_id:u,school_code:le.id,class_id:425};us.a.post("https://api.godspark.world/v1/student/update-class",m,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(5===(null===Z||void 0===Z||null===(o=Z.classInformation)||void 0===o?void 0:o.gradeLevelId)){var h={reference_id:u,school_code:le.id,class_id:426};us.a.post("https://api.godspark.world/v1/student/update-class",h,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}else if(6===(null===Z||void 0===Z||null===(l=Z.classInformation)||void 0===l?void 0:l.gradeLevelId)){var O={reference_id:u,school_code:le.id,class_id:427};us.a.post("https://api.godspark.world/v1/student/update-class",O,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ",token:e},responseType:"json"}).then((function(n){window.open(t+"?e="+e)}),(function(e){}))}}(t.data.Token,e)}),(function(e){}))}),Ve=function(e){var t,n,a,s,c,r,i,o,l=q.userId,u=null===q||void 0===q||null===(t=q.student)||void 0===t?void 0:t.fname,d=null===q||void 0===q||null===(n=q.student)||void 0===n?void 0:n.lname,j=$.username,b=$.password;if(1===(null===Z||void 0===Z||null===(a=Z.classInformation)||void 0===a?void 0:a.gradeLevelId)){var m={class_id:417,reference_id:l,school_code:le.id,username:j,first_name:"Haru",last_name:"Gab",password:b};us.a.post("https://api.godspark.world/v1/student/create",m,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){Ue(e)}),(function(e){}))}else if(2===(null===Z||void 0===Z||null===(s=Z.classInformation)||void 0===s?void 0:s.gradeLevelId)){var h={class_id:418,reference_id:l,school_code:le.id,username:j,first_name:u,last_name:d,password:b};us.a.post("https://api.godspark.world/v1/student/create",h,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){Ue(e)}),(function(e){}))}else if(3===(null===Z||void 0===Z||null===(c=Z.classInformation)||void 0===c?void 0:c.gradeLevelId)){var O={class_id:419,reference_id:l,school_code:le.id,username:j,first_name:u,last_name:d,password:b};us.a.post("https://api.godspark.world/v1/student/create",O,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){Ue(e)}),(function(e){}))}else if(4===(null===Z||void 0===Z||null===(r=Z.classInformation)||void 0===r?void 0:r.gradeLevelId)){var f={class_id:425,reference_id:l,school_code:le.id,username:j,first_name:u,last_name:d,password:b};us.a.post("https://api.godspark.world/v1/student/create",f,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){Ue(e)}),(function(e){}))}else if(5===(null===Z||void 0===Z||null===(i=Z.classInformation)||void 0===i?void 0:i.gradeLevelId)){var p={class_id:426,reference_id:l,school_code:le.id,username:j,first_name:u,last_name:d,password:b};us.a.post("https://api.godspark.world/v1/student/create",p,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){Ue(e)}),(function(e){}))}else if(6===(null===Z||void 0===Z||null===(o=Z.classInformation)||void 0===o?void 0:o.gradeLevelId)){var x={class_id:427,reference_id:l,school_code:le.id,username:j,first_name:u,last_name:d,password:b};us.a.post("https://api.godspark.world/v1/student/create",x,{headers:{"Content-Type":"application/json","X-Authorization":"vap2ndiRKVQpvyU2ZjCapJrWCNwG1kumJHVabijLrh5B4pM4taTvIigZJYZ61WlJ"},responseType:"json"}).then((function(t){Ue(e)}),(function(e){}))}};return Object(E.jsxs)(_n,{children:[pe&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)(rs,{onSearch:function(e){_(e)},onRefresh:function(){return Ee(),De(),void Le()}}),Object(E.jsx)(ae.a,{className:"calendar kb-0px",style:{backgroundColor:"white",padding:5},children:(null===q||void 0===q?void 0:q.teacher)?Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){qe(ke.connectionCode,ke.username,ke.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator T"]}):Object(E.jsxs)(F.b,{to:"#",className:"profile-dropdown-link",onClick:function(){Ge(Ae.connectionCode,Ae.roomNumber,Ae.username,Ae.password)},children:[Object(E.jsx)("i",{class:"fas fa-tv"})," Robotics Simulator S"]})}),Object(E.jsx)(Je.a,{children:n.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return He(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:null===(null===q||void 0===q?void 0:q.teacher)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ds,{searchTerm:V,interactive:b,classInfo:Z})}):Object(E.jsx)(E.Fragment,{children:null===b||void 0===b?void 0:b.filter((function(e){var t;return""==V||(null===e||void 0===e||null===(t=e.interactive)||void 0===t?void 0:t.interactiveName.toLowerCase().includes(V.toLocaleLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,f,p,x,v,g,w,N,y;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:"God's Park"===(null===Z||void 0===Z||null===(t=Z.classInformation)||void 0===t?void 0:t.courseName)||"God's Park 1"===(null===Z||void 0===Z||null===(n=Z.classInformation)||void 0===n?void 0:n.courseName)||"God's Park 2"===(null===Z||void 0===Z||null===(a=Z.classInformation)||void 0===a?void 0:a.courseName)||"God's Park 3"===(null===Z||void 0===Z||null===(s=Z.classInformation)||void 0===s?void 0:s.courseName)||"God's Park 4"===(null===Z||void 0===Z||null===(c=Z.classInformation)||void 0===c?void 0:c.courseName)||"God's Park 5"===(null===Z||void 0===Z||null===(r=Z.classInformation)||void 0===r?void 0:r.courseName)||"God's Park 6"===(null===Z||void 0===Z||null===(i=Z.classInformation)||void 0===i?void 0:i.courseName)?Object(E.jsxs)("button",{onClick:function(t){var n,a;a=null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.path,Ve(a)},className:"btn btn-xs btn-green",children:[null===e||void 0===e||null===(o=e.interactive)||void 0===o?void 0:o.interactiveName," Start",le.id]}):Object(E.jsx)("a",{target:"_blank",className:"class-links",href:null===e||void 0===e||null===(l=e.interactive)||void 0===l?void 0:l.path,children:null===e||void 0===e||null===(u=e.interactive)||void 0===u?void 0:u.interactiveName})})}),Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:(null===e||void 0===e?void 0:e.classInteractiveAssignment)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Pe,children:Object(E.jsx)(ue.a,{onClick:function(t){return Me(0,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:ze,children:Object(E.jsx)(ue.a,{onClick:function(t){var n;return Fe(0,null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})})}),(null===e||void 0===e?void 0:e.classInteractiveAssignment)?Object(E.jsxs)(E.Fragment,{children:[ge()(Y+" "+R,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(d=e.classInteractiveAssignment)||void 0===d?void 0:d.startDate)+" "+(null===e||void 0===e||null===(j=e.classInteractiveAssignment)||void 0===j?void 0:j.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(Y+" "+R,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(b=e.classInteractiveAssignment)||void 0===b?void 0:b.endDate)+" "+(null===e||void 0===e||null===(m=e.classInteractiveAssignment)||void 0===m?void 0:m.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended"})}),ge()(Y+" "+R,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(h=e.classInteractiveAssignment)||void 0===h?void 0:h.startDate)+" "+(null===e||void 0===e||null===(O=e.classInteractiveAssignment)||void 0===O?void 0:O.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(Y+" "+R,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(f=e.classInteractiveAssignment)||void 0===f?void 0:f.startDate)+" "+(null===e||void 0===e||null===(p=e.classInteractiveAssignment)||void 0===p?void 0:p.startTime),"YYYY-MM-DD HH:mm"))&&ge()(Y+" "+R,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(x=e.classInteractiveAssignment)||void 0===x?void 0:x.endDate)+" "+(null===e||void 0===e||null===(v=e.classInteractiveAssignment)||void 0===v?void 0:v.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(g=e.classInteractiveAssignment)||void 0===g?void 0:g.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(w=e.classInteractiveAssignment)||void 0===w?void 0:w.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(N=e.classInteractiveAssignment)||void 0===N?void 0:N.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(y=e.classInteractiveAssignment)||void 0===y?void 0:y.endTime})]})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})]})}))})})]})}))}),Object(E.jsx)(is,{moduleId:i,getIndteractive:He,interactiveId:L,assignInteractiveToggle:Fe,assignInteractiveModal:p}),Object(E.jsx)(os,{getIndteractive:He,editAssignInteractiveItem:C,editAssignIteractiveToggle:Me,editAssignInteractiveModal:w})]})};var bs=function(e){var t=e.studentInformation;return Object(E.jsx)("div",{children:Object(E.jsxs)(Je.a,{children:[Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",children:Object(E.jsx)("i",{class:"fas fa-file-alt",style:{color:"#EE9337",fontSize:"24px"}})}),Object(E.jsx)(ce.a,{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsx)("p",{children:"Exam"})})]})}),Object(E.jsx)(Je.a.Body,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:11,children:Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsxs)("p",{children:[Object(E.jsx)("b",{children:"Total Done Exam"})," "]})})})}),Object(E.jsx)(ce.a,{sm:1,children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:Object(E.jsx)("p",{children:Object(E.jsxs)("b",{children:[null===t||void 0===t?void 0:t.noOfTotalDoneTests,"/",null===t||void 0===t?void 0:t.noOfTotalAssignedTests]})})})})]})})]}),Object(E.jsxs)(Je.a.Item,{eventKey:"1",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",children:Object(E.jsx)("i",{class:"fas fa-file-alt",style:{color:"#EE9337",fontSize:"24px"}})}),Object(E.jsx)(ce.a,{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsx)("p",{children:"Assignment"})})]})}),Object(E.jsx)(Je.a.Body,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:11,children:Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsxs)("p",{children:[Object(E.jsx)("b",{children:"Total Done Assignment"})," "]})})})}),Object(E.jsx)(ce.a,{sm:1,children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:Object(E.jsx)("p",{children:Object(E.jsxs)("b",{children:[null===t||void 0===t?void 0:t.noOfTotalDoneAssignments,"/",null===t||void 0===t?void 0:t.noOfTotalAssignedAssignments]})})})})]})})]}),Object(E.jsxs)(Je.a.Item,{eventKey:"2",children:[Object(E.jsxs)(Je.a.Header,{children:["      ",Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",children:Object(E.jsx)("i",{class:"fas fa-file-alt",style:{color:"#EE9337",fontSize:"24px"}})}),Object(E.jsx)(ce.a,{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsx)("p",{children:"Task"})})]})," "]}),Object(E.jsx)(Je.a.Body,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:11,children:Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsxs)("p",{children:[Object(E.jsx)("b",{children:"Total Done Task"})," "]})})})}),Object(E.jsx)(ce.a,{sm:1,children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:Object(E.jsx)("p",{children:Object(E.jsxs)("b",{children:[null===t||void 0===t?void 0:t.noOfTotalDoneTasks,"/",null===t||void 0===t?void 0:t.noOfTotalAssignedTasks]})})})})]})})]}),Object(E.jsxs)(Je.a.Item,{eventKey:"3",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",children:Object(E.jsx)("i",{class:"fas fa-file-alt",style:{color:"#EE9337",fontSize:"24px"}})}),Object(E.jsx)(ce.a,{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsx)("p",{children:"Interactive"})})]})}),Object(E.jsx)(Je.a.Body,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:11,children:Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)("div",{style:{fontSize:"20px",color:"#EE9337"},children:Object(E.jsxs)("p",{children:[Object(E.jsx)("b",{children:"Total Done Interactive"})," "]})})})}),Object(E.jsx)(ce.a,{sm:1,children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:Object(E.jsx)("p",{children:Object(E.jsxs)("b",{children:[null===t||void 0===t?void 0:t.noOfTotalDoneInteractives,"/",null===t||void 0===t?void 0:t.noOfTotalAssignedInteractives]})})})})]})})]})]})})};var ms=function(e){var t,n,a,s,c,r,i,o,l=e.studentInformation;return console.log("studentinfo:",l),Object(E.jsx)("div",{style:{margin:"30px"},children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:8,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"First Name"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(t=l.student)||void 0===t?void 0:t.fname})})]}),Object(E.jsxs)(ce.a,{sm:4,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Last Name"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(n=l.student)||void 0===n?void 0:n.lname})})]}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Student Number"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(a=l.student)||void 0===a?void 0:a.studentNo})})]}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Address"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(s=l.student)||void 0===s?void 0:s.permanentAddress})})]}),Object(E.jsxs)(ce.a,{sm:11,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Contact Number"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(c=l.student)||void 0===c?void 0:c.contactNo})})]}),Object(E.jsxs)(ce.a,{sm:11,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Birthday"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:ge()(null===l||void 0===l||null===(r=l.student)||void 0===r?void 0:r.bday).format("LL")})})]}),Object(E.jsxs)(ce.a,{sm:11,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Gender"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(i=l.student)||void 0===i?void 0:i.sex})})]}),Object(E.jsxs)(ce.a,{children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"E-mail Address"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===l||void 0===l||null===(o=l.student)||void 0===o?void 0:o.emailAdd})})]})]})})};var hs=function(e){var t,n=e.studentInformation;return Object(E.jsx)("div",{children:null===n||void 0===n||null===(t=n.classStatus)||void 0===t?void 0:t.map((function(e){var t,n,a,s,c;return Object(E.jsx)(ae.a,{className:"post-card",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"40px",paddingLeft:"20px",paddingTop:"25px"},children:Object(E.jsx)("i",{class:"fas fa-chalkboard-teacher"})}),Object(E.jsxs)("div",{style:{paddingLeft:"17px"},children:[Object(E.jsx)("div",{style:{paddingTop:"10px",fontSize:"20px"},children:null===e||void 0===e||null===(t=e.classInfo)||void 0===t?void 0:t.classCode}),Object(E.jsxs)("div",{style:{fontSize:"20px",color:"#EE9337"},children:[null===e||void 0===e||null===(n=e.classInfo)||void 0===n?void 0:n.gradeName," - ",null===e||void 0===e||null===(a=e.classInfo)||void 0===a?void 0:a.className]}),Object(E.jsx)("div",{style:{fontSize:"17px",color:"#BCBCBC"},children:null===e||void 0===e||null===(s=e.classInfo)||void 0===s?void 0:s.courseName})]})]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("div",{style:{paddingTop:"45px",color:"#707070",fontSize:"17px"},children:Object(E.jsx)("b",{children:null===e||void 0===e||null===(c=e.classInfo)||void 0===c?void 0:c.teacherName})})})]})})}))})};var Os=function(e){var t,n,s=e.openPortfolioModal,c=e.setOpenPortfolioModal,r=e.studentInformation,i=e.classInfo,o=Object(a.useState)(!0),l=Object(H.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1];return console.log("studentClasses:",r),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsxs)("div",{className:"portfolio-profile",children:[Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"}),Object(E.jsx)("br",{})]}),Object(E.jsx)("div",{className:"portfolio-name",children:Object(E.jsx)("p",{children:Object(E.jsxs)("b",{children:[null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.fname," ",null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.lname]})})}),Object(E.jsxs)("p",{style:{fontSize:"24px",textAlign:"center",color:"#EE9337",fontFamily:"Segou UI"},children:[null===i||void 0===i?void 0:i.gradeName," - ",null===i||void 0===i?void 0:i.className]}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{style:{textAlign:"center",paddingBottom:"20px"},children:[Object(E.jsx)(ue.a,{onClick:function(){return d(!0),h(!1),void x(!1)},className:"btn-portfolio",size:"lg",variant:"outline-warning",children:"Activities"}),Object(E.jsx)(ue.a,{onClick:function(){return h(!0),d(!1),void x(!1)},className:"btn-portfolio",size:"lg",variant:"outline-warning",children:"General Information"}),Object(E.jsx)(ue.a,{onClick:function(){return x(!0),h(!1),void d(!1)},className:"btn-portfolio",size:"lg",variant:"outline-warning",children:"Classes"})]}),!1===u?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(bs,{studentInformation:r}),!1===m?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(ms,{studentInformation:r}),!1===p?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(hs,{studentInformation:r})]})})]})})};var fs=function(e){var t=e.enrolledStudent,n=e.getStudentEnrolled,s=e.getStudentWaiting,c=e.searchTerm,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(""),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(B.useParams)().id,w=Object(a.useState)(t.students),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(),S=Object(H.a)(C,2),T=(S[0],S[1]),A=Object(a.useState)(),L=Object(H.a)(A,2),M=L[0],F=L[1],P=Object(a.useState)(),Y=Object(H.a)(P,2),R=(Y[0],Y[1],Object(a.useState)([])),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(!0),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useContext)(D).data.themeColor,W=function(e,t,n){T(e),F(t),K(n),v(!0)},K=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g,e.next=3,(new z).getStudentInformation(t,n);case 3:(a=e.sent).ok?U(a.data):I.b.error("Something went wrong while fetching all Activeties");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("enrolledStudent:",t),console.log("studentActivities:",G);var X=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,!1,e.next=4,(new z).acceptStudent(g,false,[a]);case 4:e.sent.ok?(d(!1),n(),s(),I.b.success("Successfully removed student.")):I.b.error("Something went wrong while fetching all Add Student");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))};Object(a.useEffect)((function(){te(),ee()}),[t]);var ee=function(){var e=null===t||void 0===t?void 0:t.students,n=null===e||void 0===e?void 0:e.sort((function(e,t){if(e.fname.toLocaleLowerCase()<t.fname.toLocaleLowerCase())return-1}));console.log(n,"herererere"),k(n)},te=function(){var e=null===t||void 0===t?void 0:t.students,n=null===e||void 0===e?void 0:e.sort((function(e,t){if(e.fname.toLocaleLowerCase()>t.fname.toLocaleLowerCase())return-1}));console.log(n,"herererere"),k(n)};return Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:u,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return X(h)},onCancel:function(){d(!1)},focusCancelBtn:!0}),Object(E.jsxs)(He.a,{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"class-enrolled-header",children:[" Student"," "," ",Object(E.jsx)("i",{onClick:function(){return Q(!J),void(J?te():ee())},className:"".concat(J?"fas fa-sort-alpha-up":"fas fa-sort-alpha-down"," td-file-page")})]})}),Object(E.jsx)("th",{children:Object(E.jsx)("div",{className:"class-enrolled-header",children:" Email Address"})})]})}),Object(E.jsx)("tbody",{children:null===y||void 0===y?void 0:y.filter((function(e){return""==c||e.lname.toLowerCase().includes(c.toLowerCase())?e:void 0})).map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsxs)("div",{className:"class-waiting-list",style:{fontSize:"24px",color:"#707070",marginLeft:"25px"},children:[Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x",style:{color:Z,fontSize:"36px"}}),"\xa0",Object(E.jsxs)(ue.a,{className:"btn-student-portfolio",onClick:function(){return W(e,null===t||void 0===t?void 0:t.classInformation,e.id)},variant:"link",children:[e.fname," ",e.lname]})]})}),Object(E.jsx)("td",{children:null===(null===e||void 0===e?void 0:e.emailAdd)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("p",{style:{color:"#707070"},children:"No Email address"})}):Object(E.jsxs)(E.Fragment,{children:[" ",Object(E.jsx)("p",{style:{color:"#707070"},children:null===e||void 0===e?void 0:e.emailAdd})]})}),Object(E.jsx)("td",{className:"class-waiting-icon",children:Object(E.jsx)("div",{style:{marginRight:"35px"},children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:$,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){d(!0),O(e)}(e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})]})})})})]})}))})]}),Object(E.jsx)(Os,{setOpenPortfolioModal:v,classInfo:M,studentInformation:G,openPortfolioModal:x,openPortfolioToggle:W})]})};var ps=function(e){var t=e.waitingStudent,n=e.getStudentEnrolled,s=e.getStudentWaiting,c=e.searchTerm,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=(i[0],i[1],Object(a.useState)(!1)),d=Object(H.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(t.students),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(B.useParams)().id,y=Object(a.useState)(!0),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useContext)(D).data,A=T.user,L=T.themeColor,M=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("this studentId",a),c=a,!0,e.next=5,(new z).acceptStudent(N,true,[c]);case 5:e.sent.ok?(I.b.success("Successfully added student."),n(),s()):I.b.error("Something went wrong while fetching all Add Student");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).removeStudentWaitingList(N,[t]);case 2:e.sent.ok?(b(!1),n(),s(),I.b.success("Successfully removed student.")):I.b.error("Something went wrong while fetching Remove Student from Pending List");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))},Y=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Add"}))};Object(a.useEffect)((function(){q(),R()}),[t]);var R=function(){var e=null===t||void 0===t?void 0:t.students,n=null===e||void 0===e?void 0:e.sort((function(e,t){if(e.fname.toLocaleLowerCase()<t.fname.toLocaleLowerCase())return-1}));console.log(n,"herererere"),p(n)},q=function(){var e=null===t||void 0===t?void 0:t.students,n=null===e||void 0===e?void 0:e.sort((function(e,t){if(e.fname.toLocaleLowerCase()>t.fname.toLocaleLowerCase())return-1}));console.log(n,"herererere"),p(n)};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(He.a,{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:Object(E.jsxs)("div",{className:"class-waiting-header",children:[" Student"," "," ",Object(E.jsx)("i",{onClick:function(){return S(!C),void(C?q():R())},className:"".concat(C?"fas fa-sort-alpha-up":"fas fa-sort-alpha-down"," td-file-page")})]})}),Object(E.jsx)("th",{children:Object(E.jsx)("div",{className:"class-waiting-header",children:" Email Address"})})]})}),Object(E.jsx)("tbody",{children:null===f||void 0===f?void 0:f.filter((function(e){return""==c||e.lname.toLowerCase().includes(c.toLowerCase())?e:void 0})).map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsxs)("div",{className:"class-waiting-list",style:{fontSize:"24px",color:"#707070",marginLeft:"25px"},children:[Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x",style:{color:L,fontSize:"36px"}}),"\xa0",Object(E.jsxs)(ue.a,{className:"btn-student-portfolio",variant:"link",children:[e.fname," ",e.lname]})]})}),Object(E.jsx)("td",{children:null===(null===e||void 0===e?void 0:e.emailAdd)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("p",{style:{color:"#707070"},children:"No Email address"})}):Object(E.jsxs)(E.Fragment,{children:[" ",Object(E.jsx)("p",{style:{color:"#707070"},children:null===e||void 0===e?void 0:e.emailAdd})]})}),Object(E.jsx)("td",{className:"class-waiting-icon",children:Object(E.jsxs)("div",{style:{marginRight:"35px"},className:A.isSchollAdmin?"d-none":"",children:[Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:Y,children:Object(E.jsxs)(ue.a,{onClick:function(t){return M(t,e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-user-plus"})," "]})}),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:P,children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){b(!0),w(e)}(e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[" ",Object(E.jsx)("i",{class:"fas fa-trash-alt"})]})})]})})]})}))})]}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:j,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return F(g)},onCancel:function(){b(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"})]})};var xs=function(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([{}]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(B.useParams)().id,O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)({}),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=A[1],F=(Object(a.useContext)(D).data.user.subsType,function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),!1,e.next=4,(new z).getStudentList(h,false);case 4:(t=e.sent).ok?(u(t.data),M(!1)):(I.b.error("Something went wrong while fetching all Waiting Student"),M(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){F()}),[]);var P=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),!0,e.next=4,(new z).getStudentEnrolledList(h,true);case 4:(t=e.sent).ok?(m(t.data),M(!1)):(I.b.error("Something went wrong while fetching all errolled Student"),M(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P()}),[]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!1),M(!0),e.next=5,(new z).uploadClassList(C);case 5:e.sent.ok?(M(!1),P(),I.b.success("Successfully uploaded the class list.")):(M(!1),I.b.error("No file chosen."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};return Object(E.jsxs)(_n,{children:[L&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)(se.a,{style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"col-md-12 pages-header fd-row ai-c",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Class List "}),Object(E.jsx)("div",{className:"mb-0",children:Object(E.jsx)(ue.a,{onClick:function(){P(),F()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),Object(E.jsxs)(ce.a,{style:{textAlign:"right"},children:[Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(e){e.preventDefault(),s(!1)},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Enrolled"})}),Object(E.jsx)(ue.a,{className:"btn-Enrolled ph-3",onClick:function(e){e.preventDefault(),s(!0)},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Waiting List"})}),Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(){return N(!0)},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Upload List"})})]})]})}),Object(E.jsx)("div",{className:"row m-b-20",style:{marginTop:"30px"},children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return t=e.target.value,void x(t);var t},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search Student Last Name Here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),!1===n?Object(E.jsx)(fs,{searchTerm:p,getStudentWaiting:F,getStudentEnrolled:P,enrolledStudent:b}):Object(E.jsx)(ps,{searchTerm:p,getStudentEnrolled:P,getStudentWaiting:F,waitingStudent:i}),Object(E.jsxs)(be.a,{size:"lg",show:w,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Class List"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return Y(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,",onChange:function(e){return t=e.target.files[0],void R(t).then((function(e){console.log(t.name);var n={classId:h,data:{base64String:e,fileName:t.name}};S(n)}));var t}})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]})]})};var vs=function(e){var t,n,s=Object(a.useState)(!1),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)({}),d=Object(H.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(!1),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)({}),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1],z=Object(a.useState)(""),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)(""),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(""),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(!1),X=Object(H.a)(K,2),$=X[0],ee=X[1],te=Object(a.useState)(!1),ae=Object(H.a)(te,2),se=ae[0],ce=ae[1],ie=Object(a.useState)(!0),le=Object(H.a)(ie,2),je=le[0],he=le[1],fe=window.location.pathname.includes(e.type.toLowerCase()),pe=Object(a.useContext)(D).data.user,xe=sessionStorage.getItem("courseid"),ve=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(xe);case 2:(t=e.sent).ok?(P(t.data),t.data.isTechfactors&&he(7==(null===pe||void 0===pe?void 0:pe.teacher.positionID))):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&ve()}),[]),console.log("courseInfo:",B);var ge=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ce(!1),n={folderName:R,newFolderName:V,subFolderLocation:"".concat(e.subFolder)},t.next=4,(new Ct).updateFolderName(e.id,e.type,n);case 4:(a=t.sent).ok?(e.deleted(),I.b.success("Successfully renamed folder.")):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),we=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={subFolderLocation:"".concat(e.subFolder,"/").concat(Z)},t.next=3,(new Ct).deleteFolder(e.id,e.type,n);case 3:(a=t.sent).ok?(e.deleted(),I.b.success("Successfully deleted folder.")):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage),ee(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ne=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Delete"}))},ye=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))},ke=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Download"}))},Ce=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},Se=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Class"==e.type&&Te(),"Course"==e.type&&Ae();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Te=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fileName:j.name,subFolderLocation:e.subFolder},t.next=3,(new Ct).deleteClassFile(e.id,n);case 3:(a=t.sent).ok?(i(!1),e.deleted(),I.b.success("File deleted successfully")):(i(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ae=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={fileName:j.name,subFolderLocation:e.subFolder},t.next=3,(new Ct).deleteCourseFile(e.id,n);case 3:(a=t.sent).ok?(i(!1),e.deleted(),I.b.success("File deleted successfully")):(i(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ie=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==k){t.next=9;break}return n=k.includes(A)?k:k+A,a={newFileName:n,oldFileName:g.name,subFolderLocation:e.subFolder},t.next=5,(new Ct).editCourseFile(e.id,a);case 5:(s=t.sent).ok?(p(!1),e.deleted(),I.b.success("Filename updated successfully"),C("")):(p(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage.replace("distributor","contributor"))),t.next=10;break;case 9:I.b.error("Please enter filename.");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ee=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==k){t.next=9;break}return n=k.includes(A)?k:k+A,a={newFileName:n,oldFileName:g.name,subFolderLocation:e.subFolder},t.next=5,(new Ct).editClassFile(e.id,a);case 5:(s=t.sent).ok?(p(!1),e.deleted(),I.b.success("Filename updated successfully"),C("")):(p(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage.replace("distributor","contributor"))),t.next=10;break;case 9:I.b.error("Please enter filename.");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  ",je&&pe.isTeacher&&fe?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("th",{children:"Actions"})}):null]})}),Object(E.jsxs)("tbody",{children:[null===(t=e.data)||void 0===t?void 0:t.filter((function(t){var n;return t.name.toLowerCase().includes(null===(n=e.filter)||void 0===n?void 0:n.toLowerCase())})).map((function(e,t){var n,a,s,c;return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"ellipsis w-75 file-name font-size-22",children:e.name}),je&&pe.isTeacher&&fe?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("td",{style:{paddingRight:"15px"},children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:(null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?ye:ke,children:Object(E.jsx)("a",{href:e.pathBase,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"".concat((null===(a=e.pathBase)||void 0===a?void 0:a.match(/.(jpg|jpeg|png|gif|pdf)$/i))?"fa-eye":"fa-arrow-down"," fas td-file-page")})})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:Ce,children:Object(E.jsx)("i",{className:pe.isSchoolAdmin?"d-none":"fas fas fa-edit td-file-page",onClick:function(){return function(e){var t=e.name.split(".").pop(),n=e.name.replace(".".concat(t),"");L(".".concat(t)),p(!0),w(e),C(n)}(e)}})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:Ne,children:Object(E.jsx)("a",{children:Object(E.jsx)("i",{className:pe.isSchoolAdmin?"d-none":"fas fa-trash-alt td-file-page",onClick:function(){return t=e,i(!0),void b(t);var t}})})})]})}):Object(E.jsx)("td",{style:{paddingRight:"15px"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:(null===(s=e.pathBase)||void 0===s?void 0:s.match(/.(jpg|jpeg|png|gif|pdf)$/i))?ye:ke,children:Object(E.jsx)("a",{href:e.pathBase,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"".concat((null===(c=e.pathBase)||void 0===c?void 0:c.match(/.(jpg|jpeg|png|gif|pdf)$/i))?"fa-eye":"fa-arrow-down"," fas td-file-page")})})})})]},t+e.name)})),null===(n=e.folders)||void 0===n?void 0:n.filter((function(t){var n;return t.name.toLowerCase().includes(null===(n=e.filter)||void 0===n?void 0:n.toLowerCase())})).map((function(t,n){return Object(E.jsxs)("tr",{children:[Object(E.jsxs)("td",{className:"ellipsis w-75 colored-class font-size-22",onClick:function(){return e.clickedFolder(t)},children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsxs)("span",{className:"font-size-22",children:[" ",t.name]})]}),je&&pe.isTeacher&&fe?Object(E.jsxs)("td",{children:[Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:Ce,children:Object(E.jsx)("i",{class:"fas fas fa-edit td-file-page",onClick:function(){return q((e=t).name),_(e.name),void ce(!0);var e}})}),Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:Ne,children:Object(E.jsx)("a",{children:Object(E.jsx)("i",{class:"fas fa-trash-alt td-file-page",onClick:function(){return W("".concat(t.name)),void ee(!0)}})})})]}):Object(E.jsx)("td",{})]},n+t.name)}))]}),Object(E.jsxs)(be.a,{size:"lg",show:f,onHide:function(){return p(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Filename"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{children:[Object(E.jsxs)("p",{children:["Current filename: ",Object(E.jsx)("span",{children:g.name})]}),Object(E.jsx)(me.a.Label,{children:"New Filename"}),Object(E.jsxs)(de.a,{className:"mb-4",children:[Object(E.jsx)(me.a.Control,{defaultValue:k,value:k,type:"text",onChange:function(e){return C(e.target.value.replace(".",""))}}),Object(E.jsx)(de.a.Text,{children:A})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return"Class"==e.type&&Ee(),void("Course"==e.type&&Ie())},children:"Update Filename"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",show:se,onHide:function(){return ce(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Folder name"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{children:[Object(E.jsxs)("p",{children:["Current folder name: ",Object(E.jsx)("span",{children:R})]}),Object(E.jsx)(me.a.Label,{children:"New folder name"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{defaultValue:k,value:V,type:"text",onChange:function(e){return _(e.target.value.replace(".",""))}})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(){return ge()},children:"Update Folder"})})]})})]}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:r,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return Se()},onCancel:function(){return i(!1)},focusCancelBtn:!0,children:"You will not be able to recover this file!"}),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:$,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return we()},onCancel:function(){return ee(!1)},focusCancelBtn:!0,children:"You will not be able to recover this folder!"})]})};var gs=function(e){var t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=(A[1],Object(a.useState)("")),F=Object(H.a)(M,2),B=(F[0],F[1]),P=Object(a.useState)(!0),z=Object(H.a)(P,2),Y=z[0],R=z[1],q=window.location.pathname.includes(e.type.toLowerCase()),G=Object(a.useContext)(D).data.user,U=sessionStorage.getItem("courseid"),V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(U);case 2:(t=e.sent).ok?(B(t.data),t.data.isTechfactors&&R(7==(null===G||void 0===G?void 0:G.teacher.positionID)),console.log(t.data,"heheheheheh")):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){window.location.pathname.includes("course")&&V()}),[]);var _=u.filter((function(e){return 100!=e.progress})),J=function(e){""!=e&&Object.values(e).map((function(e,t){if(e.size<=25e6){console.log(e,t);Q(e).then((function(t){var n={fileName:e.name,base64String:t,size:e.size,progress:0,status:""};u.push(n),d(Object(Te.a)(u))}))}else I.b.error("Please select a file below 25mb.")}))},Q=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},Z=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(!0),"Course"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.progress){t.next=8;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=6,(new Ct).newCourseFile(r);case 6:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(d([]),h(!1),x(!1),(null===(j=i.data)||void 0===j?void 0:j.errorMessage.includes("exist"))?(u[a].progress=100,u[a].status="failed",d(Object(Te.a)(u))):(c(!1),I.b.error(null===(b=i.data)||void 0===b?void 0:b.errorMessage.replace("distributor","contributor"))));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),"Class"==e.type&&u.map(function(){var t=Object(l.a)(o.a.mark((function t(n,a){var s,r,i,l,j,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),0!=n.progress){t.next=9;break}return s={fileName:n.fileName,base64String:n.base64String,subFolderLocation:e.subFolder},r={data:s,id:e.id},u[a].progress=30,d(Object(Te.a)(u)),t.next=7,(new Ct).newClassFile(r);case 7:(i=t.sent).ok?(u[a].progress=100,d(Object(Te.a)(u)),l=u.filter((function(e){return 100!=e.progress})),h(0==l.length),x(0!=l.length)):(d([]),h(!1),x(!1),(null===(j=i.data)||void 0===j?void 0:j.errorMessage.includes("exist"))?(u[a].progress=100,u[a].status="failed",d(Object(Te.a)(u))):(c(!1),I.b.error(null===(b=i.data)||void 0===b?void 0:b.errorMessage.replace("distributor","contributor"))));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(e){var t=u;t.splice(e,1),d(Object(Te.a)(t))},K=function(){c(!1),d([]),e.doneUpload(),h(!1),x(!1),x(!1)},X=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s,c,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Course"!=e.type){t.next=6;break}return n={folderName:C,subFolderLocation:e.subFolder},t.next=4,(new Ct).createCourseFolder(e.id,n);case 4:(a=t.sent).ok?(e.doneUpload(),N(!1),I.b.success("Successfully created folder.")):(N(!1),I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor")));case 6:if("Class"!=e.type){t.next=12;break}return c={folderName:C,subFolderLocation:e.subFolder},t.next=10,(new Ct).createCLassFolder(e.id,c);case 10:(r=t.sent).ok?(e.doneUpload(),N(!1),I.b.success("Successfully created folder.")):(N(!1),I.b.error(null===(i=r.data)||void 0===i?void 0:i.errorMessage.replace("distributor","contributor")));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{style:{flexDirection:"row",paddingLeft:0},className:"pages-header file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:e.title})}),Y&&G.isTeacher&&q?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{children:Object(E.jsx)("i",{style:{marginTop:10},className:"fas fa-folder-plus file-upload-content font-size-35 cursor-pointer",onClick:function(){return N(!0)}})}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return N(!0)},children:" New Folder  "})}),Object(E.jsx)("div",{children:Object(E.jsx)("h5",{style:{paddingTop:15},className:"fileupload",children:" OR "})}),Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:Object(E.jsx)(ue.a,{style:{paddingTop:14},className:"btn-create-discussion",variant:"link",onClick:function(){return c(!0)},children:" + Upload Files  "})})})]}):Object(E.jsx)(E.Fragment,{})]}),Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload File"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",accept:".pptx,.docx,.xlsx,.ppt,.doc,.xls,.pdf,.jpeg,.jpg,.png",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return J(e.target.files)}})]}),Object(E.jsx)(ce.a,{className:"d-flex align-items-center",children:Object(E.jsx)("p",{children:"Maximum file size: 25 MB."})}),Object(E.jsx)("p",{className:"font-13 mb-0",children:".pptx, .docx, .xlsx, .ppt, .doc, .xls, .pdf, .jpeg, .jpg, .png"})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),"failed"==e.status?Object(E.jsx)("td",{style:{fontSize:14,color:"red"},children:"Failed to upload.File already exist."}):Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return W(t)}})]})]},e.fileName)}))})]}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",disabled:0==_.length,className:"file-library file-button-upload mx-3",onClick:function(){return Z()},children:p?"Uploading...":"Upload"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:m?"file-library file-button-upload":"d-none",onClick:function(){return K()},children:"Done"})]})]}),Object(E.jsxs)(be.a,{size:"lg",show:w,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Create Folder"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)(de.a,{size:"lg",children:Object(E.jsx)(je.a,{onChange:function(e){return S(e.target.value)},className:"mb-2","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Enter folder name"})}),L?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"25px",paddingBottom:"20px"},children:[Object(E.jsx)(ce.a,{lg:3,className:"mt-3",children:Object(E.jsxs)(ue.a,{size:"lg",variant:"outline-warning",className:"file-library",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"fas fa-paperclip"}),"Choose Files"]})}),Object(E.jsxs)(ce.a,{lg:4,className:"bg-gray d-flex justify-content-center br-5px",children:[Object(E.jsxs)("div",{className:"row position-absolute d-flex p-2",children:[Object(E.jsx)("p",{className:"mb-0 text-center",children:"Drag files here"}),Object(E.jsx)("i",{className:"text-center fa fa-download font-size-30"})]}),Object(E.jsx)("input",{className:"opacity-0 w-100 height-80px",id:"inputFile",multiple:!0,type:"file",placeholder:"Choose color",style:{backgroundColor:"inherit"},onChange:function(e){return J(e.target.files)}})]})]}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Progress"}),Object(E.jsx)("th",{children:"Size"})]})}),Object(E.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.fileName}),"failed"==e.status?Object(E.jsx)("td",{style:{fontSize:14,color:"red"},children:"Failed to upload.File already exist."}):Object(E.jsx)("td",{children:Object(E.jsx)(kt.a,{variant:"",now:e.progress})}),Object(E.jsxs)("td",{children:[e.size," B ",Object(E.jsx)("i",{class:"fas fa-times td-file-page",onClick:function(){return W(t)}})]})]},e.fileName)}))})]})]}):Object(E.jsx)(E.Fragment,{}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:L?"d-none":"file-library file-button-upload",onClick:function(){return X()},children:"Save Folder"}),Object(E.jsx)(ue.a,{size:"lg",variant:"outline-warning",className:m?"file-library file-button-upload":"d-none",onClick:function(){return K()},children:"Done"})]})]})]})};var ws=function(){var e=Object(B.useParams)().id,t=Object(a.useContext)(D).data.user,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)([]),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=h.map((function(e){return"/".concat(e.value)})),w=t.subsType,N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],L=T[1],M=Object(a.useState)(null),F=Object(H.a)(M,2),P=F[0],Y=F[1],R=Object(a.useState)(!0),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(!1),_=Object(H.a)(V,2),J=_[0],Q=_[1];Object(a.useEffect)((function(){Z(),"LMS"!=w&&(window.location.href="/classes")}),[]);var Z=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q(!0),t.next=3,(new z).getClassInformation(e);case 3:(n=t.sent).ok&&(Q(!1),Y(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.courseId),W(null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.courseId)),Q(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,(new Oe).getCourseInformation(n);case 3:if(!(a=e.sent).ok){e.next=13;break}if(Q(!1),!a.data.isTechfactors){e.next=13;break}return e.next=10,(new Oe).getContributor(n);case 10:s=e.sent,c=s.data.find((function(e){var n;return(null===(n=e.userInformation)||void 0===n?void 0:n.userId)==t.userId})),U(!!c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){"Class"==A?X(g.join("")):$(g.join(""))},X=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q(!0),a={subFolderLocation:n},t.next=4,(new Ct).getClassFiles(e,a);case 4:(s=t.sent).ok?(Q(!1),r(s.data.files),j(s.data.folders)):I.b.error("Something went wrong while fetching class files");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),n={subFolderLocation:t},e.next=4,(new Ct).getCourseFiles(P,n);case 4:(a=e.sent).ok?(Q(!1),r(a.data.files),j(a.data.folders)):I.b.error("Something went wrong while fetching Course files");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){L(e),C(!0),"Class"==e?X(""):$("")};return Object(E.jsxs)(_n,{children:[J&&Object(E.jsx)(ee,{}),Object(E.jsx)(Jn,{title:k?"".concat(A," Files"):"",clicked:function(){C(!1),L("")}}),k?Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsxs)("div",{className:"content-pane-title col-md-10 pages-header",children:[Object(E.jsx)(gs,{type:A,title:"".concat(A," Files"),subFolder:g.join(""),id:e,doneUpload:function(){return K()}}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){Z()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"col-md-12 m-b-20",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return v(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search Class Files Here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})}),Object(E.jsxs)("div",{children:[Object(E.jsxs)("span",{onClick:function(){return X(""),void O([])},className:0==h.length?"fix-color-bread":"colored-files-bread",children:[A," Files "]}),h.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Class"==n&&(g.length=t+1,h.length=t+1,X(g.join("")))}(e.value,t,"Class")},className:h.length==t+1?"fix-color-bread":"colored-files-bread",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",e.naame]})}))]}),Object(E.jsx)(vs,{filter:x,data:c,subFolder:g.join(""),folders:d,clickedFolder:function(e){return function(e,t){if("Class"==t){var n={naame:e,value:e};h.push(n),X("".concat(g.join(""),"/").concat(e))}else{var a={naame:e,value:e};h.push(a),$("".concat(g.join(""),"/").concat(e))}}(e.name,A)},type:A,id:"Class"==A?e:P,deleted:function(){return K()}})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("p",{className:"title-header",children:"Files "})}),Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  "]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{onClick:function(){return te("Class")},colSpan:3,className:"ellipsis w-25 colored-class",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{className:"font-size-22",children:" Class Files"})]})}),G&&Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return te("Course")},className:"ellipsis w-25 colored-class",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{className:"font-size-22",children:" Course Files"})]})})]})]})]})]})};var Ns=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)().id,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=(b[0],b[1]),h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=f.map((function(e){return"/".concat(e.value)})),y=(Object(a.useContext)(D).data.user.subsType,localStorage.getItem("courseid"));Object(a.useEffect)((function(){C("")}),[]);var k=function(){C(N.join(""))},C=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("courseid"),m(t),a={subFolderLocation:t},e.next=5,(new Ct).getTeacherResources(n,a);case 5:(c=e.sent).ok?(s(c.data.files),u(c.data.folders)):alert("Something went wrong while fetching Course files.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsx)(Rn,{type:"Class",title:"Teacher Resources",id:d,subFolder:N.join(""),doneUpload:function(){return k()}}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return w(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search File here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)("p",{style:{fontSize:"20px"},children:[Object(E.jsx)("span",{onClick:function(){return p([]),void C("")},className:0==f.length?"fix-color-bread":"colored-files-bread",children:"Teacher Resources"}),f.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Course"==n&&(N.length=t+1,f.length=t+1,C(N.join("")))}(e.value,t,"Course")},className:f.length==t+1?"fix-color-bread":"colored-files-bread",children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))]}),Object(E.jsx)(Yn,{filter:g,data:n,folders:i,subFolder:N.join(""),clickedFolder:function(e){return function(e){var t={naame:e,value:e};f.push(t),C("".concat(N.join(""),"/").concat(e))}(e.name)},deleted:function(){return k()},type:"Course",id:y})]})]})};function ys(e){var t=e.archiveItem,n=e.getArchive,c=e.onSearch,r=e.searchTerm,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(B.useHistory)(),h=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).retrieveArchive(t);case 2:(a=e.sent).ok?(I.b.success("Done!"),n()):I.b.error(a.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Restore"}))},f=s.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(E.jsx)("span",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:n})}));return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)(se.a,{style:{paddingTop:"15px"},children:[Object(E.jsx)(ce.a,{className:"title-header",children:Object(E.jsx)("p",{className:"title-header",children:"Archive Classes "})}),Object(E.jsxs)(ce.a,{style:{textAlign:"right"},children:[Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(){b.push("/classes")},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Active"})}),Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(){b.push("/archive")},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Archive"})})]})]}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return c(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search here for archived classes",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]}),Object(E.jsx)(P.a,{className:"card-group2",children:t.filter((function(e){return""==r||e.className.toLowerCase().includes(r.toLowerCase())?e:void 0})).map((function(e){return Object(E.jsx)("div",{children:Object(E.jsxs)(ae.a,{className:"class-card",children:[Object(E.jsx)(ae.a.Header,{className:"class-header-card",style:{backgroundImage:"url(".concat(e.classCover,")")},children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:10}),Object(E.jsx)(ce.a,{sm:2,style:{textAlign:"right"},children:Object(E.jsxs)(V.a,{isOpen:d,toggle:function(){return j(!d)},children:[Object(E.jsx)(V.a.Toggle,{"data-toggle":"dropdown",as:f,children:Object(E.jsx)(re.a,{placement:"right",delay:{show:1,hide:0},overlay:O,children:Object(E.jsx)("i",{className:"fa fa-ellipsis-v fa-1x cursor-pointer-edit-class-card"})})}),Object(E.jsx)(V.a.Menu,{children:Object(E.jsx)(V.a.Item,{onClick:function(){return h(e.id)},children:"Restore"})})]})}),Object(E.jsx)(ce.a,{sm:10}),Object(E.jsx)(ce.a,{sm:8,children:e.courseName}),Object(E.jsx)(ce.a,{ms:22,style:{fontSize:"15px",textAlign:"right"}})]})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{}),Object(E.jsxs)(ae.a.Subtitle,{children:[e.courseName,Object(E.jsx)(ce.a,{className:"font-color",sm:10,children:e.classCode}),Object(E.jsx)(ce.a,{sm:10,children:Object(E.jsxs)("b",{children:[e.className," ",Object(E.jsx)("br",{}),Object(E.jsxs)("p",{className:"font-color",children:[" ",e.gradeName," "]})]})})]}),Object(E.jsx)(ae.a.Text,{className:"font-color",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:8,children:"Student"}),Object(E.jsxs)(ce.a,{ms:22,style:{fontSize:"15px",textAlign:"right"},children:[Object(E.jsx)("i",{className:"fas fa-user"})," ",null===e||void 0===e?void 0:e.classEnrolledCount,Object(E.jsx)("br",{})]})]})})]})]})})}))})]})}function ks(){var e,t=Object(a.useState)([]),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!0),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useContext)(D).data.user,b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getArchive();case 2:(t=e.sent).ok?c(t.data):alert("Something went wrong while fetching all Archive"),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){f()}),[]),Object(a.useEffect)((function(){if(j.isStudent)return window.location.href="/404"}),[]),console.log("asd teacher",null===j||void 0===j||null===(e=j.teacher)||void 0===e?void 0:e.id),Object(E.jsx)(te,{loading:u,activeHeader:"classes",children:Object(E.jsx)("div",{className:"page-container",children:Object(E.jsx)("div",{className:"containerpages",children:Object(E.jsx)(ys,{searchTerm:h,onSearch:function(e){O(e)},getArchive:f,archiveItem:s})})})})}var Cs=function(){var e=Object(a.useState)(!0),t=Object(H.a)(e,2),n=(t[0],t[1]);return Object(E.jsx)(_n,{setLoading:n})};function Ss(){return Object(E.jsx)("div",{className:"taking-exam",children:Object(E.jsxs)("div",{className:"d-block shadow px-3 py-5 taking-exam-container",children:[Object(E.jsx)("div",{className:"taking-exam-warning-icon",children:Object(E.jsx)("i",{class:"fas fa-exclamation-triangle"})}),Object(E.jsx)("h4",{className:"text-center my-4",children:"You are currently taking an exam."}),Object(E.jsx)("h4",{className:"text-center my-5",children:"Please return to the tab you started your exam."}),Object(E.jsx)(ue.a,{className:"btn btn-primary d-block mt-5 mb-4 mx-auto",size:"lg",variant:"primary",type:"submit",onClick:function(){return window.location.reload()},children:"RELOAD PAGE"})]})})}function Ts(e){var t=Object(a.useContext)(D).data,n=t.user,s=t.connect,c=t.takingExam;return Object(a.useEffect)((function(){null!=n?(n.isStudent&&(console.log("Try connecting to socket"),s()),n.isTeacher&&(console.log("Try connecting to socket"),s())):window.location.href="/login?message=Please login to continue"}),[n]),(null===n||void 0===n?void 0:n.isStudent)&&c&&!T()?Object(E.jsx)(Ss,{}):null!=n?Object(E.jsx)(B.Route,Object(m.a)({},e)):Object(E.jsx)("div",{})}function As(e){return Object(E.jsx)(B.Route,Object(m.a)({},e))}function Is(){return Object(E.jsx)("div",{className:"page-loader",children:Object(E.jsx)("img",{src:wa,alt:"loading"})})}function Es(e){var t=Object(a.useContext)(D).data.user,n=localStorage.getItem("subsType");return Object(a.useEffect)((function(){if(null!=t){if(t.isSchoolAdmin)return window.location.href="/dashboard";if(t.isParent)return window.location.href="/parent/dashboard";if(t.isSystemAdmin)return window.location.href="/system-admin/dashboard";if(t.isTeacher&&"TeacherResources"==n)return window.location.href="/courses";if(t.isStudent&&"TeacherResources"==n)return window.location.href="/classes";if(t.isTeacher&&"Ebooks"==n)return window.location.href="/ebook_links";if(t.isStudent&&"Ebooks"==n)return window.location.href="/ebook_links";if(t.isTeacher&&"Interactives"==n)return window.location.href="/classes";if(t.isStudent&&"Interactives"==n)return window.location.href="/classes";window.location.href="/teacherdashboard"}}),[t]),null==t?Object(E.jsx)(B.Route,Object(m.a)({},e)):Object(E.jsx)("div",{})}function Ds(){return Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"text-center",children:"Page not found"})})}var Ls=function(e,t){return null==e||null==t?0:(e.getTime()-t.getTime())/1e3};function Ms(e){var t=e.remainingTime,n=e.examStarted,a=Math.floor(t/60),s=t-60*a;return Object(E.jsx)("div",{children:Object(E.jsxs)("p",{className:"secondary-title",children:[n?"Remaining Time":"Duration",": ",a>0&&"".concat(Math.trunc(a)," minute(s)")," ",Math.trunc(s)," second(s)"]})})}var Fs=function(e){return e.exam.questionPartDto.map((function(e,t){return Object(E.jsxs)("div",{className:"exam-parts-container default-item-container",children:[Object(E.jsx)("p",{className:"primary-title",style:{fontSize:24},dangerouslySetInnerHTML:{__html:e.questionPart.instructions}}),Object(E.jsx)("p",{className:"secondary-title",style:{fontSize:16},children:"".concat(e.questionDtos.length," Question(s)")})]},t)}))};function Bs(e){var t,n=e.exam,s=e.loading,c=e.remainingTime,r=e.startExam,i=e.examStarted,o=e.isDoneTest,l=e.additionalExamInfo,u=Rt(l),d=u.startDate,j=u.endDate,b=Object(a.useContext)(D).data.user;return console.log({startDate:d,endDate:j,exam:n,additionalExamInfo:l}),null==n||s?Object(E.jsx)("div",{children:"Loading Exam Information..."}):Object(E.jsxs)("div",{className:"exam-information-container",children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between ",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{style:{fontSize:36,color:"#707070",margin:0},children:"Exam Information"}),Object(E.jsx)("p",{className:"primary-title",style:{fontSize:24},children:null===(t=n.test)||void 0===t?void 0:t.testName}),Object(E.jsx)("p",{className:"secondary-title mb-2",children:"".concat(n.totalItems," Total Item(s)")}),l&&Object(E.jsx)(Gt,{exam:l,user:b,startDate:d,endDate:j}),!i&&!o&&Object(E.jsx)(zt,{children:"Not Started"}),i&&Object(E.jsx)(zt,{children:"Exam is Ongoing.."}),Object(E.jsx)("br",{}),!i&&!o&&d<new Date&&j>new Date&&Object(E.jsx)(ue.a,{className:"btn btn-primary my-4 ",variant:"primary",size:"lg",onClick:function(){return r()},children:"START EXAM"})]}),Object(E.jsx)(Ms,{remainingTime:c,examStarted:i})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("p",{className:"secondary-title mt-4",children:"Exam Parts"}),!i&&Object(E.jsx)(Fs,{exam:n})]})}var Hs=function(e){var t=e.number,n=e.part,a=e.question,s=e.onAnswer;return Object(E.jsxs)("div",{className:"question-input d-flex",children:[Object(E.jsxs)("div",{className:"question-input-number flex-direction-row",children:[t,"."]}),Object(E.jsxs)("div",{className:"question-input-content",children:[Object(E.jsx)("div",{className:"question-input-content-title",children:Object(E.jsx)(rt,{children:a.question.testQuestion})}),Object(E.jsx)("div",{className:"question-input-content-choices",children:(a.studentAnswer||a.choices.map((function(){return{answer:""}}))).map((function(e,t){var c=Object(Te.a)(a.studentAnswer||a.choices.map((function(){return{answer:""}})));return Object(E.jsx)(me.a.Control,{id:"disabledTextInput",placeholder:"",readOnly:n.isDone,className:"w-100 my-3",value:e.answer,onChange:function(e){c[t].answer=e.target.value,s(n.questionPart.id,a.question.id,c)}},t)}))})]})]})},Ps=function(e){var t=e.number,n=e.part,a=e.question,s=e.onAnswer;return Object(E.jsxs)("div",{className:"question-input d-flex",children:[Object(E.jsxs)("div",{className:"question-input-number flex-direction-row",children:[t,"."]}),Object(E.jsxs)("div",{className:"question-input-content",children:[Object(E.jsx)("div",{className:"question-input-content-title",children:Object(E.jsx)(rt,{children:a.question.testQuestion})}),Object(E.jsx)("div",{className:"question-input-content-choices",children:Object(E.jsx)("div",{className:"question-input-content-choices-item hover-none",children:Object(E.jsx)(me.a.Control,{id:"disabledTextInput",placeholder:"",readOnly:n.isDone,as:"textarea",className:"w-100",value:a.studentAnswer,onChange:function(e){s(n.questionPart.id,a.question.id,e.target.value)}})})})]})]})},zs=function(e){var t=e.number,n=e.part,a=e.question,s=e.onAnswer;return Object(E.jsxs)("div",{className:"question-input d-flex",children:[Object(E.jsxs)("div",{className:"question-input-number flex-direction-row",children:[t,"."]}),Object(E.jsxs)("div",{className:"question-input-content",children:[Object(E.jsx)("div",{className:"question-input-content-title",children:Object(E.jsx)(rt,{children:a.question.testQuestion})}),Object(E.jsx)("div",{className:"question-input-content-choices",children:Object(E.jsx)("div",{className:"question-input-content-choices-item hover-none",children:Object(E.jsx)(me.a.Control,{id:"disabledTextInput",placeholder:"",readOnly:n.isDone,as:"textarea",className:"w-100",value:a.studentAnswer,onChange:function(e){s(n.questionPart.id,a.question.id,e.target.value)}})})})]})]})},Ys=function(e){var t=e.number,n=e.part,a=e.question,s=e.onAnswer;return Object(E.jsxs)("div",{className:"question-input d-flex",children:[Object(E.jsxs)("div",{className:"question-input-number flex-direction-row",children:[t,"."]}),Object(E.jsxs)("div",{className:"question-input-content",children:[Object(E.jsx)("div",{className:"question-input-content-title",children:Object(E.jsx)(rt,{children:a.question.testQuestion})}),Object(E.jsx)("div",{className:"question-input-content-choices",children:a.choices.map((function(e,t){return Object(E.jsxs)("div",{className:"question-input-content-choices-item",onClick:function(){n.isDone||s(n.questionPart.id,a.question.id,e.testChoices)},children:[Object(E.jsx)("div",{className:"question-radio ".concat(e.testChoices===a.studentAnswer?"active":""),children:Object(E.jsx)("div",{})}),Object(E.jsx)("p",{className:"question-choice-title m-0",children:Object(E.jsx)(rt,{children:e.testChoices})})]},t)}))})]})]})},Rs=function(e){var t=e.number,n=e.part,a=e.question,s=e.onAnswer;return Object(E.jsxs)("div",{className:"question-input d-flex",children:[Object(E.jsxs)("div",{className:"question-input-number flex-direction-row",children:[t,"."]}),Object(E.jsxs)("div",{className:"question-input-content",children:[Object(E.jsx)("div",{className:"question-input-content-title",children:Object(E.jsx)(rt,{children:a.question.testQuestion})}),Object(E.jsxs)("div",{className:"question-input-content-choices",children:[Object(E.jsxs)("div",{className:"question-input-content-choices-item",onClick:function(){n.isDone||s(n.questionPart.id,a.question.id,"TRUE")},children:[Object(E.jsx)("div",{className:"question-radio ".concat("TRUE"===a.studentAnswer?"active":""),children:Object(E.jsx)("div",{})}),Object(E.jsx)("p",{className:"question-choice-title m-0",children:"TRUE"})]}),Object(E.jsxs)("div",{className:"question-input-content-choices-item",onClick:function(){n.isDone||s(n.questionPart.id,a.question.id,"FALSE")},children:[Object(E.jsx)("div",{className:"question-radio ".concat("FALSE"===a.studentAnswer?"active":""),children:Object(E.jsx)("div",{})}),Object(E.jsx)("p",{className:"question-choice-title m-0",children:"FALSE"})]})]})]})]})};function qs(e){var t=e.number,n=e.part,a=e.question,s=e.onAnswer,c=void 0===s?function(){}:s;e.onSubmit;switch(n.questionPart.questionTypeId){case 1:return Object(E.jsx)(Ys,{number:t,part:n,question:a,onAnswer:c});case 2:return Object(E.jsx)(Rs,{number:t,part:n,question:a,onAnswer:c});case 3:return Object(E.jsx)(zs,{number:t,part:n,question:a,onAnswer:c});case 4:return Object(E.jsx)(Ps,{number:t,part:n,question:a,onAnswer:c});case 5:return Object(E.jsx)(Hs,{number:t,part:n,question:a,onAnswer:c});default:return Object(E.jsxs)("div",{children:["Invalid Question type: ",n.questionPart.questionTypeId]})}}function Gs(e){var t=e.exam,n=e.onAnswer,s=e.onSubmit,c=e.examStarted,r=e.submitPartsAnswer,i=Object(a.useState)(!1),o=Object(H.a)(i,2),l=o[0],u=o[1];return null==t?Object(E.jsx)("div",{}):c?Object(E.jsxs)("div",{children:[t.questionPartDto.map((function(e,t){return Object(E.jsx)(Je.a,{defaultActiveKey:null,children:Object(E.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{className:"primary-title",style:{fontSize:24},dangerouslySetInnerHTML:{__html:e.questionPart.instructions}}),Object(E.jsx)("p",{className:"secondary-title",style:{fontSize:16},children:"".concat(e.questionDtos.length," Question(s)")}),Object(E.jsx)(zt,{children:e.isDone?"Completed":"Not Completed"})]})}),!e.hidden&&Object(E.jsxs)(Je.a.Body,{children:[e.questionDtos.map((function(t,a){return Object(E.jsx)(qs,{number:a+1,part:e,question:t,onAnswer:n,onSubmit:s},a)})),c&&!e.isDone&&Object(E.jsx)(ue.a,{className:"btn btn-primary my-4 mx-3",variant:"primary",size:"lg",onClick:function(){return r(e)},children:"SUBMIT"})]})]})},t)})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:l,confirmBtnText:"Yes!",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"light",title:"Are you sure you want to end the exam?",onConfirm:function(e){s(),u(!1)},onCancel:function(){u(!1)},focusCancelBtn:!0,children:"All not submitted answers will be lost."}),c&&Object(E.jsx)(ue.a,{className:"btn btn-primary my-4 mx-3",variant:"primary",size:"lg",onClick:function(){u(!0)},children:"END EXAM"})]}):Object(E.jsx)("div",{})}function Us(){var e=Object(a.useState)(!0),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(0),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)({}),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useContext)(D).data,k=y.user,C=y.takeExam,T=y.endExam,A=Object(B.useParams)(),L=A.class_id,M=A.id,F=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.info("Getting exam information"),s(!0),e.next=4,(new We).getExamInformation(M);case 4:return t=e.sent,n=null,t.ok?(n=t.data,u(n)):alert("Something went wrong while fetching exam information"),e.next=9,(new We).getExams(L);case 9:t=e.sent,s(!1),t.ok?(c=t.data.find((function(e){return e.test.id.toString()===M.toString()})),r=60*((null===(a=c.classTest)||void 0===a?void 0:a.timeLimit)||0),console.log(r),console.log({examInfo:c}),N(c),P(r,n,c)):alert("Something went wrong while fetching exams");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var c,r,i,l,u,d,j,b,m,O,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),S.info("Getting exam status"),e.next=4,(new We).getExamStatus(null===(c=k.student)||void 0===c?void 0:c.id,L,M);case 4:if(i=e.sent,s(!1),!(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.id)){e.next=29;break}if(!(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.isDone)){e.next=12;break}S.info("Exam is done"),h(t),e.next=27;break;case 12:if(S.info("Exam is ongoing"),console.log({duration:t}),b=Ls(new Date,new Date(null===i||void 0===i||null===(u=i.data)||void 0===u?void 0:u.createdDate)),m=t-b,(null===(d=a.classTest)||void 0===d?void 0:d.endTime)&&(null===(j=a.classTest)||void 0===j?void 0:j.endDate)&&(O=new Date(a.classTest.endDate.replace("00:00",a.classTest.endTime)),f=Ls(O,new Date),m>f&&(m=f)),console.log({differenceInSeconds:b,remainingSeconds:m,duration:t}),!(m<=0)){e.next=23;break}q(),h(t),e.next=27;break;case 23:return e.next=25,z(n);case 25:h(m),x(!0);case 27:e.next=31;break;case 29:S.info("Exam has not started"),h(t);case 31:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),S.info("Updating exam parts status"),e.next=4,(new We).getExamPartStatuses(null===(n=k.student)||void 0===n?void 0:n.id,L,M);case 4:a=e.sent,s(!1),console.log({tempExam:t}),a.ok?(null===(c=a.data)||void 0===c||c.testPartAnswers.forEach(function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.isDone?(S.info("Part is done"),a=(a=Object(Te.a)(t.questionPartDto)).map((function(e){return e.questionPart.id===n.testPart.id&&(e.isDone=!0,e.hidden=!0),e})),(s=Object(m.a)({},i)).questionPartDto=a,u(s),console.log({newExam:s})):S.info("Part is ongoing");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S.info("Exam parts status updated")):alert("Something went wrong while updating exam parts status");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=Object(Te.a)(i.questionPartDto);t=t.map((function(t){return t.questionPart.id===e.questionPart.id&&(t.isDone=!0),t}));var n=Object(m.a)({},i);n.questionPartDto=t,u(n)},R=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("SUBMIT PART",{part:t}),a=[],c=!0,r=!1,a=5==t.questionPart.questionTypeId?t.questionDtos.map((function(e){var t=e.studentAnswer||e.choices.map((function(){return{answer:""}}));return t.forEach((function(e){t.filter((function(t){return t.answer.toLowerCase().trim()==e.answer.toLowerCase().trim()})).length>1&&(c=!1),""==e.answer&&(r=!0)})),{answer:"",questionType:5,questionId:e.question.id,enumeration:t,webEnumerationAnswers:t.map((function(e){return e.answer}))}})):t.questionDtos.map((function(e){return{questionId:e.question.id,answer:e.studentAnswer||""}})),!r){e.next=8;break}return I.b.error("Please answer all questions"),e.abrupt("return");case 8:if(c){e.next=11;break}return I.b.error("Please add unique answers"),e.abrupt("return");case 11:return console.log({payload:a}),s(!0),e.next=15,(new We).submitTestPerPart(null===k||void 0===k||null===(n=k.student)||void 0===n?void 0:n.id,L,t.questionPart.testId,t.questionPart.id,a);case 15:i=e.sent,s(!1),i.ok?Y(t):alert("Something went wrong in submitting answer");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).endTest(null===(n=k.student)||void 0===n?void 0:n.id,L,M);case 3:a=e.sent,s(!1),a.ok,T(),window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c,r,i,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).startTest(null===(t=k.student)||void 0===t?void 0:t.id,L,M);case 3:n=e.sent,s(!1),n.ok?(C(window.location.pathname),x(!0),i=60*((null===(a=w.classTest)||void 0===a?void 0:a.timeLimit)||0),(null===(c=w.classTest)||void 0===c?void 0:c.endTime)&&(null===(r=w.classTest)||void 0===r?void 0:r.endDate)&&(l=new Date(w.classTest.endDate.replace("00:00",w.classTest.endTime)),u=Ls(l,new Date),i>u&&(i=u)),h(i)):"Bad Request"===n.statusMessage?(alert("This test has already been ended"),F()):alert("Something went wrong in starting test");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(k.isTeacher)return window.location.href="/404";F()}),[]),Object(a.useEffect)((function(){if(b>0)setTimeout((function(){p&&(h((function(e){return e-1})),600==b&&I.b.success("You only have 10 minutes left to finish the exam"),300==b&&I.b.success("You only have 5 minutes left to finish the exam"),60==b&&I.b.success("You only have 1 minute left to finish the exam"),10==b&&I.b.success("You only have 10 seconds left to finish the exam"))}),1e3);else{if(!p)return;S.info("Exam is done"),console.log({examStarted:p,remainingTime:b}),q(),x(!1)}}),[b,p]),Object(E.jsxs)(te,{title:"Exam Information",loading:n,children:[Object(E.jsx)("div",{className:"page-container exam-information-container",children:Object(E.jsxs)("div",{className:"containerpages",children:[Object(E.jsx)(Bs,{exam:i,loading:n,startExam:G,remainingTime:b,examStarted:p,additionalExamInfo:w,isDoneTest:w.isLoggedUserDone}),Object(E.jsx)(Gs,{exam:i,loading:n,examStarted:p,onAnswer:function(e,t,n){var a=Object(Te.a)(i.questionPartDto);a=a.map((function(a){return a.questionPart.id===e&&(a.questionDtos=a.questionDtos.map((function(e){return console.log({question:e}),e.question.id===t&&(e.studentAnswer=n),e}))),a}));var s=Object(m.a)({},i);s.questionPartDto=a,u(s),console.log({newExam:s})},submitPartsAnswer:R,onSubmit:q})]})}),Object(E.jsx)(I.a,{})]})}var Vs=function(e){var t=e.openUserInfoModal,n=e.openUserInfoToggle,s=e.userInfo,c=e.getStudentInfo,r=e.setUserInfoModal,i=Object(a.useState)(""),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),D=Object(H.a)(A,2),L=D[0],M=D[1],F=Object(a.useState)(""),P=Object(H.a)(F,2),z=P[0],Y=P[1],R=Object(a.useState)(!1),G=Object(H.a)(R,2),U=G[0],V=G[1],_=Object(a.useState)(""),J=Object(H.a)(_,2),Q=J[0],Z=(J[1],null===s||void 0===s?void 0:s.studentNo),W=Object(B.useParams)().id,K=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new q).updateStudentInfo(W,{fname:d,lname:h,permanentAddress:x,contactNo:N,bday:S,sex:L,emailAdd:z,studentNo:Z});case 3:e.sent.ok?(c(),n(t),X(),j(""),O(""),v(""),y(""),T(""),M(""),Y("")):I.b.error("Please insert all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==s&&(j(null===s||void 0===s?void 0:s.fname),O(null===s||void 0===s?void 0:s.lname),v(null===s||void 0===s?void 0:s.permanentAddress),y(null===s||void 0===s?void 0:s.contactNo),T(null===s||void 0===s?void 0:s.bday),M(null===s||void 0===s?void 0:s.sex),Y(null===s||void 0===s?void 0:s.emailAdd))}),[s]),Object(a.useEffect)((function(){""===d&&j(null===s||void 0===s?void 0:s.fname)}),[d]),Object(a.useEffect)((function(){""===h&&O(null===s||void 0===s?void 0:s.lname)}),[h]),Object(a.useEffect)((function(){""===N&&y(null===s||void 0===s?void 0:s.contactNo)}),[N]),Object(a.useEffect)((function(){""===z&&Y(null===s||void 0===s?void 0:s.emailAdd)}),[z]),Object(a.useEffect)((function(){""===x&&v(null===s||void 0===s?void 0:s.permanentAddress)}),[x]);var X=function(){I.b.success("Successfully updated your profile",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)("div",{children:[Object(E.jsxs)(be.a,{size:"lg",show:t,onHide:function(){r(!1),j(""),O(""),v(""),y(""),T(""),M(""),Y("")},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Personal Information"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:K,children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"First Name"}),Object(E.jsx)(me.a.Control,{placeholder:"First Name",required:!0,defaultValue:null===s||void 0===s?void 0:s.fname,onChange:function(e){return j(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Last Name"}),Object(E.jsx)(me.a.Control,{placeholder:"Last Name",required:!0,defaultValue:null===s||void 0===s?void 0:s.lname,onChange:function(e){return O(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Student Number"}),Object(E.jsx)(me.a.Control,{placeholder:"Student Number",disabled:!0,defaultValue:null===s||void 0===s?void 0:s.studentNo})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Contact Number"}),Object(E.jsx)(me.a.Control,{placeholder:"Contact Number",type:"number",required:!0,defaultValue:null===s||void 0===s?void 0:s.contactNo,onChange:function(e){return y(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Birthday"}),Object(E.jsx)(me.a.Control,{required:!0,type:"date",defaultValue:ge()(null===s||void 0===s?void 0:s.bday).format("YYYY-MM-DD"),onChange:function(e){return T(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Gender"}),Object(E.jsxs)(me.a.Select,{defaultValue:null===s||void 0===s?void 0:s.sex,required:!0,onChange:function(e){return M(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Gender"}),Object(E.jsx)("option",{value:"Male",children:"Male"}),Object(E.jsx)("option",{value:"Female",children:"Female"})]})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"E-mail Address"}),Object(E.jsx)(me.a.Control,{placeholder:"E-mail Address",required:!0,defaultValue:null===s||void 0===s?void 0:s.emailAdd,onChange:function(e){return Y(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:12,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Address"}),Object(E.jsx)(me.a.Control,{placeholder:"Address",required:!0,defaultValue:null===s||void 0===s?void 0:s.permanentAddress,onChange:function(e){return v(e.target.value)}})]})})})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save"})})]})})]}),Object(E.jsx)(oe.a,{warning:!0,show:U,title:Q,onConfirm:function(){V(!U)}})]})};var _s=function(e){var t=e.openTeacherInfoToggle,n=e.openTeacherInfoModal,s=e.userInfo,c=e.getTeacherInfo,r=e.setOpenTeacherInfoModal,i=Object(a.useState)(""),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(""),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),D=Object(H.a)(A,2),L=D[0],M=D[1],F=Object(a.useState)(""),P=Object(H.a)(F,2),z=P[0],Y=P[1],R=null===s||void 0===s?void 0:s.employeeNo,G=Object(B.useParams)().id,U=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,(new q).updateTeacherInfo(G,{fname:d,lname:h,permanentAddress:x,contactNo:N,bday:S,sex:L,emailAdd:z,employeeNo:R});case 3:e.sent.ok?(c(),t(n),V(),j(""),O(""),v(""),y(""),T(""),M(""),Y("")):I.b.error("Please insert all the required fields.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==s&&(j(null===s||void 0===s?void 0:s.fname),O(null===s||void 0===s?void 0:s.lname),v(null===s||void 0===s?void 0:s.permanentAddress),y(null===s||void 0===s?void 0:s.contactNo),T(null===s||void 0===s?void 0:s.bday),M(null===s||void 0===s?void 0:s.sex),Y(null===s||void 0===s?void 0:s.emailAdd))}),[s]),Object(a.useEffect)((function(){""===d&&j(null===s||void 0===s?void 0:s.fname)}),[d]),Object(a.useEffect)((function(){""===h&&O(null===s||void 0===s?void 0:s.lname)}),[h]),Object(a.useEffect)((function(){""===N&&y(null===s||void 0===s?void 0:s.contactNo)}),[N]),Object(a.useEffect)((function(){""===z&&Y(null===s||void 0===s?void 0:s.emailAdd)}),[z]),Object(a.useEffect)((function(){""===x&&v(null===s||void 0===s?void 0:s.permanentAddress)}),[x]);var V=function(){I.b.success("Successfully updated your profile",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",show:n,onHide:function(){r(!1),j(""),O(""),v(""),y(""),T(""),M(""),Y("")},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Personal Information"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:U,children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"First Name"}),Object(E.jsx)(me.a.Control,{placeholder:"First Name",required:!0,defaultValue:null===s||void 0===s?void 0:s.fname,onChange:function(e){return j(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Last Name"}),Object(E.jsx)(me.a.Control,{placeholder:"Last Name",required:!0,defaultValue:null===s||void 0===s?void 0:s.lname,onChange:function(e){return O(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Employee Number"}),Object(E.jsx)(me.a.Control,{placeholder:"Employee Number",required:!0,disabled:!0,defaultValue:null===s||void 0===s?void 0:s.employeeNo})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Contact Number"}),Object(E.jsx)(me.a.Control,{placeholder:"Contact Number",type:"number",required:!0,defaultValue:null===s||void 0===s?void 0:s.contactNo,onChange:function(e){return y(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Birthday"}),Object(E.jsx)(me.a.Control,{type:"date",required:!0,defaultValue:ge()(null===s||void 0===s?void 0:s.bday).format("YYYY-MM-DD"),onChange:function(e){return T(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:6,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Gender"}),Object(E.jsxs)(me.a.Select,{required:!0,defaultValue:null===s||void 0===s?void 0:s.sex,onChange:function(e){return M(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Gender"}),Object(E.jsx)("option",{value:"Male",children:"Male"}),Object(E.jsx)("option",{value:"Female",children:"Female"})]})]})})}),Object(E.jsx)(ce.a,{sm:7,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"E-mail Address"}),Object(E.jsx)(me.a.Control,{placeholder:"E-mail Address",required:!0,defaultValue:null===s||void 0===s?void 0:s.emailAdd,onChange:function(e){return Y(e.target.value)}})]})})}),Object(E.jsx)(ce.a,{sm:12,children:Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"Address"}),Object(E.jsx)(me.a.Control,{placeholder:"Address",required:!0,defaultValue:null===s||void 0===s?void 0:s.permanentAddress,onChange:function(e){return v(e.target.value)}})]})})})]}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save"})})]})})]})})};var Js=function(){var e,t=Object(a.useContext)(D).data.user,n=Object(B.useParams)().id,s=Object(a.useState)(),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(!1),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)({}),M=Object(H.a)(L,2),F=M[0],P=M[1];console.log("useruseruseruser:",t),console.log("openTeacherInfoModal:",O);var z=function(){b(!j)},Y=function(){f(!O)},G=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new q).getStudentInfo(n);case 2:(t=e.sent).ok?i(t.data):alert("Something went wrong while fetching Student Information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new q).getTeacherInfo(n);case 2:(t=e.sent).ok?i(t.data):alert("Something went wrong while fetching Teacher Information");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new q).getProfileImage(t.userId);case 2:(n=e.sent).ok&&(console.log(n.data),g(n.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(V(),null===(null===t||void 0===t?void 0:t.teacher))return G()}),[]),Object(a.useEffect)((function(){if(null===(null===t||void 0===t?void 0:t.student))return U()}),[]),console.log("userInfo:",r);var _=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},J=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new q).uploadProfile(t.userId,F);case 2:(n=e.sent).ok?(g(n.data.filePath),A(!1)):I.b.error("Something went wrong while uploading profile image.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(te,{children:[Object(E.jsx)("div",{className:"page-container",children:Object(E.jsxs)("div",{className:"containerpages",children:[Object(E.jsxs)("div",{className:"profile-container profileImage",style:{width:150,height:150,borderRadius:70,backgroundColor:"#7D7D7D"},children:[v?Object(E.jsx)(R.a,{className:"profileImage",style:{width:150,height:150,borderRadius:80},src:"".concat(v,"?").concat((new Date).getTime())}):Object(E.jsx)("i",{className:" fas fa-user-circle fas-1x",style:{fontSize:"150px"}}),Object(E.jsxs)("div",{style:{width:150,height:150,borderRadius:70},className:"middle text",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"font-size-35 fas fa-upload"}),Object(E.jsx)("p",{className:"font-15",children:"Upload Picture"}),Object(E.jsx)("input",{className:"d-none",accept:"image/png, image/gif, image/jpeg",id:"inputFile",type:"file",style:{backgroundColor:"inherit"},onChange:function(e){var t;""!=(t=e.target.files)&&_(t[0]).then((function(e){k(e),A(!0);var n={fileName:t[0].name,base64String:e};P(n)}))}})]})]}),Object(E.jsxs)("div",{className:"portfolio-name",children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.role})," ",Object(E.jsx)("br",{}),(null===t||void 0===t?void 0:t.isStudent)&&Object(E.jsxs)(ue.a,{onClick:function(){return z()},className:"btn-create-discussion",variant:"link",children:[" ",Object(E.jsx)("b",{children:"Edit Personal Information"}),"   "]}),(null===t||void 0===t?void 0:t.isTeacher)&&Object(E.jsxs)(ue.a,{onClick:function(){return Y()},className:"btn-create-discussion",variant:"link",children:[" ",Object(E.jsx)("b",{children:"Edit Personal Information"}),"   "]})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:7,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"First Name"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.fname})})]}),Object(E.jsxs)(ce.a,{sm:4,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Last Name"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.lname})})]}),Object(E.jsxs)(ce.a,{sm:7,children:[t.isStudent&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Student Number"})}),Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.studentNo})]}),t.isTeacher&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Employee No"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===t||void 0===t||null===(e=t.teacher)||void 0===e?void 0:e.employeeNo})})]})]}),Object(E.jsxs)(ce.a,{sm:4,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Contact Number"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.contactNo})})]}),Object(E.jsxs)(ce.a,{sm:7,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Birthday"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:ge()(null===r||void 0===r?void 0:r.bday).format("LL")})})]}),Object(E.jsxs)(ce.a,{sm:4,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Gender"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.sex})})]}),Object(E.jsxs)(ce.a,{sm:6,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"E-mail Address"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.emailAdd})})]}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsx)("div",{style:{fontSize:"24px",color:"#BCBCBC"},children:Object(E.jsx)("p",{children:"Address"})}),Object(E.jsx)("div",{style:{fontSize:"24px",color:"#7D7D7D"},children:Object(E.jsx)("p",{children:null===r||void 0===r?void 0:r.permanentAddress})})]})]})]})}),(null===t||void 0===t?void 0:t.isStudent)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Vs,{setUserInfoModal:b,getStudentInfo:G,openUserInfoModal:j,openUserInfoToggle:z,userInfo:r})}),(null===t||void 0===t?void 0:t.isTeacher)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(_s,{setOpenTeacherInfoModal:f,getTeacherInfo:U,openTeacherInfoToggle:Y,openTeacherInfoModal:O,userInfo:r})}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:T,onHide:function(){return A(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Upload Profile"}),Object(E.jsxs)(be.a.Body,{className:"modal-label b-0px",children:[Object(E.jsxs)("div",{className:"profile-container profileImage",style:{width:150,height:150,borderRadius:80,backgroundColor:"#7D7D7D"},children:[Object(E.jsx)(R.a,{className:"profileImage",style:{width:150,height:150,borderRadius:80},src:y}),Object(E.jsxs)("div",{style:{width:150,height:150,borderRadius:70},className:"middle text",onClick:function(){document.getElementById("inputFile").click()},children:[Object(E.jsx)("i",{className:"font-size-35 fas fa-upload"}),Object(E.jsx)("p",{className:"font-15",children:"Change Picture"})]})]}),Object(E.jsx)(ue.a,{onClick:function(){return J()},className:"m-r-5 color-white tficolorbg-button float-right",size:"sm",children:"Save Picture"}),Object(E.jsx)(ue.a,{onClick:function(){return A(!1)},className:"m-r-5 btn bg-danger float-right",size:"sm",children:"Cancel"})]})]})]})},Qs=n(92);function Zs(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)([]),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=(i[0],i[1],Object(a.useState)([])),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1];Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(a.useEffect)((function(){w()}),[]);var w=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getSchoolCodeAPI();case 2:(t=e.sent).ok?(c(t.data),console.log("Haru",t.data)):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getSchoolInfo(t,n,a);case 2:(s=e.sent).ok?b(s.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return e.isSchoolAdmin?Object(E.jsx)(te,{title:"Dashboard",activeHeader:"dashboard",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"px-4",sm:8,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Analytics"}),Object(E.jsxs)("div",{className:"dashboard-content mb-5 mt-3",children:[Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-success",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-user-graduate "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Students"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"145,322"})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-warning",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-chalkboard-teacher "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Teacher"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"2,044"})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-info",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-project-diagram "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Classes"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"793"})]})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:"primary-color mb-3",children:"Sample Line Chart"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(Qs.b,{data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]}]}})})]})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:4,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Sample Doughnut chart"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(Qs.a,{data:{labels:["Red","Blue","Yellow"],datasets:[{label:"My First Dataset",data:[300,50,100],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],hoverOffset:4}]}})})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:12,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Login Trail"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(me.a,{children:Object(E.jsx)(ze.a.Item,{className:"list-group-item-o",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)("br",{}),"Date From: ",Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return g(e.target.value)}}),Object(E.jsx)("br",{}),"Date To: ",Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return f(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(e){return N(s.code,v,O)},children:"Generate"})]})})})})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:12,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Login Trail"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsxs)(He.a,{striped:!0,bordered:!0,hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Role Name"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Grade"}),Object(E.jsx)("th",{children:"No. Of Login"}),Object(E.jsx)("th",{children:"Last Login"})]})}),Object(E.jsx)("tbody",{children:j.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.id}),Object(E.jsx)("td",{children:e.roleName}),Object(E.jsxs)("td",{children:[null===e||void 0===e?void 0:e.teacherFullName,null===e||void 0===e?void 0:e.studentFullName]}),Object(E.jsx)("td",{children:e.gradeName}),Object(E.jsx)("td",{children:e.numberofLogin}),Object(E.jsx)("td",{children:ge()(e.loginDate).format("LLL")})]})}))})]})})]})]})}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}function Ws(e){var t=e.active;return Object(E.jsxs)("div",{className:"side-navigation",children:[Object(E.jsx)(F.b,{to:"school",className:"side-navigation-item ".concat("school-profile"===t?"active":""),children:"School Profile"}),Object(E.jsx)(F.b,{to:"schoolannouncement",className:"side-navigation-item ".concat("schoolannouncement"===t?"active":""),children:"Announcement"}),Object(E.jsx)(F.b,{to:"studentsList",className:"side-navigation-item ".concat("students"===t?"active":""),children:"Students"}),Object(E.jsx)(F.b,{to:"schoolTeacher",className:"side-navigation-item ".concat("schoolTeacher"===t?"active":""),children:"Teachers"}),Object(E.jsx)(F.b,{to:"terms",className:"side-navigation-item ".concat("terms"===t?"active":""),children:"Grading Terms"}),Object(E.jsx)(F.b,{to:"academicTerm",className:"side-navigation-item ".concat("academicTerm"===t?"active":""),children:"School Year"}),Object(E.jsx)(F.b,{to:"schoolAdmin",className:"side-navigation-item ".concat("schooladmins"===t?"active":""),children:"School Admins"})]})}var Ks=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){return e(a.result)},a.onerror=function(e){return n(e)}}));case 2:return n=e.sent,e.abrupt("return",{fileName:t.name,base64String:n,size:t.size,progress:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xs=Ks;function $s(){var e=Object(a.useContext)(D).data,t=e.themeColor,n=e.setThemeColor,s=e.themeLogo,c=e.setThemeLogo,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(s),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(t),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files||0!==t.target.files.length){e.next=3;break}return I.b.error("You need to select a file"),e.abrupt("return");case 3:return n=t.target.files[0],console.log({file:n}),e.next=7,Xs(n);case 7:a=e.sent,h(a.base64String),x(a.fileName),console.log({base64Img:a});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==p){e.next=3;break}return I.b.error("You need to select a file"),e.abrupt("return");case 3:return d(!0),e.next=6,(new A).updateSchoolLogo({base64String:m,fileName:p});case 6:e.sent.ok?(x(""),c(m),I.b.success("Logo saved successfully")):I.b.error("Something went wrong while saving logo"),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(new A).updateSchoolTheme({color:w});case 3:e.sent.ok?(S(!1),I.b.success("Theme saved successfully")):I.b.error("Something went wrong while saving theme"),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"rounded-white-container",children:[u&&Object(E.jsx)(ee,{}),Object(E.jsx)("h1",{className:"title mb-3",children:"School Profile"}),Object(E.jsx)("p",{className:"label m-0",children:"Logo"}),Object(E.jsx)("img",{src:m,onError:function(){return h("https://st3.depositphotos.com/23594922/31822/v/450/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg")},alt:"School Logo",className:"school-logo"}),Object(E.jsx)("input",{type:"file",className:"d-block mt-2",onChange:T}),Object(E.jsx)(ue.a,{type:"submit",className:"btn px-4 mt-2 btn-primary",disabled:""===p,onClick:L,children:"Save"}),Object(E.jsxs)("p",{className:"label mt-5 m-0",children:["Theme Color: ",w]}),Object(E.jsx)("input",{type:"color",className:"d-block",value:w,onChange:function(e){S(!0),N(e.target.value),n(e.target.value)}}),Object(E.jsx)(ue.a,{type:"submit",className:"btn px-4 mt-2 btn-primary",disabled:!C,onClick:M,children:"Save"})]})}function ec(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"school-profile"})}),Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsx)($s,{})})]})})}var tc=function(e){var t=e.item,n=e.setOpenEditModal,c=e.setSeletedClass,r=e.getClasses,i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(!1),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=(N[0],N[1],Object(a.useContext)(D).data.user);console.log("ClassCard:",t);var k=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteClasses(t);case 2:(n=e.sent).ok?(j(!1),r()):alert(n.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=s.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(E.jsx)("span",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:n})}));return Object(E.jsxs)("div",{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:d,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return k(v)},onCancel:function(){j(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Object(E.jsx)(ae.a,{className:"class-card",children:Object(E.jsxs)(F.b,{to:"/school_classes/".concat(t.classId,"/feed"),children:[Object(E.jsx)(ae.a.Header,{className:"class-header-card",style:{backgroundImage:"url(".concat(t.classCover,")")},children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:10}),!y.isSchoolAdmin&&Object(E.jsx)(ce.a,{sm:2,style:{textAlign:"right"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Edit"}))},children:Object(E.jsxs)(V.a,{isOpen:O,toggle:function(){return f(!O)},children:[Object(E.jsx)(V.a.Toggle,{"data-toggle":"dropdown",as:C,children:Object(E.jsx)("i",{className:"fa fa-ellipsis-v fa-1x cursor-pointer"})}),Object(E.jsxs)(V.a.Menu,{children:[Object(E.jsx)(V.a.Item,{onClick:function(e){return function(e,t){e.preventDefault(),c(t),n(!0)}(e,t)},children:"Edit"}),Object(E.jsx)(V.a.Item,{onClick:function(e){return function(e,t){j(!0),g(t)}(0,t.classId)},children:"Delete"})]})]})})}),Object(E.jsx)(ce.a,{sm:10})]})}),Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{}),Object(E.jsxs)(ae.a.Subtitle,{children:[t.className,Object(E.jsx)(ce.a,{className:"font-color",sm:10,children:t.classCode}),Object(E.jsxs)(ce.a,{sm:10,children:[Object(E.jsxs)("b",{children:[t.teacherName," ",Object(E.jsx)("br",{}),Object(E.jsxs)("spam",{className:"font-color",children:[" ",t.gradeName," "]})," ",Object(E.jsx)("br",{}),t.courseName]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})]}),Object(E.jsx)(ae.a.Text,{className:"font-color",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:8,children:["Student ",Object(E.jsx)("br",{})]}),Object(E.jsxs)(ce.a,{ms:22,style:{fontSize:"15px",textAlign:"right"},children:[Object(E.jsx)("i",{className:"fas fa-user"})," ",null===t||void 0===t?void 0:t.classEnrolledCount,Object(E.jsx)("br",{})]})]})})]})]})})]})};function nc(){var e,t=Object(a.useState)(!0),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=(b[1],Object(a.useState)([])),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(null),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(!1),T=Object(H.a)(S,2),A=T[0],I=T[1],L=Object(a.useContext)(D).data.user,M=null===L||void 0===L||null===(e=L.student)||void 0===e?void 0:e.id,F=Object(a.useState)(""),B=Object(H.a)(F,2),Y=B[0],R=B[1],q=function(e){R(e)};console.log("ios:",M);console.log("classesclassesclasses:",u);var G=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new z).getAllClass();case 3:t=e.sent,c(!1),t.ok?d(t.data):alert("Something went wrong while fetching all getClasses"),c(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getPendingClasses(M);case 2:(t=e.sent).ok?p(t.data):alert("Something went wrong while fetching all getPendingClasses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){G()}),[]),console.log("searchTerm:",Y),Object(E.jsxs)(te,{activeHeader:"classes",loading:s,children:[Object(E.jsx)("div",{className:"page-container",children:Object(E.jsxs)("div",{className:"containerpages",children:[L.isStudent&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ye,{setJoinClassesModal:I,onSearch:q,getPendingClasses:U,joinClassesToggle:function(){I(!A)},joinClassestModal:A}),Object(E.jsxs)(P.a,{className:"card-group2",children:[m.length?m.filter((function(e){return""==Y||e.className.toLowerCase().includes(Y.toLocaleLowerCase())?e:void 0})).map((function(e){return Object(E.jsx)(we,{item:e})})):Object(E.jsx)(E.Fragment,{}),f.length?f.filter((function(e){return""==Y||e.className.toLocaleLowerCase().includes(Y.toLocaleLowerCase())?e:void 0})).map((function(e){return Object(E.jsx)(ke,{item:e})})):Object(E.jsx)(E.Fragment,{})]})]}),Object(E.jsx)(pe,{onSearch:q,getClasses:G}),Object(E.jsx)(P.a,{className:"card-group2",children:u.length?u.filter((function(e){return""==Y||(null===e||void 0===e?void 0:e.className.toLowerCase().includes(Y.toLowerCase()))?e:void 0})).map((function(e){return Object(E.jsx)(tc,{getClasses:G,item:e,setOpenEditModal:C,setSeletedClass:w})})):Object(E.jsx)("span",{})})]})}),Object(E.jsx)(xe,{getClasses:G,seletedClass:g,openEditModal:k,setOpenEditModal:C})]})}function ac(e){var t=e.active,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(B.useParams)().id,u=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Vn).getClassInfo(i);case 2:(t=e.sent).ok&&(r(t.data.classInformation),console.log(t.data,"-----------"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u()}),[]),Object(E.jsxs)("div",{className:"side-navigation",children:[c.className,Object(E.jsx)("div",{className:"course-subtitle",children:c.teacherName}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/feed"),className:"side-navigation-item ".concat("feed"===t?"active":""),children:"Feed"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/learn"),className:"side-navigation-item ".concat("learn"===t?"active":""),children:"Learn"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/exam"),className:"side-navigation-item ".concat("exam"===t?"active":""),children:"Exam"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/discussion"),className:"side-navigation-item ".concat("discussion"===t?"active":""),children:"Discussion"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/assignment"),className:"side-navigation-item ".concat("assignment"===t?"active":""),children:"Assignment"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/task"),className:"side-navigation-item ".concat("task"===t?"active":""),children:"Task"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/interactives"),className:"side-navigation-item ".concat("interactives"===t?"active":""),children:"Class Interactives"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/links"),className:"side-navigation-item ".concat("links"===t?"active":""),children:"Links"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/classList"),className:"side-navigation-item ".concat("list"===t?"active":""),children:"Class List"}),Object(E.jsx)(F.b,{to:"/school_classes/".concat(i,"/files"),className:"side-navigation-item ".concat("files"===t?"active":""),children:"Class Files"})]})}var sc=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=(r[0],r[1],Object(B.useParams)().id),u=Object(a.useState)([i]),d=Object(H.a)(u,2),j=d[0],b=(d[1],Object(a.useState)(!1)),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(),M=Object(H.a)(L,2),P=M[0],Y=M[1],R=Object(a.useState)([]),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useContext)(D).data,_=V.user,J=(V.selectedClassId,V.setSelectedClassId),Q=V.themeColor,Z=Object(a.useState)(Ca.a),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(),ie=Object(H.a)($,2),le=ie[0],je=ie[1],be=Object(a.useState)(""),he=Object(H.a)(be,2),Oe=he[0],fe=he[1],pe=Object(a.useState)([]),xe=Object(H.a)(pe,2),ve=(xe[0],xe[1]),we=Object(a.useState)([]),Ne=Object(H.a)(we,2),ye=Ne[0],ke=Ne[1],Ce=Object(a.useState)(null),Se=Object(H.a)(Ce,2),Te=Se[0],Ae=Se[1],Ie=_.subsType,Ee=Object(a.useState)(!1),De=Object(H.a)(Ee,2),Le=De[0],Me=De[1],Fe=Object(a.useState)([]),Be=Object(H.a)(Fe,2),Pe=Be[0],ze=Be[1],Ye=Object(a.useState)(!1),Re=Object(H.a)(Ye,2),qe=Re[0],Ge=Re[1],Ue=Object(a.useState)(!1),Ve=Object(H.a)(Ue,2),_e=Ve[0],Je=Ve[1],Qe=Object(a.useState)([]),Ze=Object(H.a)(Qe,2),We=Ze[0],Ke=Ze[1],Xe=Object(a.useState)(!1),$e=Object(H.a)(Xe,2),et=$e[0],tt=$e[1],nt=Object(a.useState)([]),at=Object(H.a)(nt,2),st=at[0],ct=at[1],it=Object(a.useState)(!1),ot=Object(H.a)(it,2),lt=ot[0],ut=ot[1],dt=Object(a.useState)(""),jt=Object(H.a)(dt,2),bt=jt[0],mt=jt[1],ht=null===st||void 0===st?void 0:st.map((function(e){return"/".concat(e.value)})),Ot=Object(a.useState)([]),ft=Object(H.a)(Ot,2),pt=ft[0],xt=ft[1],vt=Object(a.useState)(null),gt=Object(H.a)(vt,2),wt=gt[0],Nt=gt[1],yt=i,kt=function(e){Me(!0),ze(e)},Tt=function(e,t){Y(e),s(t),A(!0)},At=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Ge(!0),setTimeout((function(){return Ge(!1)}),1e3),3,0,!0,c=null===Te||void 0===Te||null===(a=Te.classInformation)||void 0===a?void 0:a.className,e.next=9,(new z).createAnnouncementClass(3,{announcement:{content:n,title:c,useraccountId:0,status:true},referenceIds:j});case 9:(r=e.sent).ok?(Bt(),s(""),Lt()):I.b.error(r.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Vn).getClassInfo(i);case 2:(t=e.sent).ok?Ae(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je(!0),e.next=3,(new z).getClassInformation(i);case 3:(t=e.sent).ok&&(Je(!1),Nt(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.courseId)),Je(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Et()}),[]),Object(a.useEffect)((function(){It()}),[window.location.pathname]);var Dt=function(e,t,n){je(e),fe(t),ke(n),X(!K)},Lt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getFeedClass(i);case 2:(t=e.sent).ok?(U(t.data),!0===(null===(n=t.data)||void 0===n||null===(a=n.feedInformations)||void 0===a?void 0:a.isLike)&&ve(null===(s=t.data)||void 0===s||null===(c=s.feedInformations)||void 0===c?void 0:c.commentedBy)):alert(t.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){J(i),Lt(),"LMS"!=Ie&&(window.location.href="/classes")}),[]);var Mt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteAnnouncement(t);case 2:(n=e.sent).ok?(Ft(),Lt(),f(!1)):alert(n.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){I.b.success("Successfully removed announcement!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Bt=function(){I.b.success("Successfully added announcement!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Ht=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).likeCommentAnnouncement(i,t,n);case 2:(a=e.sent).ok?Lt():alert(a.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pt=function(e){navigator.clipboard.writeText(e),I.b.success("File link copied to clipboard.")},zt=function(e){mt(e),tt(!et),ct([]),"Class"==e&&Yt(""),"Course"==e&&Rt("")},Yt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getClassFiles(yt,n);case 3:(a=e.sent).ok?(Ke(a.data.files),xt(a.data.folders)):alert("Something went wrong while fetching class files ;;.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).getCourseFiles(wt,n);case 3:(a=e.sent).ok?(Ke(a.data.files),xt(a.data.folders)):(alert(wt),alert("Something went wrong while fetching Course files.111111111111111"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Like"}))},Gt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Unlike"}))},Ut=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View Comment"}))},Vt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"No Comment"}))};return Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:_e,children:[_e&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"feed"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:O,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return Mt(v)},onCancel:function(){f(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Object(E.jsx)(ae.a,{className:"calendar-card",children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{children:Object(E.jsxs)("div",{className:"col-md-10 pages-header",children:[Object(E.jsx)("p",{className:"title-header",children:"Announcement "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return Et()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]})}),Object(E.jsxs)(me.a,{onSubmit:At,children:[Object(E.jsxs)("div",{className:lt?"mb-3":"d-none",children:["Class"==bt?Object(E.jsx)(St,{type:"Class",id:yt,subFolder:"".concat(ht.join("")),doneUpload:function(){return Yt(ht.join(""))}}):Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){return zt("")},className:bt?"colored-class-task":"fix-color-bread",children:"Files"}),bt&&Object(E.jsxs)("span",{onClick:function(){return ct([]),"Class"==bt&&Yt(""),void("Course"==bt&&Rt(""))},className:0==st.length?"fix-color-bread":"colored-class-task",children:[" ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",bt," Files"]}),null===st||void 0===st?void 0:st.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Class"==n&&(ht.length=t+1,st.length=t+1,Yt(ht.join("")))}(e.value,t,"Class")},className:st.length==t+1?"fix-color-bread":"colored-class-task",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",e.naame]})}))]}),et?Object(E.jsxs)(E.Fragment,{children:[We.map((function(e,t){var n;return Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:(null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Object(E.jsx)("img",{src:e.pathBase.replace("http:","https:"),onClick:function(){return Pt(e.pathBase)},className:"p-1",alt:e.name,height:30,width:30},t+e.name):Object(E.jsx)("i",{className:"fas fa-sticky-note",onClick:function(){return Pt(e.pathBase)},style:{paddingRight:5}})})})),pt.map((function(e){return Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open",onClick:function(){return function(e,t){if("Class"==t){var n={naame:e,value:e};st.push(n),ct(st),Yt("".concat(ht.join(""),"/").concat(e))}else{var a={naame:e,value:e};st.push(a),ct(st),Rt("".concat(ht.join(""),"/").concat(e))}}(e.name,bt)},title:"",style:{height:30,width:30}})})}))]}):Object(E.jsxs)(He.a,{responsive:"sm",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),"  "]})}),Object(E.jsxs)("tbody",{children:[Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return zt("Class")},className:"ellipsis w-25 task-folder",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{children:" Class Files"})]})}),Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:3,onClick:function(){return zt("Course")},className:"ellipsis w-25 task-folder",children:[Object(E.jsx)("i",{className:"fas fa-folder"}),Object(E.jsx)("span",{children:" Course Files"})]})})]})]})]}),Object(E.jsx)(Ea,{value:n,placeholder:"Enter Announcement here",onChange:function(e){return s(e)}}),Object(E.jsxs)("div",{style:{textAlign:"right",paddingTop:"15px"},children:[Object(E.jsx)(ue.a,{onClick:function(){return ut(!lt)},children:"File Library"}),"\xa0",Object(E.jsx)(ue.a,{disabled:qe,className:"tficolorbg-button",type:"submit",children:"POST"})]})]})]})}),null===G||void 0===G?void 0:G.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"post-date",style:{paddingButton:""}}),null===e||void 0===e?void 0:e.feedInformations.map((function(t){var n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,p,x,v,w;return Object(E.jsx)(E.Fragment,{children:1===t.type?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{className:"post-card",children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"icon-post",children:[Object(E.jsx)("div",{className:"inline-flex",children:Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"feed-logo",children:Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"})})}),Object(E.jsxs)("div",{className:"inline-flex",style:{paddingTop:"1px",fontSize:"18px",color:"#7D7D7D"},children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 has Posted an ",Object(E.jsxs)("div",{className:"font-color",children:[" \xa0 ",Object(E.jsx)("b",{children:"Announcement "})," "]})]}),Object(E.jsx)("p",{style:{marginLeft:58},children:Object(E.jsxs)("small",{children:[Object(E.jsx)("i",{className:"fas fa-clock"})," ",ge()(null===e||void 0===e?void 0:e.dateUpdated).format("LL"),"\xa0"]})})]}),Object(E.jsx)(ce.a,{md:3,children:Object(E.jsxs)("div",{className:"inline-flex",style:(n={paddingTop:"20px"},Object(ka.a)(n,"paddingTop","6px"),Object(ka.a)(n,"float","right"),n),children:[Object(E.jsx)("div",{style:{color:Q,fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return Tt(t,t.description)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-pencil-alt"}),"\xa0 "]})}),Object(E.jsx)("div",{style:{color:Q,fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return function(e){f(!0),g(e)}(null===t||void 0===t?void 0:t.referenceId)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"far fa-trash-alt"}),"\xa0 "]})})]})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",sm:1}),Object(E.jsx)(ce.a,{sm:11,style:{fontSize:"16px",color:"#707070",textAlign:"justify"},children:Object(E.jsx)("div",{className:"font-color",children:Object(E.jsx)(rt,{children:t.description})})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsxs)("div",{className:"like-show-name",children:[Object(E.jsx)(F.b,{to:"#",onClick:function(){return kt(t)},children:null===t||void 0===t||null===(a=t.likes)||void 0===a?void 0:a.slice(0,2).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[null===e||void 0===e?void 0:e.likeBy,","]})}))}),(null===t||void 0===t||null===(s=t.likes)||void 0===s?void 0:s.length)<=2?Object(E.jsx)(E.Fragment,{}):Object(E.jsxs)(E.Fragment,{children:["\xa0and ",(null===t||void 0===t||null===(c=t.likes)||void 0===c?void 0:c.length)-2," others"]})]}),Object(E.jsx)("hr",{}),Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:Q}}),Object(E.jsx)("div",{children:!0===(null===t||void 0===t?void 0:t.isLike)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:Gt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Ht(null===t||void 0===t?void 0:t.referenceId,t.type)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"fas fa-thumbs-up"}),"\xa0",null===t||void 0===t||null===(r=t.likes)||void 0===r?void 0:r.length," Liked\xa0",Object(E.jsx)("b",{style:{fontSize:"12px",position:"absolute"}})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:qt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Ht(null===t||void 0===t?void 0:t.referenceId,t.type,t)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-thumbs-up"}),"\xa0",null===t||void 0===t||null===(i=t.likes)||void 0===i?void 0:i.length," Like\xa0",Object(E.jsx)("b",{style:{fontSize:"12px",position:"absolute"}})]})})})})]})}),Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:(null===t||void 0===t||null===(o=t.comments)||void 0===o?void 0:o.length)?Ut:Vt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Dt(null===t||void 0===t?void 0:t.referenceId,t.type,null===t||void 0===t?void 0:t.comments)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-comment-alt"}),"\xa0",(null===t||void 0===t||null===(l=t.comments)||void 0===l?void 0:l.length)>1?(null===t||void 0===t||null===(u=t.comments)||void 0===u?void 0:u.length)+" Comments":(null===t||void 0===t||null===(d=t.comments)||void 0===d?void 0:d.length)+" Comment"," \xa0",Object(E.jsx)("b",{style:{fontSize:"12px",position:"absolute"}})]})})}),!0===K&&le===(null===t||void 0===t?void 0:t.referenceId)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(La,{commentInfo:ye,getFeedClass:Lt,refId:le,typeId:Oe})}):Object(E.jsx)("span",{})]})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae.a,{className:"post-card",children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{children:Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"feed-logo",children:Object(E.jsx)("i",{class:"fas fa-user-circle fas-1x"})})}),Object(E.jsxs)("div",{className:"inline-flex",style:{paddingTop:"12px",fontSize:"18px",color:"#7D7D7D"},children:[2===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Q},children:[" ",Object(E.jsx)("b",{children:"Assignment "})," "]})]}):Object(E.jsx)(E.Fragment,{}),3===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Q},children:[" ",Object(E.jsx)("b",{children:"Task "})," "]})]}):Object(E.jsx)(E.Fragment,{}),4===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Q},children:[" ",Object(E.jsx)("b",{children:"Exam "})," "]})]}):Object(E.jsx)(E.Fragment,{}),5===t.type?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:null===t||void 0===t?void 0:t.updatedBy})," \xa0 posted a new \xa0 ",Object(E.jsxs)("div",{style:{color:Q},children:[" ",Object(E.jsx)("b",{children:"Interactive "})," "]})," "]}):Object(E.jsx)(E.Fragment,{})]})]}),Object(E.jsx)("p",{style:{marginLeft:58},children:Object(E.jsxs)("small",{children:[Object(E.jsx)("i",{className:"fas fa-clock"})," ",ge()(null===e||void 0===e?void 0:e.dateUpdated).format("LL"),"\xa0"]})}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"icon-post",sm:1}),Object(E.jsx)(ce.a,{sm:11,style:{fontSize:"16px",color:Q,paddingTop:"30px"},children:Object(E.jsx)("p",{children:t.title})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:12,style:{fontSize:"14px",color:"#707070",textAlign:"justify",paddingLeft:55},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsxs)("p",{children:[ge()(null===t||void 0===t?void 0:t.startDate).format("ll"),"\xa0"]})}),Object(E.jsxs)("div",{className:"text-color-707070",children:["/ ",null===t||void 0===t?void 0:t.startTime]})]})}),Object(E.jsx)(ce.a,{sm:12,style:{fontSize:"14px",color:"#707070",textAlign:"justify",paddingLeft:55},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsxs)("p",{children:[ge()(null===t||void 0===t?void 0:t.endDate).format("ll"),"\xa0"]})}),Object(E.jsxs)("div",{className:"text-color-707070",children:["/  ",null===t||void 0===t?void 0:t.endTime]})]})})]}),Object(E.jsxs)("div",{className:"like-show-name",children:[Object(E.jsx)(F.b,{to:"#",onClick:function(){return kt(t)},children:null===t||void 0===t||null===(j=t.likes)||void 0===j?void 0:j.slice(0,2).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[null===e||void 0===e?void 0:e.likeBy,","]})}))}),(null===t||void 0===t||null===(b=t.likes)||void 0===b?void 0:b.length)<=2?Object(E.jsx)(E.Fragment,{}):Object(E.jsxs)(E.Fragment,{children:["\xa0and ",(null===t||void 0===t||null===(m=t.likes)||void 0===m?void 0:m.length)-2," others"]})]}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("hr",{})}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:Q,fontSize:"25px"}}),Object(E.jsx)("div",{children:!0===(null===t||void 0===t?void 0:t.isLike)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:Gt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Ht(null===t||void 0===t?void 0:t.referenceId,t.type)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"fas fa-thumbs-up"}),"\xa0Liked\xa0",Object(E.jsx)("b",{style:{fontSize:"16px",position:"absolute"},children:null===t||void 0===t||null===(h=t.likes)||void 0===h?void 0:h.length})]})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:qt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Ht(null===t||void 0===t?void 0:t.referenceId,t.type,t)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-thumbs-up"}),"\xa0Like\xa0",Object(E.jsx)("b",{style:{fontSize:"16px",position:"absolute"},children:null===t||void 0===t||null===(O=t.likes)||void 0===O?void 0:O.length})]})})})})]})}),Object(E.jsx)(ce.a,{style:{textAlign:"center"},children:Object(E.jsx)(re.a,{placement:"right",delay:{show:10,hide:25},overlay:(null===t||void 0===t||null===(p=t.comments)||void 0===p?void 0:p.length)?Ut:Vt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Dt(null===t||void 0===t?void 0:t.referenceId,t.type,t.comments)},className:"btn-like",Button:!0,variant:"link",children:[Object(E.jsx)("i",{class:"far fa-comment-alt"}),"\xa0",(null===t||void 0===t||null===(x=t.comments)||void 0===x?void 0:x.length)>1?(null===t||void 0===t||null===(v=t.comments)||void 0===v?void 0:v.length)+" Comments":(null===t||void 0===t||null===(w=t.comments)||void 0===w?void 0:w.length)+" Comment","\xa0",Object(E.jsx)("b",{style:{fontSize:"16px",position:"absolute"}})]})})}),!0===K&&le===(null===t||void 0===t?void 0:t.referenceId)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(La,{commentInfo:ye,getFeedClass:Lt,refId:le,typeId:Oe})}):Object(E.jsx)("span",{})]})]})})})})}))]})})),Object(E.jsx)(oe.a,{success:!0,show:y,title:"Done!",onConfirm:function(){k(!1)}})]}),Object(E.jsx)(Da,{setEditAnnouncementModal:A,content:n,setContent:s,getFeedClass:Lt,editAnnouncementItem:P,editAnnouncementModal:T,openEditAnnouncementToggle:Tt}),Object(E.jsx)(Ma,{feedItemLike:Pe,showLike:Le,setShowLike:Me})]})]})};function cc(){var e=Object(a.useState)(null),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)({}),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(B.useParams)().id,y=Object(a.useState)(!0),k=Object(H.a)(y,2),C=k[0],S=k[1],T=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,(new Vn).getClassInfo(N);case 3:(t=e.sent).ok?(console.log({response:t}),A(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),w(t.data),console.log(t.data)):alert("Something went wrong while fetching all courses"),S(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?u(n.data):alert("Something went wrong while fetching all modules");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){T()}),[]);var I=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getPages(N,t);case 2:(n=e.sent).ok?(m(n.data),console.log(n.data)):alert("Something went wrong while fetching all pages");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,(new z).getContent(N,a,t);case 3:(s=e.sent).ok?(p(s.data),console.log(s.data)):alert("Something went wrong while fetching all pages");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:C,children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"learn"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)("div",{style:{position:"relative"},className:"not-scrollable",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{className:"scrollable vh-80 pb-5",style:{marginLeft:"15px"},children:Object(E.jsx)(Ba,{content:f,classInfo:g})}),Object(E.jsx)(ce.a,{md:"3",children:Object(E.jsxs)(ae.a,{className:"calendar kb-0px",style:{backgroundColor:"white"},children:[Object(E.jsxs)(ae.a.Header,{className:"calendar-header",style:{backgroundColor:"white"},children:[Object(E.jsx)("div",{className:"row calendar-title",children:Object(E.jsx)("div",{children:"Table of Content"})}),Object(E.jsx)("div",{className:"row calendar-subtitle",children:Object(E.jsx)("div",{children:Object(E.jsxs)(me.a.Select,{onChange:function(e){s(e.target.value),null==e.target.value||""==e.target.value?m([]):I(e.target.value)},"aria-label":"Default select example",className:"font-13",children:[Object(E.jsx)("option",{value:"",children:"--SELECT UNIT HERE--"}),i.map((function(e){return Object(E.jsxs)("option",{value:null===e||void 0===e?void 0:e.id,children:[" ",null===e||void 0===e?void 0:e.moduleName]})}))]})})})]}),Object(E.jsx)("div",{children:Object(E.jsxs)(ae.a.Body,{children:[Object(E.jsx)(ae.a.Title,{tag:"h5",className:"card-title",children:"UNIT"}),Object(E.jsx)(ae.a.Text,{className:"card-title",children:Object(E.jsx)("ul",{style:{listStyle:"none",height:"50vh"},className:"scrollable pb-5",children:b.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("li",{children:Object(E.jsxs)("p",{onClick:function(){return D(null===e||void 0===e?void 0:e.id)},className:"btn-create-discussion",variant:"link",children:[" ",null===e||void 0===e?void 0:e.pageName,"  "]})})})}))})})]})})]})})]})})})]})})}function rc(e){var t,n=e.id,a=e.user,s=e.exam,c=e.startDate,r=e.endDate;return console.log(a.isStudent,"sampleeee"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(F.b,{to:"/school_classes/".concat(n,"/exam/").concat(s.test.id,"?class_id=").concat(n,"&").concat(null==s.test.classId&&"not_editable=true"),className:"exam-title",children:s.test.testName}),Object(E.jsx)("p",{className:"exam-course-name",children:null===(t=s.module)||void 0===t?void 0:t.moduleName}),Object(E.jsx)("p",{className:"exam-instruction ",children:s.test.testInstructions}),c&&Object(E.jsxs)("p",{className:"exam-instruction m-0",children:[Object(E.jsx)("span",{className:"d-inline-block",style:{width:40},children:"Start:"}),Object(E.jsx)("b",{children:ge()(c).format("MMMM Do YYYY, h:mm:ss a")})]}),r&&Object(E.jsxs)("p",{className:"exam-instruction m-0 mb-3",children:[Object(E.jsx)("span",{className:"d-inline-block",style:{width:40},children:"End:"}),Object(E.jsx)("b",{children:ge()(r).format("MMMM Do YYYY, h:mm:ss a")})]})]})}function ic(e){var t=e.exam,n=e.deleteExam,s=e.setLoading,c=e.fetchExams,r=Object(a.useContext)(D).data.user,i=window.location.pathname.split("/")[2],u=Object(a.useState)(!1),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Rt(t),N=w.startDate,y=w.endDate,k=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({exam:t}),s(!0),e.next=4,(new Oe).editExam(null===(n=t.test)||void 0===n?void 0:n.id,{isShared:!(null===(a=t.test)||void 0===a?void 0:a.isShared),testName:null===(r=t.test)||void 0===r?void 0:r.testName,testInstructions:null===(i=t.test)||void 0===i?void 0:i.testInstructions});case 4:(l=e.sent).ok?c():alert(l.data.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(a.useState)(!1),S=Object(H.a)(C,2),T=S[0],A=S[1],I=Object(a.useState)([]),L=Object(H.a)(I,2),M=L[0],F=L[1],B=Object(a.useState)([]),P=Object(H.a)(B,2),Y=P[0],R=P[1],q=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getInformationExam(n);case 2:(a=e.sent).ok?(F(a.data),R(a.data.questionPartDto),A(!0)):alert("Something went wrong while fetching Exam Item");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return console.log("questionPartDto:",Y),Object(E.jsxs)("div",{className:"exam-item-container",children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:j,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.test.id);case 2:b(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return b(!1)},focusCancelBtn:!0,children:"You will not be able to recover this exam!"}),Object(E.jsxs)("div",{className:"exam-content",children:[Object(E.jsx)(rc,{id:i,exam:t,user:r,startDate:N,endDate:y}),Object(E.jsx)(Gt,{exam:t,user:r,startDate:N,endDate:y})]}),r.isTeacher&&Object(E.jsx)(xa,{toggleShare:k,exam:t,setShowModal:f,setShowEditModal:g,setShowWarning:b,getInformationExam:q}),Object(E.jsx)(Oa,{showModal:O,setShowModal:f,id:i,exam:t,setLoading:s,fetchExams:c,closeModal:function(){return f(!1)}}),Object(E.jsx)(fa,{showEditModal:v,setShowEditModal:g,id:i,exam:t,setLoading:s,fetchExams:c}),Object(E.jsx)(va,{showPreviewExamModal:T,setShowPreviewExamModal:A,testItem:M,questionPartDto:Y})]})}var oc=function(){var e=Object(a.useState)(!0),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)().id,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)([]),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useContext)(D).data,g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=(w[0],w[1],Object(a.useState)("")),y=Object(H.a)(N,2),k=(y[0],y[1],v.user),C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).getExams(d);case 3:t=e.sent,s(!1),t.ok?(n=t.data.filter((function(e){return k.isTeacher||null!=e.classTest})),a=n.map((function(e){return e.module})),c=[],a.forEach((function(e,t){c.map((function(e){return e.id})).includes(e.id)||c.push(e)})),u(n)):alert("Something went wrong while fetching exams");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new z).getModuleClass(d);case 3:t=e.sent,s(!1),t.ok?x(t.data):alert("Something went wrong while fetching Modules");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S()}),[]);var T=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new We).deleteExam(t);case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,C();case 7:I.b.success("Exam was successfully deleted"),e.next=11;break;case 10:I.b.error((null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage)||"Something went wrong while deleting the exam");case 11:s(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C()}),[]),Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",children:[n&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"exam"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsxs)("div",{className:"class-container position-relative",children:[Object(E.jsx)(ha,{onSearch:function(e){h(e)},modules:p,fetchExams:C,onRefresh:function(){return C()}}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:p.map((function(e,t){return 0==i.filter((function(t){return e.id===t.module.id})).filter((function(e){return e.test.testName.toLowerCase().includes(m.toLowerCase())})).length?Object(E.jsx)("div",{}):Object(E.jsxs)(Je.a.Item,{eventKey:t,children:[Object(E.jsx)(Je.a.Header,{children:e.moduleName}),Object(E.jsx)(Je.a.Body,{children:i.filter((function(t){return e.id===t.module.id})).filter((function(e){return e.test.testName.toLowerCase().includes(m.toLowerCase())})).map((function(e,t){return Object(E.jsx)(ic,{exam:e,deleteExam:T,setLoading:s,fetchExams:C},t)}))})]},t)}))}),0===i.filter((function(e){return e.test.testName.toLowerCase().includes(m.toLowerCase())})).length&&!n&&Object(E.jsx)("div",{className:"no-exams",children:"No exams found..."})]})})]})]})};function lc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=(r[1],Object(a.useState)(!1)),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)([]),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(null),S=Object(H.a)(C,2),T=S[0],A=S[1],L=Object(a.useState)(!1),M=Object(H.a)(L,2),F=M[0],P=M[1],Y=Object(B.useParams)().id,R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=(q[1],Object(a.useState)(!1)),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)(),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)(!1),$=Object(H.a)(X,2),ne=$[0],ae=$[1],re=Object(a.useState)(""),ie=Object(H.a)(re,2),le=ie[0],de=ie[1],je=Object(a.useState)(),be=Object(H.a)(je,2),me=be[0],he=be[1],Oe=Object(a.useState)(),fe=Object(H.a)(Oe,2),pe=fe[0],xe=fe[1],ve=Object(a.useState)(),we=Object(H.a)(ve,2),Ne=we[0],ye=we[1],ke=Object(a.useState)(),Ce=Object(H.a)(ke,2),Se=Ce[0],Te=Ce[1],Ae=ge()().format("YYYY-MM-DD"),Ie=ge()().format("HH:mm"),Ee=(Object(a.useContext)(D).data.user,Object(a.useState)([])),De=Object(H.a)(Ee,2),Le=De[0],Me=De[1],Fe=Object(a.useState)(""),Be=Object(H.a)(Fe,2),He=Be[0],Pe=Be[1],ze=Object(a.useState)({}),Ye=Object(H.a)(ze,2),Re=(Ye[0],Ye[1]),qe=Object(a.useState)(!1),Ge=Object(H.a)(qe,2),Ue=Ge[0],Ve=Ge[1],_e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ve(!0),e.next=3,(new Vn).getClassInfo(Y);case 3:(t=e.sent).ok?(Ve(!1),Qe(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),Re(t.data)):I.b.error("Something went wrong while fetching all courses"),Ve(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_e()}),[]);var Qe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok&&f(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getDiscussionUnit(Y,n);case 2:(a=e.sent).ok?(g(a.data),A(n)):I.b.error('Something went wrong while fetching discussion unit"');case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,c,r,i){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getDiscussionComments(Y,n);case 2:(l=e.sent).ok?(Me(l.data),he(a),xe(c),ye(r),Te(i),de(n),s(!0)):alert("Something went wrong while getCommenst");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==T)return Ze()}),[]);var Ke=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteDiscussion(n);case 2:e.sent.ok?(Ze(null,T),P(!1)):alert("Something went wrong while Deleting a deleteDiscussion");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:Ue,children:[Ue&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"discussion"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(ia,{onSearch:function(e){Pe(e)},getDiscussionUnit:Ze,module:O,onRefresh:function(){return _e()}}),Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:F,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(e){return Ke(e,G)},onCancel:function(){P(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),O.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return Ze(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:Object(E.jsx)(E.Fragment,{children:null===v||void 0===v?void 0:v.filter((function(e){var t;return""==He||(null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName.toLowerCase().includes(He.toLocaleLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,f;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsxs)("div",{className:"text-color-bcbcbc",children:["Instruction:\xa0",null===e||void 0===e?void 0:e.instructions]}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)("span",{style:{marginTop:"300px !important"},dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.instructions}})})]})}),(null===(a=e.discussionAssignment)||void 0===a?void 0:a.startDate)?Object(E.jsxs)("div",{children:[ge()(Ae+" "+Ie,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(s=e.discussionAssignment)||void 0===s?void 0:s.startDate)+" "+(null===e||void 0===e||null===(c=e.discussionAssignment)||void 0===c?void 0:c.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(Ae+" "+Ie,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(r=e.discussionAssignment)||void 0===r?void 0:r.endDate)+" "+(null===e||void 0===e||null===(i=e.discussionAssignment)||void 0===i?void 0:i.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended\xa0"})}),Object(E.jsx)("div",{style:{paddingBottom:"5px"},children:Object(E.jsxs)(ue.a,{onClick:function(t){var n;return We(t,null===(n=e.discussion)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:["Comments\xa0",e.responseCount]})})]})}),ge()(Ae+" "+Ie,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(o=e.discussionAssignment)||void 0===o?void 0:o.startDate)+" "+(null===e||void 0===e||null===(l=e.discussionAssignment)||void 0===l?void 0:l.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(Ae+" "+Ie,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(u=e.discussionAssignment)||void 0===u?void 0:u.startDate)+" "+(null===e||void 0===e||null===(d=e.discussionAssignment)||void 0===d?void 0:d.startTime),"YYYY-MM-DD HH:mm"))&&ge()(Ae+" "+Ie,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(j=e.discussionAssignment)||void 0===j?void 0:j.endDate)+" "+(null===e||void 0===e||null===(b=e.discussionAssignment)||void 0===b?void 0:b.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing \xa0 "})}),Object(E.jsx)("div",{style:{paddingBottom:"5px"},children:Object(E.jsxs)(ue.a,{onClick:function(t){var n,a,s,c,r;return We(t,null===(n=e.discussion)||void 0===n?void 0:n.id,null===e||void 0===e||null===(a=e.discussionAssignment)||void 0===a?void 0:a.startDate,null===e||void 0===e||null===(s=e.discussionAssignment)||void 0===s?void 0:s.startTime,null===e||void 0===e||null===(c=e.discussionAssignment)||void 0===c?void 0:c.endDate,null===e||void 0===e||null===(r=e.discussionAssignment)||void 0===r?void 0:r.endTime)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:["Comments\xa0",e.responseCount]})})]}),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("br",{})})]}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===e||void 0===e||null===(m=e.discussionAssignment)||void 0===m?void 0:m.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===e||void 0===e||null===(h=e.discussionAssignment)||void 0===h?void 0:h.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===e||void 0===e||null===(O=e.discussionAssignment)||void 0===O?void 0:O.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===e||void 0===e||null===(f=e.discussionAssignment)||void 0===f?void 0:f.endTime})]})}),Object(E.jsx)("hr",{})]})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("hr",{})]})]})}))})})]})}))]}),Object(E.jsx)(ba,{getDiscussionComments:We,getComments:Le,endTime:Se,endDate:Ne,startTime:pe,startDate:me,getDiscussionUnit:Ze,moduleId:T,discussionId:le,comments:i,discussionCommentToggle:function(e){s(!n)},discussionCommentModal:n}),Object(E.jsx)(oa,{editDiscussionItem:y,toggle:function(e,t){k(t),b(!j)},modal:j,getDiscussionUnit:Ze}),Object(E.jsx)(la,{moduleId:T,getDiscussionUnit:Ze,discussionId:le,assignToggle:function(e,t){de(t),J(!_)},assignModal:_}),Object(E.jsx)(ua,{getDiscussionUnit:Ze,editAssignDiscussionItem:W,editAssignToggle:function(e,t){K(t),ae(!ne)},editAssignModal:ne})]})]})]})}function uc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)([]),P=Object(H.a)(F,2),Y=P[0],R=P[1],q=Object(a.useState)([]),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)(),J=Object(H.a)(_,2),Q=J[0],Z=(J[1],Object(B.useParams)().id),W=Object(a.useState)(!1),K=Object(H.a)(W,2),X=K[0],$=K[1],ae=Object(a.useState)(""),ie=Object(H.a)(ae,2),le=ie[0],de=(ie[1],Object(a.useState)(null)),je=Object(H.a)(de,2),be=je[0],me=je[1],he=ge()().format("YYYY-MM-DD"),Oe=ge()().format("HH:mm"),fe=Object(a.useContext)(D).data.user,pe=Object(a.useState)(!1),xe=Object(H.a)(pe,2),ve=xe[0],we=xe[1],Ne=Object(a.useState)([]),ye=Object(H.a)(Ne,2),ke=ye[0],Ce=ye[1],Se=Object(a.useState)(),Te=Object(H.a)(Se,2),Ae=Te[0],Ie=Te[1],Ee=Object(a.useState)(""),De=Object(H.a)(Ee,2),Le=De[0],Me=De[1],Fe=Object(a.useState)(""),Be=Object(H.a)(Fe,2),He=Be[0],Pe=Be[1],ze=Object(a.useState)(""),Ye=Object(H.a)(ze,2),Re=Ye[0],qe=Ye[1],Ge=Object(a.useState)(""),Ue=Object(H.a)(Ge,2),Ve=Ue[0],_e=Ue[1],Qe=Object(a.useState)(null),Ze=Object(H.a)(Qe,2),We=Ze[0],Ke=Ze[1],Xe=Object(a.useState)(!1),$e=Object(H.a)(Xe,2),et=$e[0],tt=$e[1];Object(a.useEffect)((function(){nt()}),[]);var nt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tt(!0),e.next=3,(new Vn).getClassInfo(Z);case 3:(t=e.sent).ok?(tt(!1),ct(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId)):I.b.error("Something went wrong while fetching all courses"),tt(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(e,t){Ce(e),Ie(t),we(!ve)},st=function(e,t){M(t),x(!p)},ct=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?R(n.data):alert("Something went wrong while fetching all Module");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new z).getAssignment(Z,n);case 3:(a=e.sent).ok?(V(null===a||void 0===a?void 0:a.data),me(n)):alert("Something went wrong while fetching all Assignment");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ot=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).delateAssignment(n);case 2:e.sent.ok?(it(null,a),$(!1)):alert("Something went wrong while Deleting a task");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==be)return it()}),[]);var lt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))};return Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:et,children:[et&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"assignment"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(Wn,{onSearch:function(e){Me(e)},module:Y,getAssignmentList:it,onRefresh:function(){return nt()}}),Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:X,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(e){return ot(e,le,be)},onCancel:function(){$(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),Y.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return it(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"20px"},children:null===e||void 0===e?void 0:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:null===(null===fe||void 0===fe?void 0:fe.isStudent)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(aa,{searchTerm:Le,assignment:U})}):Object(E.jsx)(E.Fragment,{children:null===U||void 0===U?void 0:U.filter((function(e){var t;return""==Le||(null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.assignmentName.toLowerCase().includes(Le.toLocaleLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.assignment)||void 0===t?void 0:t.assignmentName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.assignment)||void 0===n?void 0:n.instructions})})]})}),e.assignment.classId?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:lt,children:Object(E.jsxs)(ue.a,{onClick:function(){return at(null===e||void 0===e?void 0:e.assignment,null===e||void 0===e?void 0:e.classAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})})})}):Object(E.jsx)(E.Fragment,{children:e.assignment.classId?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsxs)(ue.a,{onClick:function(t){var n;return st(0,null===e||void 0===e||null===(n=e.assignment)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-user-clock"}),"0"]})})}):Object(E.jsx)(E.Fragment,{children:(null===(a=e.classAssignment)||void 0===a||a.startDate,Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:lt,children:Object(E.jsxs)(ue.a,{onClick:function(){return at(null===e||void 0===e?void 0:e.assignment,null===e||void 0===e?void 0:e.classAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})})})}))})}),(null===e||void 0===e?void 0:e.classAssignment)?Object(E.jsxs)(se.a,{children:[ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(s=e.classAssignment)||void 0===s?void 0:s.startDate)+" "+(null===e||void 0===e||null===(c=e.classAssignment)||void 0===c?void 0:c.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(r=e.classAssignment)||void 0===r?void 0:r.endDate)+" "+(null===e||void 0===e||null===(i=e.classAssignment)||void 0===i?void 0:i.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended"})}),ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(o=e.classAssignment)||void 0===o?void 0:o.startDate)+" "+(null===e||void 0===e||null===(l=e.classAssignment)||void 0===l?void 0:l.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(u=e.classAssignment)||void 0===u?void 0:u.startDate)+" "+(null===e||void 0===e||null===(d=e.classAssignment)||void 0===d?void 0:d.startTime),"YYYY-MM-DD HH:mm"))&&ge()(he+" "+Oe,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(j=e.classAssignment)||void 0===j?void 0:j.endDate)+" "+(null===e||void 0===e||null===(b=e.classAssignment)||void 0===b?void 0:b.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:6,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===e||void 0===e?void 0:e.classAssignment.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===e||void 0===e||null===(m=e.classAssignment)||void 0===m?void 0:m.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===e||void 0===e?void 0:e.classAssignment.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===e||void 0===e||null===(h=e.classAssignment)||void 0===h?void 0:h.endTime})]})}),Object(E.jsx)("hr",{})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("hr",{})]})]})}))})})]})}))]}),Object(E.jsx)(sa,{setViewAssigmentModal:we,viewAssignmentAssign:Ae,viewAssignmentItem:ke,viewAssignmentToggle:at,viewAssignmentModal:ve}),Object(E.jsx)(ta,{submittedAssignmentToggle:function(){s(!n)},submittedAssignment:n}),Object(E.jsx)(ea,{answerAnswerToggle:function(){u(!i)},answerModal:i}),Object(E.jsx)(Kn,{xmoduleId:We,assignmentId:L,unit:Ve,setUnit:_e,setAssignmentName:Pe,assignmentName:He,setModal:h,instructions:Re,setInstructions:qe,toggle:function(e,t,n,a,s,c){qe(t),Pe(n),_e(a),M(s),Ke(c),h(!b)},modal:b,editAssignment:Q,getAssignmentList:it,moduleId:be}),Object(E.jsx)(Xn,{moduleId:be,assignmentId:L,assginModal:p,assignAssignmentToggle:st,getAssignmentList:it}),Object(E.jsx)($n,{moduleId:be,getAssignmentList:it,editAssignAssignmentItem:w,editAssignedAssignmentModal:C,editAssignedAssignmentToggle:function(e,t){N(t),S(!C)}})]})]})]})}function dc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(a.useState)([]),P=Object(H.a)(F,2),Y=P[0],R=P[1],q=Object(a.useState)(),G=Object(H.a)(q,2),U=G[0],V=(G[1],Object(B.useParams)().id),_=Object(a.useState)(!1),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=Object(a.useState)(""),K=Object(H.a)(W,2),X=K[0],$=(K[1],ge()().format("YYYY-MM-DD")),ae=ge()().format("HH:mm"),ie=Object(a.useContext)(D).data.user,le=Object(a.useState)(!1),de=Object(H.a)(le,2),je=de[0],be=de[1],me=Object(a.useState)([]),he=Object(H.a)(me,2),Oe=he[0],fe=he[1],pe=Object(a.useState)(null),xe=Object(H.a)(pe,2),ve=xe[0],we=xe[1],Ne=Object(a.useState)(""),ye=Object(H.a)(Ne,2),ke=ye[0],Ce=ye[1],Se=Object(a.useState)({}),Te=Object(H.a)(Se,2),Ae=(Te[0],Te[1]),Ie=Object(a.useState)(""),Ee=Object(H.a)(Ie,2),De=Ee[0],Le=Ee[1],Me=Object(a.useState)(""),Fe=Object(H.a)(Me,2),Be=Fe[0],He=Fe[1],Pe=Object(a.useState)(""),ze=Object(H.a)(Pe,2),Ye=ze[0],Re=ze[1],qe=Object(a.useState)(""),Ge=Object(H.a)(qe,2),Ue=Ge[0],Ve=Ge[1],_e=Object(a.useState)(!1),Qe=Object(H.a)(_e,2),Ze=Qe[0],We=Qe[1];Object(a.useEffect)((function(){Ke()}),[]);var Ke=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return We(!0),e.next=3,(new Vn).getClassInfo(V);case 3:(t=e.sent).ok?(We(!1),$e(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),Ae(t.data)):I.b.error("Something went wrong while fetching class info"),We(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(e,t){fe(e),we(t),be(!je)},$e=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?h(n.data):I.b.error("Something went wrong while fetching all module");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new z).getTaskModule(V,n);case 3:(a=e.sent).ok?(R(null===a||void 0===a?void 0:a.data),u(n)):I.b.error("Something went wrong while fetching tasks");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).deleteTasks(n);case 2:e.sent.ok?(et(null,a),Z(!1)):I.b.error("Something went wrong while deleting a task");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),nt=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"View"}))};return Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:Ze,children:[Ze&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"task"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(Wa,{onSearch:function(e){Ce(e)},module:b,getTaskModule:et,onRefresh:function(){return Ke()}}),Object(E.jsxs)(Je.a,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:Q,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(e){return tt(e,X,i)},onCancel:function(){Z(!1)},focusCancelBtn:!0,children:"You will not be able to recover this imaginary file!"}),b.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return et(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:null===(null===ie||void 0===ie?void 0:ie.isStudent)?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:null===Y||void 0===Y?void 0:Y.filter((function(e){var t;return""==ke||(null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.taskName.toLowerCase().includes(ke.toLocaleLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,O,f;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:null===e||void 0===e||null===(t=e.task)||void 0===t?void 0:t.taskName})}),Object(E.jsx)(ce.a,{sm:9,className:"instruction-exam",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Instruction:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:null===e||void 0===e||null===(n=e.task)||void 0===n?void 0:n.instructions})})]})}),e.task.classId?Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:nt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Xe(null===e||void 0===e?void 0:e.task,null===e||void 0===e?void 0:e.taskAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})})}):Object(E.jsx)(E.Fragment,{children:(null===(a=e.taskAssignment)||void 0===a||a.startDate,Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:nt,children:Object(E.jsxs)(ue.a,{onClick:function(){return Xe(null===e||void 0===e?void 0:e.task,null===e||void 0===e?void 0:e.taskAssignment)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-eye"})," "]})})})}))}),(null===e||void 0===e?void 0:e.taskAssignment)?Object(E.jsxs)(E.Fragment,{children:[ge()($+" "+ae,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(s=e.taskAssignment)||void 0===s?void 0:s.startDate)+" "+(null===e||void 0===e||null===(c=e.taskAssignment)||void 0===c?void 0:c.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()($+" "+ae,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(r=e.taskAssignment)||void 0===r?void 0:r.endDate)+" "+(null===e||void 0===e||null===(i=e.taskAssignment)||void 0===i?void 0:i.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended"})}),ge()($+" "+ae,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(o=e.taskAssignment)||void 0===o?void 0:o.startDate)+" "+(null===e||void 0===e||null===(l=e.taskAssignment)||void 0===l?void 0:l.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()($+" "+ae,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(u=e.taskAssignment)||void 0===u?void 0:u.startDate)+" "+(null===e||void 0===e||null===(d=e.taskAssignment)||void 0===d?void 0:d.startTime),"YYYY-MM-DD HH:mm"))&&ge()($+" "+ae,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(j=e.taskAssignment)||void 0===j?void 0:j.endDate)+" "+(null===e||void 0===e||null===(b=e.taskAssignment)||void 0===b?void 0:b.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===e||void 0===e||null===(m=e.taskAssignment)||void 0===m?void 0:m.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===e||void 0===e||null===(h=e.taskAssignment)||void 0===h?void 0:h.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070 font-16",children:[ge()(null===e||void 0===e||null===(O=e.taskAssignment)||void 0===O?void 0:O.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc font-16",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070 font-16",children:null===e||void 0===e||null===(f=e.taskAssignment)||void 0===f?void 0:f.endTime})]})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})]})}))})})]})}))]}),Object(E.jsx)(ss,{setViewTaskModal:be,viewTaskAssign:ve,viewTaskItem:Oe,viewTaskTaggle:Xe,viewTaskModal:je}),Object(E.jsx)(Ka,{moduleName:Ue,taskId:Ye,setTaskId:Re,instructions:Be,setInstructions:He,taskName:De,setTaskName:Le,setModal:s,moduleId:i,editTask:U,toggle:function(e,t,a,c,r){Le(t),He(a),Re(c),Ve(r),s(!n)},modal:n,module:b,getTaskModule:et}),Object(E.jsx)(Xa,{moduleId:i,getTaskModule:et,assingTaskId:L,assignTaskModal:p,assignTaskToggle:function(e,t){M(t),x(!p)}}),Object(E.jsx)($a,{getTaskModule:et,editAssignTaskItem:C,editAssignTaskToggle:function(e,t){S(t),N(!w)},editAssignTaskModal:w})]})]})]})}function jc(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(null),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(),A=Object(H.a)(T,2),L=A[0],M=A[1],F=Object(B.useParams)().id,P=ge()().format("YYYY-MM-DD"),Y=ge()().format("HH:mm"),R=Object(a.useContext)(D).data.user,q=Object(a.useState)(""),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(a.useState)({}),J=Object(H.a)(_,2),Q=(J[0],J[1]),Z=Object(a.useState)(!1),W=Object(H.a)(Z,2),K=W[0],X=W[1];Object(a.useEffect)((function(){$()}),[]);var $=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),e.next=3,(new Vn).getClassInfo(F);case 3:(t=e.sent).ok?(X(!1),oe(null===(n=t.data.classInformation)||void 0===n?void 0:n.courseId),Q(t.data)):I.b.error("Something went wrong while fetching all class info"),X(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e,t){S(t),N(!w)},ie=function(e,t){M(t),x(!p)},oe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getModule(t);case 2:(n=e.sent).ok?s(n.data):I.b.error("Something went wrong while fetching module");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getInteractive(F,n);case 2:(a=e.sent).ok?(h(a.data),u(n)):I.b.error("Something went wrong while fetching module");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==i)return le()}),[]);var de=function(e){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},e),{},{children:"Assign"}))};return Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:K,children:[K&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"interactives"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(rs,{onSearch:function(e){V(e)},onRefresh:function(){return $()}}),Object(E.jsx)(Je.a,{children:n.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return le(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{className:"unit-exam",style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:null===(null===R||void 0===R?void 0:R.teacher)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ds,{searchTerm:U,interactive:b})}):Object(E.jsx)(E.Fragment,{children:null===b||void 0===b?void 0:b.filter((function(e){var t;return""==U||(null===e||void 0===e||null===(t=e.interactive)||void 0===t?void 0:t.interactiveName.toLowerCase().includes(U.toLocaleLowerCase()))?e:void 0})).map((function(e){var t,n,a,s,c,r,i,o,l,u,d,j,b,m,h,O;return Object(E.jsxs)(se.a,{style:{margin:"10px"},children:[Object(E.jsx)(ce.a,{sm:8,children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)("a",{target:"_blank",style:{color:"#EE9337",textDecoration:"none"},href:null===e||void 0===e||null===(t=e.interactive)||void 0===t?void 0:t.path,children:null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.interactiveName})})}),Object(E.jsx)(ce.a,{sm:3,className:"icon-exam",children:(null===e||void 0===e?void 0:e.classInteractiveAssignment)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:de,children:Object(E.jsx)(ue.a,{onClick:function(t){return ae(0,e)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-clock"})})})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:de,children:Object(E.jsx)(ue.a,{onClick:function(t){var n;return ie(0,null===e||void 0===e||null===(n=e.interactive)||void 0===n?void 0:n.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:Object(E.jsx)("i",{class:"fas fa-user-clock"})})})})}),(null===e||void 0===e?void 0:e.classInteractiveAssignment)?Object(E.jsxs)(E.Fragment,{children:[ge()(P+" "+Y,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(a=e.classInteractiveAssignment)||void 0===a?void 0:a.startDate)+" "+(null===e||void 0===e||null===(s=e.classInteractiveAssignment)||void 0===s?void 0:s.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Upcoming"})}),ge()(P+" "+Y,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(c=e.classInteractiveAssignment)||void 0===c?void 0:c.endDate)+" "+(null===e||void 0===e||null===(r=e.classInteractiveAssignment)||void 0===r?void 0:r.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ended"})}),ge()(P+" "+Y,"YYYY-MM-DD HH:mm").isSame(ge()((null===e||void 0===e||null===(i=e.classInteractiveAssignment)||void 0===i?void 0:i.startDate)+" "+(null===e||void 0===e||null===(o=e.classInteractiveAssignment)||void 0===o?void 0:o.startTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),ge()(P+" "+Y,"YYYY-MM-DD HH:mm").isAfter(ge()((null===e||void 0===e||null===(l=e.classInteractiveAssignment)||void 0===l?void 0:l.startDate)+" "+(null===e||void 0===e||null===(u=e.classInteractiveAssignment)||void 0===u?void 0:u.startTime),"YYYY-MM-DD HH:mm"))&&ge()(P+" "+Y,"YYYY-MM-DD HH:mm").isBefore(ge()((null===e||void 0===e||null===(d=e.classInteractiveAssignment)||void 0===d?void 0:d.endDate)+" "+(null===e||void 0===e||null===(j=e.classInteractiveAssignment)||void 0===j?void 0:j.endTime),"YYYY-MM-DD HH:mm"))&&Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"15px"},children:Object(E.jsx)("b",{children:"Ongoing"})}),Object(E.jsx)(ce.a,{sm:7,className:"due-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(b=e.classInteractiveAssignment)||void 0===b?void 0:b.startDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"Start Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(m=e.classInteractiveAssignment)||void 0===m?void 0:m.startTime})]})}),Object(E.jsx)(ce.a,{className:"posted-date-discusstion",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Date:\xa0"}),Object(E.jsxs)("div",{className:"text-color-707070",children:[ge()(null===e||void 0===e||null===(h=e.classInteractiveAssignment)||void 0===h?void 0:h.endDate).format("LL"),"\xa0"]}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:"End Time:\xa0"}),Object(E.jsx)("div",{className:"text-color-707070",children:null===e||void 0===e||null===(O=e.classInteractiveAssignment)||void 0===O?void 0:O.endTime})]})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{style:{color:"red"},children:Object(E.jsx)("b",{children:"Not Assigned"})}),Object(E.jsx)("div",{className:"text-color-bcbcbc",children:Object(E.jsx)("hr",{})})]})]})}))})})]})}))}),Object(E.jsx)(is,{moduleId:i,getIndteractive:le,interactiveId:L,assignInteractiveToggle:ie,assignInteractiveModal:p}),Object(E.jsx)(os,{getIndteractive:le,editAssignInteractiveItem:C,editAssignIteractiveToggle:ae,editAssignInteractiveModal:w})]})]})]})}function bc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(B.useParams)().id,y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),D=(A[0],A[1],Object(a.useState)("")),L=Object(H.a)(D,2),M=(L[0],L[1],Object(a.useState)()),F=Object(H.a)(M,2),P=(F[0],F[1],Object(a.useState)(!1)),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),"1",e.next=4,(new z).getLink(N,"1");case 4:(t=e.sent).ok?(q(!1),u(t.data)):I.b.error('Something went wrong while fetching all conference"'),q(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){G()}),[]);var U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"2",e.next=3,(new z).getLink(N,"2");case 3:(t=e.sent).ok?m(t.data):I.b.error('Something went wrong while fetching all conference"');case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){U()}),[]);var V=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"3",e.next=3,(new z).getLink(N,"3");case 3:(t=e.sent).ok?p(t.data):I.b.error('Something went wrong while fetching all conference"');case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){V()}),[]),Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:R,children:[R&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"links"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(_a,{onSearch:function(e){S(e)},getConfe:G,getVideos:U,getLinks:V,onRefresh:function(){return G()}}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(qa,{searchTerm:C,getConfe:G,conference:i,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(Ua,{searchTerm:C,getVideos:U,videos:b,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)("div",{style:{paddingBottom:"10px"},children:Object(E.jsx)(Ga,{searchTerm:C,getLinks:V,links:f,setOpenEditModal:s,setEditLinks:w})}),Object(E.jsx)(Ja,{getConfe:G,getVideos:U,getLinks:V,editLinks:g,openEditModal:n,setOpenEditModal:s})]})]})]})}function mc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([{}]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(B.useParams)().id,O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)({}),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(!1),A=Object(H.a)(T,2),L=A[0],M=A[1],F=(Object(a.useContext)(D).data.user,function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),!1,e.next=4,(new z).getStudentList(h,false);case 4:(t=e.sent).ok?u(t.data):alert("Something went wrong while fetching all Waiting Student"),M(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){F()}),[]);var P=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.next=3,(new z).getStudentEnrolledList(h,true);case 3:(t=e.sent).ok?m(t.data):alert("Something went wrong while fetching all Waiting Student");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){P()}),[]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!1),M(!0),e.next=5,(new z).uploadClassList(C);case 5:e.sent.ok?(M(!1),P(),I.b.success("Successfully uploaded the class list.")):(M(!1),alert("Something went wrong while uploading class list"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};return Object(E.jsx)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"list"})}),Object(E.jsxs)(ce.a,{sm:9,className:"scrollable vh-85",children:[Object(E.jsx)(se.a,{style:{paddingTop:"15px"},children:Object(E.jsxs)("div",{className:"col-md-12 pages-header fd-row ai-c",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Class List "}),Object(E.jsx)("div",{className:"mb-0",children:Object(E.jsx)(ue.a,{onClick:function(){P(),F()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})}),Object(E.jsxs)(ce.a,{style:{textAlign:"right"},children:[Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(e){e.preventDefault(),s(!1)},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Enrolled"})}),Object(E.jsx)(ue.a,{className:"btn-Enrolled ph-3",onClick:function(e){e.preventDefault(),s(!0)},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Waiting List"})}),Object(E.jsx)(ue.a,{className:"btn-Enrolled",onClick:function(){return N(!0)},size:"lg",variant:"outline-warning",children:Object(E.jsx)("b",{children:"Upload List"})})]})]})}),Object(E.jsx)("div",{className:"row m-b-20",style:{marginTop:"30px"},children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return t=e.target.value,void x(t);var t},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search Student Last Name Here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),!1===n?Object(E.jsx)(fs,{searchTerm:p,getStudentWaiting:F,getStudentEnrolled:P,enrolledStudent:b}):Object(E.jsx)(ps,{searchTerm:p,getStudentEnrolled:P,getStudentWaiting:F,waitingStudent:i}),Object(E.jsxs)(be.a,{size:"lg",show:w,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Class List"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return Y(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,",onChange:function(e){return t=e.target.files[0],void R(t).then((function(e){console.log(t.name);var n={classId:h,data:{base64String:e,fileName:t.name}};S(n)}));var t}})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]}),L&&Object(E.jsx)(ee,{})]})]})})}function hc(){var e=Object(B.useParams)().id,t=Object(a.useState)([]),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=(f[0],f[1]),x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=m.map((function(e){return"/".concat(e.value)})),y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1];Object(a.useEffect)((function(){A("")}),[]);var T=function(){A(N.join(""))},A=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),a={subFolderLocation:n},t.next=4,(new Ct).getClassFiles(e,a);case 4:(s=t.sent).ok?(S(!1),c(s.data.files),d(s.data.folders)):I.b.error("Something went wrong while fetching class files");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)(te,{title:"School",activeHeader:"classes",style:"not-scrollable",loading:C,children:[C&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"files"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsxs)("div",{className:"content-pane-title col-md-10 pages-header",children:[Object(E.jsx)(kn,{type:"Class",title:"Class Files",subFolder:N.join(""),id:e,doneUpload:function(){return T()}}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){return A()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"col-md-12 m-b-20",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return w(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search files here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){return A(""),void h([])},className:0==m.length?"fix-color-bread":"colored-files-bread",children:"Class Files"}),m.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Class"==n&&(N.length=t+1,m.length=t+1,A(N.join("")),p(e))}(e.value,t,"Class")},className:m.length==t+1?"fix-color-bread":"colored-files-bread",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",e.naame]})}))]}),Object(E.jsx)(yn,{filter:g,data:s,subFolder:N.join(""),folders:u,clickedFolder:function(e){return function(e,t){if("Class"==t){var n={naame:e,value:e};m.push(n),A("".concat(N.join(""),"/").concat(e)),p(e)}}(e.name,"Class")},type:"Class",id:e,deleted:function(){return T()}})]})})]})]})}function Oc(){return Object(E.jsx)(te,{title:"School",activeHeader:"classes",children:Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(ac,{active:"exam"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(un,{})})]})})}var fc=function(e){var t=e.setLoading,n=e.onRefresh,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(null),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)([]),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(B.useParams)().id,S=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnit(C);case 3:(n=e.sent).ok?i(n.data):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S()}),[]);var T=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnitPages(C,a);case 3:(s=e.sent).ok?(f(s.data),b(a)):alert(s.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null!==j)return T()}),[]);var A=function(){var e=Object(l.a)(o.a.mark((function e(n,a,s){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),k(!0),e.next=4,(new Oe).getCourseUnitPagesContent(C,a,s);case 4:(c=e.sent).ok?g(c.data):alert("Something went wrong while fetching all courses"),t(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ue.a,{onClick:function(){return k(!1)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Back"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),null===v||void 0===v?void 0:v.pageName,Object(E.jsx)("br",{}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{position:"relative"},dangerouslySetInnerHTML:{__html:null===v||void 0===v?void 0:v.content}})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Learn "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)(Je.a,{children:r.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return T(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:O.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{onClick:function(t){return A(t,j,null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.pageName)},children:null===e||void 0===e?void 0:e.pageName})})})})}))})]})}))})]})})})};var pc=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&(j(!1),r(n.data)),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),console.log("courseInfos:",c),Object(E.jsxs)(te,{title:"Courses",activeHeader:"courses",style:"not-scrollable",loading:d,children:[d&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Learn"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(fc,{courseInfos:c,loading:d,setLoading:j,onRefresh:function(){return b()}})})]})]})};var xc=function(e){var t=e.setLoading,n=e.onRefresh,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(null),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(""),S=Object(H.a)(C,2),T=S[0],A=S[1],I=Object(a.useState)(""),D=Object(H.a)(I,2),L=(D[0],D[1]),M=Object(B.useParams)().id,F=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnit(M);case 3:(n=e.sent).ok?i(n.data):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){F()}),[]);var P=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getDiscussionInformation(a);case 3:(s=e.sent).ok?(f(s.data),b(a)):alert(s.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(null!==j)return P()}),[]),console.log("discussioninfo:",O),Object(E.jsx)(E.Fragment,{children:v?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ue.a,{onClick:function(){return g(!1)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Back"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),y,Object(E.jsx)("br",{}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{position:"relative"},dangerouslySetInnerHTML:{__html:T}}),Object(E.jsx)("br",{})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Discussion "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)(Je.a,{children:r.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return P(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:O.map((function(e){var t;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{onClick:function(){var t,n,a;return function(e,t,n){g(!0),k(e),A(t),L(n)}(null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName,null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.instructions,null===e||void 0===e||null===(a=e.module)||void 0===a?void 0:a.moduleName)},children:null===e||void 0===e||null===(t=e.discussion)||void 0===t?void 0:t.discussionName})})})})}))})]})}))})]})})})};var vc=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&(j(!1),r(n.data)),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsxs)(te,{title:"Courses",activeHeader:"courses",style:"not-scrollable",loading:d,children:[d&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Discussion"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(xc,{setLoading:j,onRefresh:function(){return b()}})})]})]})};var gc=function(e){var t,n,s,c=e.examId,r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useContext)(D).data.user,b=Rt(u),m=b.startDate,h=b.endDate,O=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new We).getExamInformation(c);case 2:(t=e.sent).ok&&d(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(null!==c)return O()}),[]),console.log("examItem:",u),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between ",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{style:{fontSize:36,color:"#707070",margin:0},children:"Exam Information"}),Object(E.jsx)("p",{className:"primary-title",style:{fontSize:24},children:null===u||void 0===u?void 0:u.testName}),Object(E.jsx)("p",{className:"primary-title",style:{fontSize:16},children:null===(t=u.class)||void 0===t?void 0:t.className}),Object(E.jsx)("p",{className:"secondary-title",children:"".concat(u.totalItems," Total Item(s)")}),u.classTest&&Object(E.jsx)("p",{className:"secondary-title mb-2",children:"Time limit: ".concat(null===(n=u.classTest)||void 0===n?void 0:n.timeLimit," minute(s)")}),Object(E.jsx)(Gt,{user:j,exam:u,startDate:m,endDate:h}),Object(E.jsx)("p",{className:"secondary-title mb-2",children:"".concat(u.rawScore," Total Point(s)")}),Object(E.jsx)("p",{className:"secondary-title mb-2",children:"".concat(null===(s=u.questionPartDto)||void 0===s?void 0:s.length," Total Part(s)")})]}),Object(E.jsx)("hr",{})]}),Object(E.jsx)(Je.a,{children:u.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,children:["1",Object(E.jsx)(Je.a.Header,{children:null===e||void 0===e?void 0:e.questionPartDto}),Object(E.jsx)(Je.a.Body,{})]},t)}))})]})};var wc=function(e){var t=e.setLoading,n=e.onRefresh,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(null),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(null),x=Object(H.a)(p,2),v=x[0],g=(x[1],Object(a.useState)(!1)),w=Object(H.a)(g,2),N=w[0],y=(w[1],Object(a.useState)("")),k=Object(H.a)(y,2),C=(k[0],k[1],Object(a.useState)("")),S=Object(H.a)(C,2),T=(S[0],S[1],Object(a.useState)("")),A=Object(H.a)(T,2),I=(A[0],A[1],Object(B.useParams)().id),D=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnit(I);case 3:(n=e.sent).ok?i(n.data):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){D()}),[]);var L=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getExamInformation(a);case 3:(s=e.sent).ok?(f(s.data),b(a)):alert(s.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(null!==j)return L()}),[]),Object(E.jsx)(E.Fragment,{children:N?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(gc,{examId:v})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Exam "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)(Je.a,{children:r.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return L(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:O.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{children:Object(E.jsx)(F.b,{className:"lesson-header",to:"/course/".concat(I,"/exam/").concat(e.id),children:null===e||void 0===e?void 0:e.testName})})})})})}))})]})}))})]})})})};var Nc=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&r(n.data),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsxs)(te,{title:"Exam",activeHeader:"courses",style:"not-scrollable",loading:d,children:[d&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Exam"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(wc,{setLoading:j,onRefresh:function(){return b()}})})]})]})};var yc=function(e){var t=e.setLoading,n=e.onRefresh,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(null),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(""),S=Object(H.a)(C,2),T=S[0],A=S[1],I=Object(B.useParams)().id,D=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnit(I);case 3:(n=e.sent).ok?i(n.data):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){D()}),[]);var L=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getAssignmentInformation(a);case 3:(s=e.sent).ok?(f(s.data),b(a)):alert(s.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(null!==j)return L()}),[]),Object(E.jsx)(E.Fragment,{children:v?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ue.a,{onClick:function(){return g(!1)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Back"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),y,Object(E.jsx)("br",{}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{position:"relative"},dangerouslySetInnerHTML:{__html:T}}),Object(E.jsx)("br",{})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Assignment "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)(Je.a,{children:r.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return L(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:O.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{onClick:function(t){return function(e,t,n){g(!0),k(t),A(n)}(0,null===e||void 0===e?void 0:e.assignmentName,null===e||void 0===e?void 0:e.instructions)},children:null===e||void 0===e?void 0:e.assignmentName})})})})}))})]})}))})]})})})};var kc=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&(j(!1),r(n.data)),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsxs)(te,{title:"Assignment",activeHeader:"courses",style:"not-scrollable",loading:d,children:[d&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Assignment"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(yc,{setLoading:j,onRefresh:function(){return b()}})})]})]})};var Cc=function(e){var t=e.onRefresh,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(null),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(B.useParams)().id,I=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseUnit(A);case 2:(t=e.sent).ok?r(t.data):alert(t.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){I()}),[]);var D=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getTaskInformation(n);case 2:(a=e.sent).ok?(O(a.data),j(n)):alert(a.data.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(null!==d)return D()}),[]),Object(E.jsx)(E.Fragment,{children:x?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ue.a,{onClick:function(){return v(!1)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:"Back"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),N,Object(E.jsx)("br",{}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{style:{position:"relative"},dangerouslySetInnerHTML:{__html:S}}),Object(E.jsx)("br",{})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Task "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return t()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)(Je.a,{children:c.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return D(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:h.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{onClick:function(t){return function(e,t,n){v(!0),y(t),T(n)}(0,null===e||void 0===e?void 0:e.taskName,null===e||void 0===e?void 0:e.instructions)},children:null===e||void 0===e?void 0:e.taskName})})})})}))})]})}))})]})})})};var Sc=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&(j(!1),r(n.data)),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsxs)(te,{title:"Task",activeHeader:"courses",style:"not-scrollable",loading:d,children:[d&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Task"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(Cc,{onRefresh:function(){return b()}})})]})]})};var Tc=function(e){var t=e.setLoading,n=e.onRefresh,s=Object(a.useState)([]),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(null),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(B.useParams)().id,x=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnit(p);case 3:(n=e.sent).ok?i(n.data):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);var v=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getInterActive(a);case 3:(s=e.sent).ok?(f(s.data),b(a)):alert(s.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(null!==j)return v()}),[]),Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row",children:[Object(E.jsx)("p",{className:"title-header",children:"Interactive "}),Object(E.jsx)("div",{className:"mb-3",children:Object(E.jsx)(ue.a,{onClick:function(){return n()},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)(Je.a,{children:r.map((function(e,t){return Object(E.jsxs)(Je.a.Item,{eventKey:t,onClick:function(t){return v(t,null===e||void 0===e?void 0:e.id)},children:[Object(E.jsx)(Je.a.Header,{children:Object(E.jsx)("div",{style:{fontSize:"20px"},children:e.moduleName})}),Object(E.jsx)(Je.a.Body,{children:O.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"title-exam",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{children:Object(E.jsx)("a",{target:"_blank",className:"href-link",href:null===e||void 0===e?void 0:e.path,children:null===e||void 0===e?void 0:e.interactiveName})})})})})}))})]})}))})]})};var Ac=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&r(n.data),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsxs)(te,{title:"Interactive",activeHeader:"courses",style:"not-scrollable",loading:d,children:[d&&Object(E.jsx)(ee,{}),Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Interactive"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(Tc,{setLoading:j,onRefresh:function(){return b()}})})]})]})};var Ic=function(e){var t=e.setLoading,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(null),u=Object(H.a)(i,2),d=(u[0],u[1]),j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(B.useParams)().id,f=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getCourseUnit(O);case 3:(n=e.sent).ok?r(n.data):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var p=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,(new Oe).getFiles(O);case 3:(n=e.sent).ok?(h(n.data),d(O)):alert(n.data.errorMessage),t(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p()}),[]),console.log("modulesmodulesmodules:",c),Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsx)("div",{className:"col-md-10 pages-header",children:Object(E.jsx)("p",{className:"title-header",children:"Files "})}),Object(E.jsxs)(He.a,{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"File Name"}),Object(E.jsx)("th",{children:"Date Modified"})]})}),Object(E.jsx)("tbody",{children:m.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsxs)("a",{target:"_blank",className:"href-link",href:null===e||void 0===e?void 0:e.path_Base,children:[Object(E.jsx)("p",{style:{fontSize:"18px"},children:null===e||void 0===e?void 0:e.fileName})," "]})}),Object(E.jsx)("td",{className:"ellipsis w-25",style:{fontSize:"20px"},children:ge()(e.createdDate).format("LL")})]})})}))})]})]})};var Ec=function(){var e=Object(a.useContext)(D).data.user,t=Object(B.useParams)().id,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)(!0),u=Object(H.a)(i,2),d=u[0],j=u[1],b=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,(new Oe).getCourseInformation(t);case 3:(n=e.sent).ok&&r(n.data),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(E.jsx)(te,{title:"Files",activeHeader:"courses",style:"not-scrollable",loading:d,children:Object(E.jsxs)(se.a,{className:"mt-4 not-scrollable",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Gn,{courseInfos:c,active:"Files"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85",children:Object(E.jsx)(Ic,{setLoading:j})})]})})},Dc=n(42);n(85);function Lc(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),D=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1];Object(a.useEffect)((function(){Y()}),[]);var z=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).resetDefaultPassword(f);case 2:e.sent.ok?(I.b.success("Password reset!"),Y()):I.b.error("Something went wrong while reseting teacher's password."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getAllTeacher();case 2:(t=e.sent).ok?(s(t.data),console.log(t.data)):I.b.error("Something went wrong while fetching exam information"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={currentPassword:k,newPassword:D},e.next=3,(new A).changePassword(B,t);case 3:(n=e.sent).ok?(console.log(n.data),w(!1),I.b.success("Password updated!"),Y(),C(""),L("")):(C(""),L(""),I.b.error((null===(a=n.data)||void 0===a?void 0:a.errorMessage)?null===(s=n.data)||void 0===s?void 0:s.errorMessage:"Something went wrong while changing password."));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"m-t-5",children:"Teachers List"})," | ",Object(E.jsx)("input",{type:"checkbox",id:"cboxspassword",name:"cboxspassword",checked:b,onChange:function(){return m(!b)}}),Object(E.jsx)("label",{className:"form-check-label",for:"cboxspassword",children:"Show passwords"}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,data:n,columns:[{Header:"",columns:[{Header:"Username",id:"username",accessor:function(e){return e.username}},{Header:"Password",id:"password",accessor:b?function(e){return Object(E.jsx)("input",{type:"text",className:"form-control form-control-lg font-16",placeholder:"Password",name:"password",value:e.password,required:!0,disabled:!0})}:function(e){return Object(E.jsx)("input",{type:"password",className:"form-control form-control-lg font-16",placeholder:"Password",name:"password",value:e.password,required:!0,disabled:!0})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"",children:[Object(E.jsx)("button",{onClick:function(){return t=e.original.id,w(!0),void P(t);var t},className:"btn btn-info btn-sm m-r-5",children:"Change Password"}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,console.log(t),u(!0),void p(t);var t},className:"btn btn-warning btn-sm m-r-5",children:"Reset Password"})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return z()},confirmBtnText:"Yes, Reset password!",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"Are you sure? resetting this password!"}),Object(E.jsxs)(be.a,{show:g,onHide:function(){return C(""),L(""),void w(!1)},children:[Object(E.jsx)(be.a.Header,{className:"font-10",closeButton:!0,children:Object(E.jsx)("span",{className:"font-20",children:"Edit Password"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["Current Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)("input",{type:"text",size:"30",className:"form-control",value:k,onChange:function(e){return C(e.target.value)},placeholder:"Current Password",name:"currentPassword",required:""})]}),Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["New Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)("input",{type:"text",size:"30",className:"form-control",value:D,onChange:function(e){return L(e.target.value)},placeholder:"New Password",name:"newPassword",required:""})]})]}),Object(E.jsx)(be.a.Footer,{children:Object(E.jsx)("button",{onClick:function(){return R()},className:"btn btn-sm btn-success",children:"Save"})})]})]})}function Mc(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"schoolTeacher"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Lc,{})})]})})}function Fc(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),D=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1];Object(a.useEffect)((function(){Y()}),[]);var z=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).resetDefaultPassword(f);case 2:e.sent.ok?(I.b.success("Password reset!"),Y()):I.b.error("Something went wrong while reseting teacher's password."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getAllStudents();case 2:(t=e.sent).ok?(s(t.data),console.log(t.data)):I.b.error("Something went wrong while fetching exam information"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={currentPassword:k,newPassword:D},e.next=3,(new A).changePassword(B,t);case 3:(n=e.sent).ok?(console.log(n.data),w(!1),I.b.success("Password updated!"),Y(),C(""),L(""),w(!1)):(C(""),L(""),I.b.error((null===(a=n.data)||void 0===a?void 0:a.errorMessage)?null===(s=n.data)||void 0===s?void 0:s.errorMessage:"Something went wrong while changing password."));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"m-t-5",children:"Students List"})," | ",Object(E.jsx)("input",{type:"checkbox",id:"cboxspassword",name:"cboxspassword",checked:b,onChange:function(){return m(!b)}}),Object(E.jsx)("label",{className:"form-check-label",for:"cboxspassword",children:"Show passwords"}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,data:n,columns:[{Header:"",columns:[{Header:"Username",id:"username",accessor:function(e){return e.username}},{Header:"Password",id:"password",accessor:b?function(e){return Object(E.jsx)("input",{type:"text",className:"form-control form-control-lg font-16",placeholder:"Password",name:"password",value:e.password,required:!0,disabled:!0})}:function(e){return Object(E.jsx)("input",{type:"password",className:"form-control form-control-lg font-16",placeholder:"Password",name:"password",value:e.password,required:!0,disabled:!0})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"",children:[Object(E.jsx)("button",{onClick:function(){return t=e.original.id,w(!0),void P(t);var t},className:"btn btn-info btn-sm m-r-5",children:"Change Password"}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,console.log(t),u(!0),void p(t);var t},className:"btn btn-warning btn-sm m-r-5",children:"Reset Password"})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return z()},confirmBtnText:"Yes, Reset password!",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"Are you sure? resetting this password!"}),Object(E.jsxs)(be.a,{show:g,onHide:function(){return w(!1),C(""),void L("")},children:[Object(E.jsx)(be.a.Header,{className:"font-10",closeButton:!0,children:Object(E.jsx)("span",{className:"font-20",children:"Edit Password"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["Current Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)("input",{type:"text",size:"30",className:"form-control",value:k,onChange:function(e){return C(e.target.value)},placeholder:"Current Password",name:"currentPassword",required:""})]}),Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["New Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)("input",{type:"text",size:"30",className:"form-control",value:D,onChange:function(e){return L(e.target.value)},placeholder:"New Password",name:"newPassword",required:""})]})]}),Object(E.jsx)(be.a.Footer,{children:Object(E.jsx)("button",{onClick:function(){return R()},className:"btn btn-sm btn-success",children:"Save"})})]})]})}function Bc(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"students"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Fc,{})})]})})}function Hc(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),D=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1];Object(a.useEffect)((function(){Y()}),[]);var z=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).resetDefaultPassword(f);case 2:e.sent.ok?(I.b.success("Password reset!"),Y()):I.b.error("Something went wrong while reseting teacher's password."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getSchoolAdmin();case 2:(t=e.sent).ok?(s(t.data),console.log(t.data)):I.b.error("Something went wrong while fetching exam information"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={currentPassword:k,newPassword:D},e.next=3,(new A).changePassword(B,t);case 3:(n=e.sent).ok?(console.log(n.data),w(!1),I.b.success("Password updated!"),Y(),C(""),L("")):(C(""),L(""),I.b.error((null===(a=n.data)||void 0===a?void 0:a.errorMessage)?null===(s=n.data)||void 0===s?void 0:s.errorMessage:"Something went wrong while changing password."));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"m-t-5",children:"School Admins List"})," | ",Object(E.jsx)("input",{type:"checkbox",id:"cboxspassword",name:"cboxspassword",checked:b,onChange:function(){return m(!b)}}),Object(E.jsx)("label",{className:"form-check-label",for:"cboxspassword",children:"Show passwords"}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,data:n,columns:[{Header:"",columns:[{Header:"Username",id:"username",accessor:function(e){return e.username}},{Header:"Password",id:"password",accessor:b?function(e){return Object(E.jsx)("input",{type:"text",className:"form-control form-control-lg font-16",placeholder:"Password",name:"password",value:e.password,required:!0,disabled:!0})}:function(e){return Object(E.jsx)("input",{type:"password",className:"form-control form-control-lg font-16",placeholder:"Password",name:"password",value:e.password,required:!0,disabled:!0})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"",children:[Object(E.jsx)("button",{onClick:function(){return t=e.original.id,w(!0),void P(t);var t},className:"btn btn-info btn-sm m-r-5",children:"Change Password"}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,console.log(t),u(!0),void p(t);var t},className:"btn btn-warning btn-sm m-r-5",children:"Reset Password"})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return z()},confirmBtnText:"Yes, Reset password!",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"Are you sure? resetting this password!"}),Object(E.jsxs)(be.a,{show:g,onHide:function(){return C(""),L(""),void w(!1)},children:[Object(E.jsx)(be.a.Header,{className:"font-10",closeButton:!0,children:Object(E.jsx)("span",{className:"font-20",children:"Edit Password"})}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["Current Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)("input",{type:"text",size:"30",className:"form-control",value:k,onChange:function(e){return C(e.target.value)},placeholder:"Current Password",name:"currentPassword",required:""})]}),Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["New Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)("input",{type:"text",size:"30",className:"form-control",value:D,onChange:function(e){return L(e.target.value)},placeholder:"New Password",name:"newPassword",required:""})]})]}),Object(E.jsx)(be.a.Footer,{children:Object(E.jsx)("button",{onClick:function(){return R()},className:"btn btn-sm btn-success",children:"Save"})})]})]})}function Pc(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"schooladmins"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Hc,{})})]})})}function zc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=(t[0],t[1]),s=Object(a.useContext)(D).data.user,c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)([])),m=Object(H.a)(b,2),h=(m[0],m[1],Object(a.useState)(!1)),O=Object(H.a)(h,2),f=(O[0],O[1],Object(a.useState)(!1)),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(""),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)([]),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)([]),L=Object(H.a)(A,2),M=L[0],F=L[1],B=Object(a.useState)(""),P=Object(H.a)(B,2),Y=(P[0],P[1]),R=Object(a.useState)([]),q=Object(H.a)(R,2),G=(q[0],q[1],Object(a.useState)([])),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(""),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(""),X=Object(H.a)(K,2),$=X[0],ee=X[1],te=Object(a.useState)({}),ne=Object(H.a)(te,2),ae=(ne[0],ne[1],V.map((function(e){return"/".concat(e.value)})));ae.shift();var se=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(new z).getClasses(null===s||void 0===s||null===(t=s.teacher)||void 0===t?void 0:t.id);case 3:(a=e.sent).ok?(n(!1),u(a.data)):(n(!1),I.b.error("Something went wrong while fetching all classes"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e){"Class"==e&&ie(N,ae.join(""))};Object(a.useEffect)((function(){se()}),[]),Object(a.useEffect)((function(){if(s.isStudent)return window.location.href="/404"}),[]);var ie=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={subFolderLocation:n},e.next=3,(new Ct).getClassFiles(t,a);case 3:(s=e.sent).ok?(T(s.data.files),F(s.data.folders)):I.b.error("Something went wrong while fetching class files.");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(E.jsx)(qe,{children:Object(E.jsx)(ce.a,{className:"mt-5 scrollable pb-3 vh-85",children:Object(E.jsx)("div",{className:"content-pane",children:Object(E.jsx)(ce.a,{children:x?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(kn,{type:"Class",title:"Class Files",id:N,subFolder:ae.join(""),doneUpload:function(){return re("Class")}}),Object(E.jsx)("div",{className:"col-md-12 m-b-20",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large",onChange:function(e){return W(e.target.value)},"aria-describedby":"inputGroup-sizing-sm",placeholder:"Search files here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){return v(!1),void _([])},className:0==V.length?"fix-color-bread":"colored-files-bread",children:"Class Files"}),V.map((function(e,t){return Object(E.jsxs)("span",{className:V.length==t+1?"fix-color-bread":"colored-files-bread",onClick:function(){return function(e,t,n){"Class"==n&&(ae.length=t,V.length=t+1,ie(N,ae.join("")),Y(e))}(e.value,t,"Class")},children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))]}),Object(E.jsx)(yn,{filter:Z,data:S,subFolder:ae.join(""),folders:M,clickedFolder:function(e){return function(e,t,n){if("Class"==n){var a={naame:t,value:t};V.push(a),ie(e,"".concat(ae.join(""),"/").concat(t)),Y(t)}}(N,e.name,"Class")},type:"Class",id:N,deleted:function(){return re("Class")}})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("p",{className:"title-header",children:"Class Files "})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return ee(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search files here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)("div",{children:Object(E.jsx)("span",{style:{color:"#7D7D7D",fontSize:"20px",paddingLeft:"15px"},children:"Class Files"})}),i.filter((function(e){return e.className.toLowerCase().includes($.toLowerCase())})).map((function(e,t){return Object(E.jsx)("div",{className:"colored-class",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{paddingLeft:"20px"},children:Object(E.jsx)("i",{class:"fas fa-folder"})}),Object(E.jsx)("div",{style:{paddingLeft:"15px"},children:Object(E.jsxs)("p",{className:"mb-0",onClick:function(){return function(e){var t={naame:e.className,value:""};V.push(t),y(e.classId),ie(e.classId,""),v(!0)}(e)},children:[e.className," "]})})]})},e.className)}))]})})})})})}function Yc(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=(t[0],t[1]),s=Object(a.useContext)(D).data.user,c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)([]),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)([]),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=(T[0],T[1]),I=Object(a.useState)([]),L=Object(H.a)(I,2),M=L[0],F=L[1],B=Object(a.useState)(""),P=Object(H.a)(B,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=M.map((function(e){return"/".concat(e.value)}));V.shift();var _=Object(a.useState)(!0),J=Object(H.a)(_,2),Q=J[0],Z=J[1],W=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(new Oe).getCourses();case 3:(t=e.sent).ok?(n(!1),u(t.data)):(n(!1),alert("Something went wrong while fetching all courses"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(t),A(n),a={subFolderLocation:n},e.next=5,(new Ct).getCourseFiles(t,a);case 5:(s=e.sent).ok?(w(s.data.files),C(s.data.folders)):alert("Something went wrong while fetching Course files.");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(t);case 2:if(!(n=e.sent).ok){e.next=14;break}if(a=n.data.isTechfactors,console.log(n.data,"infoooooooooooooooooo",a),!a){e.next=14;break}return e.next=9,(new Oe).getContributor(t);case 9:c=e.sent,console.log(c,"--------------------------------"),r=c.data.find((function(e){var t;return(null===(t=e.userInformation)||void 0===t?void 0:t.userId)==s.userId})),console.log(r,s.userId,"-=-=-="),Z(!!r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e){"Course"==e&&K(f,V.join(""))};Object(a.useEffect)((function(){W()}),[]),Object(a.useEffect)((function(){if(s.isStudent)return window.location.href="/404"}),[]);return Object(E.jsx)(qe,{children:Object(E.jsx)(ce.a,{className:"mt-5 scrollable pb-3 vh-85",children:Object(E.jsx)("div",{className:"content-pane",children:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ce.a,{children:b?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(kn,{type:"Course",title:"Course Files",id:f,subFolder:V.join(""),doneUpload:function(){return $("Course")}}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return Y(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search File here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)("p",{style:{fontSize:"20px"},children:[Object(E.jsx)("span",{onClick:function(){return m(!1),void F([])},className:0==M.length?"fix-color-bread":"colored-files-bread",children:"Course Files"}),M.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Course"==n&&(V.length=t,M.length=t+1,K(f,V.join("")),A(e))}(e.value,t,"Course")},className:M.length==t+1?"fix-color-bread":"colored-files-bread",children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))]}),Q?Object(E.jsx)(yn,{filter:z,data:g,folders:k,subFolder:V.join(""),clickedFolder:function(e){return function(e,t,n){if("Course"==n){var a={naame:t,value:t};M.push(a),K(e,"".concat(V.join(""),"/").concat(t))}}(f,e.name,"Course")},type:"Course",id:f,deleted:function(){return $("Course")}}):Object(E.jsx)("p",{children:"No files to display."})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("p",{className:"title-header",children:"Course Files "})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return U(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search files here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)("div",{children:Object(E.jsx)("span",{style:{color:"#7D7D7D",fontSize:"20px",paddingLeft:"15px"},children:"Course Files"})}),i.filter((function(e){return e.courseName.toLowerCase().includes(G.toLowerCase())})).map((function(e,t){return console.log(e),e.status&&Object(E.jsx)("div",{className:"colored-class",children:Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("div",{style:{paddingLeft:"20px"},children:Object(E.jsx)("i",{class:"fas fa-folder"})}),Object(E.jsx)("div",{style:{paddingLeft:"15px"},children:Object(E.jsxs)("p",{className:"mb-0",onClick:function(){return function(e){var t={naame:e.courseName,value:""};M.push(t),p(e.id),K(e.id,""),m(!0)}(e)},children:[e.courseName," "]})})]})})}))]})})})})})})}var Rc=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getTemplates=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Grade/template",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.createTemplate=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Grade/template",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N);function qc(e){var t=e.index,n=e.field,a=e.setCustomFieldLabel,s=e.setCustomFieldValue,c=e.deleteItemByIndex;return Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:Object(E.jsx)("input",{type:"text",placeholder:"Input label",value:n.label,onChange:function(e){return a(t,e.target.value)}})}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:n.value,onChange:function(e){return s(t,e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger",onClick:function(){return c(t)},children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]},t)}var Gc=function(e,t){return t.templateTypes.reduce((function(t,n){return console.log({item:n}),n.description===e?t+n.percentage:t+0}),0)};function Uc(){var e=Object(a.useContext)(D),t=Object(a.useState)(),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)([]),f=Object(H.a)(O,2),p=f[0],x=f[1],v=e.data.user,g=Object(a.useState)(!0),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(null),C=Object(H.a)(k,2),S=C[0],T=C[1],A=parseFloat(s||"0")+parseFloat(u||"0")+parseFloat(m||"0")+parseFloat(p.reduce((function(e,t){return e+parseFloat(t.value||"0")}),0)||"0"),L=function(e,t){var n=Object(Te.a)(p);n[e].label=t,x(n)},M=function(e,t){if(t.length<3){var n=Object(Te.a)(p);n[e].value=t,x(n)}},F=function(e){var t=Object(Te.a)(p);t.splice(e,1),x(t)};console.log({gradingTemplate:S}),Object(a.useEffect)((function(){y(!0),(new Rc).getTemplates().then((function(e){if(e.ok){var t=e.data[e.data.length-1];T(t),c(Gc("Test",t)),d(Gc("Assignment",t)),h(Gc("Task",t)),x(t.templateTypes.filter((function(e){return"Assignment"!==e.description&&"Test"!==e.description&&"Task"!==e.description})).map((function(e){return{label:e.description,value:e.percentage}})))}else I.b.error("Something went wrong while fetching grading template");y(!1)}))}),[]);var B=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={template:{description:"template"},templateTypes:[{description:"Test",percentage:s},{description:"Assignment",percentage:u},{description:"Task",percentage:m}].concat(Object(Te.a)(p.map((function(e){return{description:e.label,percentage:e.value}}))))},console.log({data:t}),n=!0,a=[],100!==A&&(a.push("Total must be 100%"),n=!1),t.templateTypes.forEach((function(e){n&&(""===e.percentage&&(a.push("All percentage must be filled"),n=!1),""===e.description&&(a.push("All description must be filled"),n=!1))})),n){e.next=9;break}return a.forEach((function(e){return I.b.error(e)})),e.abrupt("return");case 9:return y(!0),e.next=12,(new Rc).createTemplate(t);case 12:e.sent.ok?I.b.success("Successfully created grading template"):I.b.error("Something went wrong while creating grading template"),y(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v.isSchoolAdmin?Object(E.jsxs)(te,{title:"Grading System",activeHeader:"grading",children:[N&&Object(E.jsx)(ee,{}),Object(E.jsxs)("div",{className:"rounded-white-container mt-4",children:[Object(E.jsx)("h2",{className:"primary-color ",children:"Grading Component Template"}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsxs)(ce.a,{className:"",sm:6,lg:4,children:[Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Exam"}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:s,onChange:function(e){return e.target.value.length<3&&c(e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger ",disabled:!0,children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]}),Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Assignment"}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:u,onChange:function(e){return e.target.value.length<3&&d(e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger ",disabled:!0,children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]}),Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Tasks"}),Object(E.jsx)("div",{className:"grading-field-value ",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:m,onChange:function(e){return e.target.value.length<3&&h(e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger ",disabled:!0,children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]}),p.map((function(e,t){return Object(E.jsx)(qc,{index:t,field:e,setCustomFieldLabel:L,setCustomFieldValue:M,deleteItemByIndex:F},t)})),Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-button",onClick:function(){return x((function(e){return[].concat(Object(Te.a)(e),[{label:"",value:""}])}))},children:"+ Add"}),Object(E.jsx)("div",{className:"grading-field-value bg-white",style:{flex:1}})]})]}),Object(E.jsx)(ce.a,{className:"",sm:6,lg:4,children:Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Total"}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"text",value:"".concat(A,"%"),readOnly:!0})})]})})]}),Object(E.jsx)("div",{style:{textAlign:"right"},children:Object(E.jsx)("button",{className:"btn btn-primary btn-lg grading-next-btn",onClick:B,children:"Save"})})]})]}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}var Vc=n(99),_c=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getTerms=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Grade/term",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),e.createTerm=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Grade/term",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateTerm=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Grade/term/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteTerm=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Grade/term/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N);function Jc(){var e,t=Object(a.useState)(!0),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(H.a)(j,2),h=b[0],O=b[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(null),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(Vc.a)(),C=k.register,S=k.handleSubmit,T=k.reset,A=k.setValue,D=k.formState.errors;Object(a.useEffect)((function(){L()}),[]);var L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new _c).getTerms();case 3:(t=e.sent).ok?d(t.data):I.b.error("Something went wrong while fetching terms"),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),null==N){e.next=8;break}return e.next=4,(new _c).updateTerm(N.id,t);case 4:e.sent.ok?(I.b.success("Successfully Updated Term"),L(),T(),O(!1),y(null)):I.b.error("Something went wrong while updating the term"),e.next=12;break;case 8:return e.next=10,(new _c).createTerm(t);case 10:(n=e.sent).ok?(I.b.success("Successfully Created Term"),L(),T(),O(!1)):I.b.error(n.data.errorMessage);case 12:c(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),v(!1),e.next=4,(new _c).deleteTerm(t);case 4:e.sent.ok?(I.b.success("Successfully Deleted Term"),L()):I.b.error("Something went wrong while deleting terms"),y(null),c(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[s&&Object(E.jsx)(ee,{}),Object(E.jsx)(Dc.a,{pageCount:100,list:u,filterable:!0,data:u,columns:[{Header:"",columns:[{Header:"Term",id:"term",accessor:function(e){return e.description}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{style:{textAlign:"center"},className:"",children:[Object(E.jsx)("button",{onClick:function(){A("description",e.original.description),y(e.original),O(!0)},className:"btn btn-info btn-sm m-r-5",children:"Edit"}),Object(E.jsx)("button",{onClick:function(){y(e.original),v(!0)},className:"btn btn-danger btn-sm m-r-5",children:"Delete"})]})}}]}],csv:!0,edited:u,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)("button",{class:"btn btn-primary px-5 mt-3",onClick:function(){return O(!0)},children:"Create new term"}),Object(E.jsx)(oe.a,{showCancel:!0,show:x,onConfirm:function(){return F(N.id)},confirmBtnText:"Confirm",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"secondary",title:"Are you sure to delete this term?",onCancel:function(){return v(!1)}}),Object(E.jsx)(be.a,{show:h,onHide:function(){return O(!1),void y(null)},children:Object(E.jsxs)("form",{onSubmit:S(M),children:[Object(E.jsx)(be.a.Header,{className:"font-10",closeButton:!0,children:Object(E.jsx)("span",{className:"font-20",children:null!=N?"Update ".concat(N.description):"Create term"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)("div",{className:"col-md-12 m-b-15",children:[Object(E.jsx)("label",{className:"control-label mb-2",children:"Term name"}),Object(E.jsx)("input",Object(m.a)(Object(m.a)({},C("description",{required:"Term name is required"})),{},{type:"text",size:"30",className:"form-control",placeholder:"Enter text here"})),Object(E.jsx)("p",{className:"text-danger",children:null===(e=D.description)||void 0===e?void 0:e.message})]})}),Object(E.jsx)(be.a.Footer,{children:null!=N?Object(E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Save"}):Object(E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Term"})})]})})]})}function Qc(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"terms"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Jc,{})})]})})}var Zc=function(){var e=Object(B.useParams)().id,t=Object(a.useContext)(D).data.user,n=Object(a.useState)(!0),s=Object(H.a)(n,2),c=(s[0],s[1]),r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=t.subsType;Object(a.useEffect)((function(){b(),"LMS"!=j&&(window.location.href="/classes")}),[]);var b=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(new _c).getTerms();case 3:(t=e.sent).ok?d(t.data):I.b.error("Something went wrong while fetching terms"),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsx)("h1",{class:"exam-title",children:"Terms"}),Object(E.jsx)("ul",{class:"list-group",children:u.map((function(t){return Object(E.jsx)("li",{class:"list-group-item",children:Object(E.jsx)(F.b,{to:"/classes/".concat(e,"/class_grading/").concat(t.id),children:t.description})})}))})]})};function Wc(e){var t=e.index,n=e.field,a=e.setCustomFieldLabel,s=e.setCustomFieldValue,c=e.deleteItemByIndex;return Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:Object(E.jsx)("input",{type:"text",placeholder:"Input label",value:n.label,onChange:function(e){return a(t,e.target.value)}})}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:n.value,onChange:function(e){return s(t,e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger",onClick:function(){return c(t)},children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]},t)}var Kc=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getTemplate=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/grade/term/").concat(a,"/template"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.createTemplate=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/grade/term/").concat(a,"/template"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/assignment"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTasks=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/task"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTest=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/test"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getInteractive=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/interactive"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStudents=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/student/status/true"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.assignActivity=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/grade/term/").concat(a,"/template/type/").concat(s,"/activity"),method:"POST",data:c}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),e.getAssignedActivity=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(n,"/grade/term/").concat(a,"/template/type/").concat(s,"/activity"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e}return n}(N);function Xc(e){var t=e.index,n=e.item,s=(e.setGradingTemplate,Object(a.useState)("")),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(B.useParams)(),N=w.id,y=w.term_id,k=Object(a.useState)([]),C=Object(H.a)(k,2),S=C[0],T=C[1],A=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,(new Kc).getAssignedActivity(N,y,n.id);case 3:(t=e.sent).ok?(console.log({assignedActivities:t}),T(t.data)):I.b.error("Something went wrong while fetching assigned activity"),g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){A()}),[]);var D=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Kc).getAssignment(N);case 2:(t=e.sent).ok?(console.log({assignment:t.data}),f(t.data.filter((function(e){return null!=e.classAssignment})).map((function(e){return{id:e.classAssignment.id,name:e.assignment.assignmentName}})))):I.b.error("Error getting assignment"),g(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Kc).getTasks(N);case 2:(t=e.sent).ok?(console.log({tasks:t.data}),f(t.data.filter((function(e){return null!=e.taskAssignment})).map((function(e){return{id:e.taskAssignment.id,name:e.task.taskName}})))):I.b.error("Error getting tasks"),g(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Kc).getTest(N);case 2:(t=e.sent).ok?(console.log({test:t.data}),f(t.data.filter((function(e){return null!=e.classTest})).map((function(e){return{id:e.classTest.id,name:e.test.testName}})))):I.b.error("Error getting test"),g(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Kc).getInteractive(N);case 2:(t=e.sent).ok?(console.log({interactive:t.data}),f(t.data.filter((function(e){return null!=e.classInteractiveAssignment})).map((function(e){return{id:e.classInteractiveAssignment.id,name:e.interactive.interactiveName}})))):I.b.error("Error getting interactive"),g(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),t=[{activityType:r,referenceId:j}],e.next=4,(new Kc).assignActivity(N,y,n.id,t);case 4:e.sent.ok?(I.b.success("Activity added"),A()):I.b.error("Activity have already been added"),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("td",{className:"option-selection",children:[Object(E.jsxs)("div",{className:"position-relative option-selection-form-container",children:[v&&Object(E.jsx)(ee,{}),Object(E.jsxs)("select",{onChange:function(e){g(!0);var t=e.target.value;switch(i(t),b(""),f([]),console.log({value:t}),t){case"2":D();break;case"3":L();break;case"4":M();break;case"5":F();break;default:g(!1)}},children:[Object(E.jsx)("option",{value:"",children:"- Select type of activity here -"}),Object(E.jsx)("option",{value:"2",children:" Assignment"}),Object(E.jsx)("option",{value:"3",children:" Task"}),Object(E.jsx)("option",{value:"4",children:" Test"}),Object(E.jsx)("option",{value:"5",children:" Interactive"})]}),""!==r&&Object(E.jsxs)("select",{className:"d-block mx-auto",onChange:function(e){return b(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"- Select activity here -"}),O&&O.map((function(e,t){return Object(E.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==j&&Object(E.jsx)("button",{className:"btn btn-primary btn-sm",onClick:P,children:"Add activity"})]}),Object(E.jsx)("div",{children:S&&S.map((function(e,t){return Object(E.jsx)("p",{children:"".concat(e.activityName," - ").concat(e.activityType)})}))})]},t)}function $c(){var e=Object(a.useContext)(D),t=Object(B.useParams)(),n=t.id,s=t.term_id,c=Object(B.useHistory)(),r=Object(a.useState)(),i=Object(H.a)(r,2),u=i[0],d=(i[1],Object(a.useState)()),j=Object(H.a)(d,2),b=j[0],m=(j[1],Object(a.useState)()),h=Object(H.a)(m,2),O=h[0],f=(h[1],Object(a.useState)([])),p=Object(H.a)(f,2),x=p[0],v=(p[1],e.data.user),g=Object(a.useState)(!0),w=Object(H.a)(g,2),N=(w[0],w[1]),y=Object(a.useState)(null),k=Object(H.a)(y,2),C=k[0],S=k[1],T=v.subsType,A=(parseFloat(u||"0"),parseFloat(b||"0"),parseFloat(O||"0"),parseFloat(x.reduce((function(e,t){return e+parseFloat(t.value||"0")}),0)||"0"),function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,(new Kc).getTemplate(n,s);case 3:if(t=e.sent,console.log({getTemplateResponse:t}),!t.ok){e.next=11;break}if(0!==t.data.length){e.next=8;break}return e.abrupt("return",c.push("/classes/".concat(n,"/class_grading/").concat(s,"/new")));case 8:S(t.data[0]),e.next=12;break;case 11:I.b.error("Error getting grading template");case 12:N(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return console.log({gradingTemplate:C}),Object(a.useEffect)((function(){A(),"LMS"!=T&&(window.location.href="/classes")}),[]),v.isTeacher?Object(E.jsxs)(_n,{title:"Grading System",fluid:!0,activeHeader:"classes",children:[Object(E.jsx)(Jn,{title:"Grading Component",clicked:function(){return c.push("/classes/".concat(n,"/class_grading"))}}),Object(E.jsxs)("div",{className:"rounded-white-container container-fluid mt-4",children:[Object(E.jsx)("h2",{className:"primary-color ",children:"Grading Component"}),Object(E.jsxs)("table",{className:"grading-table",children:[Object(E.jsx)("thead",{children:Object(E.jsx)("tr",{children:C&&C.classGradeTypes.map((function(e,t){return Object(E.jsxs)("th",{scope:"col",children:[Object(E.jsx)("p",{className:"",children:e.description}),Object(E.jsxs)("p",{className:"",children:[e.percentage||0,"%"]})]},t)}))})}),Object(E.jsx)("tbody",{children:Object(E.jsx)("tr",{children:C&&C.classGradeTypes.map((function(e,t){return Object(E.jsx)(Xc,{index:t,item:e,setGradingTemplate:S},t)}))})})]}),Object(E.jsx)(F.b,{to:"/classes/".concat(n,"/class_grading/").concat(s,"/computation"),className:"btn btn-primary rounded-pill",children:"COMPUTE"})]})]}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}var er=function(e,t){return t.templateTypes.reduce((function(t,n){return console.log({item:n}),n.description===e?t+n.percentage:t+0}),0)};function tr(){var e=Object(a.useContext)(D),t=Object(B.useParams)(),n=t.id,s=t.term_id,c=Object(B.useHistory)(),r=Object(a.useState)(),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(H.a)(v,2),w=g[0],N=g[1],y=e.data.user,k=Object(a.useState)(!0),C=Object(H.a)(k,2),S=(C[0],C[1]),T=Object(a.useState)(null),A=Object(H.a)(T,2),L=(A[0],A[1]),M=y.subsType,F=parseFloat(u||"0")+parseFloat(m||"0")+parseFloat(p||"0")+parseFloat(w.reduce((function(e,t){return e+parseFloat(t.value||"0")}),0)||"0"),P=function(e,t){var n=Object(Te.a)(w);n[e].label=t,N(n)},z=function(e,t){if(t.length<3){var n=Object(Te.a)(w);n[e].value=t,N(n)}},Y=function(e){var t=Object(Te.a)(w);t.splice(e,1),N(t)},R=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,(new Kc).getTemplate(n,s);case 3:if(t=e.sent,console.log({getTemplateResponse:t}),!t.ok){e.next=11;break}if(!(t.data.length>0)){e.next=8;break}return e.abrupt("return",c.push("/classes/".concat(n,"/class_grading/").concat(s)));case 8:(new Rc).getTemplates().then((function(e){if(e.ok){var t=e.data[e.data.length-1];L(t),d(er("Test",t)),h(er("Assignment",t)),x(er("Task",t)),N(t.templateTypes.filter((function(e){return"Assignment"!==e.description&&"Test"!==e.description&&"Task"!==e.description})).map((function(e){return{label:e.description,value:e.percentage}})))}else I.b.error("Something went wrong while fetching grading template");S(!1)})),e.next=11;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){R(),"LMS"!=M&&(window.location.href="/classes")}),[]);var q=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={classGradeTypes:[{description:"Test",percentage:u},{description:"Assignment",percentage:m},{description:"Task",percentage:p}].concat(Object(Te.a)(w.map((function(e){return{description:e.label,percentage:e.value}}))))},console.log({data:t}),a=!0,r=[],100!==F&&(r.push("Total must be 100%"),a=!1),t.classGradeTypes.forEach((function(e){a&&(""===e.percentage&&(r.push("All percentage must be filled"),a=!1),""===e.description&&(r.push("All description must be filled"),a=!1))})),a){e.next=9;break}return r.forEach((function(e){return I.b.error(e)})),e.abrupt("return");case 9:return S(!0),e.next=12,(new Kc).createTemplate(n,s,t);case 12:e.sent.ok?(I.b.success("Successfully created grading template"),c.push("/classes/".concat(n,"/class_grading/").concat(s))):I.b.error("Something went wrong while creating grading template"),S(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y.isTeacher?Object(E.jsxs)(_n,{title:"Grading System",activeHeader:"grading",children:[Object(E.jsx)(Jn,{title:"New Class Grading",clicked:function(){return c.push("/classes/".concat(n,"/class_grading"))}}),Object(E.jsxs)("div",{className:"rounded-white-container mt-4",children:[Object(E.jsx)("h2",{className:"primary-color ",children:"Create New Grading Component"}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsxs)(ce.a,{className:"",sm:6,lg:6,children:[Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Exam"}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:u,onChange:function(e){return e.target.value.length<3&&d(e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger ",disabled:!0,children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]}),Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Assignment"}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:m,onChange:function(e){return e.target.value.length<3&&h(e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger ",disabled:!0,children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]}),Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Tasks"}),Object(E.jsx)("div",{className:"grading-field-value ",children:Object(E.jsx)("input",{type:"number",placeholder:"0%",value:p,onChange:function(e){return e.target.value.length<3&&x(e.target.value)}})}),Object(E.jsx)("div",{className:"",children:Object(E.jsx)("button",{className:"btn btn-danger ",disabled:!0,children:Object(E.jsx)("i",{class:"fas fa-trash"})})})]}),w.map((function(e,t){return Object(E.jsx)(Wc,{index:t,field:e,setCustomFieldLabel:P,setCustomFieldValue:z,deleteItemByIndex:Y},t)})),Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-button",onClick:function(){return N((function(e){return[].concat(Object(Te.a)(e),[{label:"",value:""}])}))},children:"+ Add"}),Object(E.jsx)("div",{className:"grading-field-value bg-white",style:{flex:1}})]})]}),Object(E.jsx)(ce.a,{className:"",sm:6,lg:6,children:Object(E.jsxs)("div",{className:"grading-field",children:[Object(E.jsx)("div",{className:"grading-field-label",children:"Total"}),Object(E.jsx)("div",{className:"grading-field-value",children:Object(E.jsx)("input",{type:"text",value:"".concat(F,"%"),readOnly:!0})})]})})]}),Object(E.jsx)("div",{style:{textAlign:"right"},children:Object(E.jsx)("button",{className:"btn btn-primary btn-lg grading-next-btn",onClick:q,children:"Save"})})]})]}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}n(788);var nr=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).computeActivity=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Class/".concat(a,"/grade/term/").concat(s,"/template/type/").concat(c,"/student/").concat(n,"/activity"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,s){return t.apply(this,arguments)}}(),e.computeAssignment=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/assignment/").concat(s,"/answer"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.computeTasks=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/task/").concat(s,"/answer"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.computeTests=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Student/".concat(n,"/class/").concat(a,"/test/").concat(s,"/answer"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e}return n}(N);function ar(e){var t=e.assignedActivities,n=e.student,s=(e.termId,e.gradeTypeId,Object(B.useParams)().id,Object(a.useState)(0)),c=Object(H.a)(s,2),r=(c[0],c[1]),i=Object(a.useState)([]),u=Object(H.a)(i,2),d=u[0],j=(u[1],function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Computing total",t),n=0,t.forEach(function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.activityType,e.next="Test"===e.t0?3:"Assignment"===e.t0?5:"Task"===e.t0?7:"Interactive"===e.t0?9:11;break;case 3:case 5:case 7:case 9:return n+=0,e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){console.log({student:n}),j()}),[t]),console.log({assignedActivities:t});var b=t.reduce((function(e,t){return e+t.score}),0);t.length;return Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,height:"100%"},children:[Object(E.jsx)("div",{style:{flex:1},children:t&&t.map((function(e,t){return console.log({item:e,answers:d}),Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",flex:1},children:[Object(E.jsx)("div",{style:{marginLeft:12,paddingLeft:12,borderLeft:"1px solid black",width:40},children:e.score}),Object(E.jsx)("div",{children:"".concat(e.activityName,"  ")})]},t)}))}),Object(E.jsxs)("div",{style:{fontWeight:"bold",borderTop:"1px solid #BCBCBC",marginTop:20,paddingTop:20},children:["TOTAL: ",b]})]})}function sr(e){var t=e.index,n=e.item,s=e.student,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)(),j=d.id,b=d.term_id,m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),console.log("gradetypeid"),console.log({item:n}),e.next=5,(new Kc).getAssignedActivity(j,b,n.id);case 5:if(t=e.sent,a=t.data,!t.ok){e.next=17;break}return console.log({assignedActivities:a}),e.next=11,(new nr).computeActivity(s.id,j,b,n.id);case 11:t=e.sent,console.log("Computing task score"),t.ok?(console.log({computed:t.data}),a=a.map((function(e,n){var a=t.data.filter((function(t){return t.activityId===e.classGradeGroup.referenceId})).reduce((function(e,t){return e+t.scores}),0);return e.score=a,e})),console.log({tempAssignedActivity:a})):alert("Something went wrong while computing the activity"),f(a),e.next=18;break;case 17:I.b.error("Something went wrong while fetching assigned activity");case 18:u(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p()}),[]),Object(E.jsxs)("td",{style:{height:1},className:"option-selection-computation position-relative",children:[i&&Object(E.jsx)(ee,{}),Object(E.jsx)(ar,{assignedActivities:O,student:s,termId:b,gradeTypeId:n.id})]},t)}function cr(){var e=Object(a.useContext)(D),t=Object(B.useParams)(),n=t.id,s=t.term_id,c=Object(B.useHistory)(),r=Object(a.useState)(),i=Object(H.a)(r,2),u=i[0],d=(i[1],Object(a.useState)()),j=Object(H.a)(d,2),b=j[0],m=(j[1],Object(a.useState)()),h=Object(H.a)(m,2),O=h[0],f=(h[1],Object(a.useState)([])),p=Object(H.a)(f,2),x=p[0],v=(p[1],e.data.user),g=Object(a.useState)(!0),w=Object(H.a)(g,2),N=(w[0],w[1]),y=Object(a.useState)(null),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)([]),A=Object(H.a)(T,2),L=A[0],M=A[1],F=v.subsType,P=(parseFloat(u||"0"),parseFloat(b||"0"),parseFloat(O||"0"),parseFloat(x.reduce((function(e,t){return e+parseFloat(t.value||"0")}),0)||"0"),function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,(new Kc).getStudents(n);case 3:t=e.sent,console.log({getTemplateResponse:t}),t.ok&&(console.log({student:t.data}),M(t.data.students)),N(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),z=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,(new Kc).getTemplate(n,s);case 3:if(t=e.sent,console.log({getTemplateResponse:t}),!t.ok){e.next=11;break}if(0!==t.data.length){e.next=8;break}return e.abrupt("return",c.push("/classes/".concat(n,"/class_grading/").concat(s,"/new")));case 8:S(t.data[0]),e.next=12;break;case 11:I.b.error("Error getting grading template");case 12:N(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log({gradingTemplate:C}),Object(a.useEffect)((function(){z(),P(),"LMS"!=F&&(window.location.href="/classes")}),[]),v.isTeacher?Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"Grading Component",secondItem:"Computation",clickedSecond:function(){return c.push("/classes/".concat(n,"/class_grading/").concat(s))},clicked:function(){return c.push("/classes/".concat(n,"/class_grading"))}}),Object(E.jsxs)("div",{className:"rounded-white-container container-fluid mt-4",children:[Object(E.jsx)("h2",{className:"primary-color ",children:"Grading Component --"}),Object(E.jsxs)("table",{className:"grading-table",children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Students"}),C&&C.classGradeTypes.map((function(e,t){return Object(E.jsxs)("th",{className:"",scope:"col",children:[Object(E.jsx)("p",{className:"",children:e.description}),Object(E.jsxs)("p",{className:"",children:[e.percentage||0,"%"]})]},t)}))]})}),Object(E.jsx)("tbody",{children:L.map((function(e,t){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"option-selection-computation student",children:"".concat(e.fname," ").concat(e.lname)}),C&&C.classGradeTypes.map((function(t,n){return Object(E.jsx)(sr,{index:n,item:t,student:e,setGradingTemplate:S},n)}))]})}))})]})]})]}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}function rr(e){var t=e.openCreateVideoModal,n=(e.setCreateVideoModal,e.setVideoInfo,e.setOpenCreateVideoModal),s=Object(a.useState)(!1),c=Object(H.a)(s,2),r=(c[0],c[1]),i=Object(a.useState)([]),u=Object(H.a)(i,2),d=(u[0],u[1],Object(a.useState)("")),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)([]),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],D=T[1],L=(Object(B.useParams)().id,sessionStorage.getItem("courseid")),M=sessionStorage.getItem("moduleid"),F=function(e){e.preventDefault()},P=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),e.next=4,(new z).createVideo(L,M,{title:g,sequenceNo:f,fileName:b+A,base64String:k});case 4:(n=e.sent).ok?(F(t),Y()):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){return I.b.success("Video Saved!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},R=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};return Object(a.useEffect)((function(){}),[]),Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:t,onHide:function(){return n(!t)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create Video"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:P,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Video Name"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter video name",onChange:function(e){return w(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"File Name"}),Object(E.jsxs)(de.a,{className:"mb-4",children:[Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter filename",onChange:function(e){return m(e.target.value)}}),Object(E.jsx)(de.a.Text,{style:{width:70},children:A})]})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Upload Video"}),Object(E.jsx)(me.a.Control,{className:"",accept:"video/mp4,video/x-m4v,video/*",type:"file",style:{backgroundColor:"inherit"},onChange:function(e){return t=e.target.files[0],console.log(t),void(""!=t&&R(t).then((function(e){console.log(t.name);var n=t.name.split(".").pop();D(".".concat(n)),C(e)})));var t}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence No"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter sequence number",onChange:function(e){return p(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save"})})]})})]})})}function ir(e){var t=e.setVideoInfo,n=e.openEditVideoModal,s=e.setOpenEditVideoModal,c=e.selectedVideo,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=(i[0],i[1]),d=Object(a.useState)([]),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid")),w=function(e){e.preventDefault(),s(!1)},N=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(!0),e.next=4,(new Oe).editVideo(null===c||void 0===c?void 0:c.id,{title:h,sequenceNo:x});case 4:(n=e.sent).ok?(w(t),k(),y(null,g)):I.b.error(n.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(new Oe).getVideoInformation(a);case 3:s=e.sent,u(!1),s.ok?t(s.data):alert("Something went wrong while fetching all discussion");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){null!==c&&(O(null===c||void 0===c?void 0:c.title),v(null===c||void 0===c?void 0:c.sequenceNo))}),[c]);var k=function(){return I.b.success("Video Updated!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:n,onHide:function(){return s(!n)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Video Info"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:N,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Video Name"}),Object(E.jsx)(me.a.Control,{defaultValue:null===c||void 0===c?void 0:c.title,className:"custom-input",size:"lg",type:"text",placeholder:"Enter video name",onChange:function(e){return O(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Sequence No"}),Object(E.jsx)(me.a.Control,{defaultValue:null===c||void 0===c?void 0:c.sequenceNo,className:"custom-input",size:"lg",type:"text",placeholder:"Enter Sequence No",onChange:function(e){return v(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save"})})]})})]})})}function or(e){var t=e.selectedVideo,n=(e.setShowVideo,Object(a.useState)(!1)),c=Object(H.a)(n,2),r=(c[0],c[1],sessionStorage.getItem("modulename"));return console.log(t),Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:null===t||void 0===t?void 0:t.title}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"course-subtitle",children:Object(E.jsx)("small",{children:r})}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:t.fileName}}),Object(E.jsx)("div",{children:Object(E.jsx)(Hn.a,{playing:!0,controls:!0,url:t.path})})]})}function lr(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(!1),c=Object(H.a)(s,2),r=c[0],i=c[1],u=Object(a.useState)(!1),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(null),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)([]),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(!1),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(""),S=Object(H.a)(C,2),T=S[0],A=(S[1],Object(a.useState)("")),L=Object(H.a)(A,2),M=(L[0],L[1]),F=Object(a.useState)(""),P=Object(H.a)(F,2),Y=P[0],R=P[1],q=Object(a.useState)([]),G=Object(H.a)(q,2),U=G[0],V=G[1],_=Object(B.useParams)().id,J=Object(a.useState)(!1),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(""),X=Object(H.a)(K,2),$=X[0],ee=X[1],te=Object(a.useContext)(D).data.user.subsType,ne=(sessionStorage.getItem("courseid"),sessionStorage.getItem("moduleid"),function(){var e=Object(l.a)(o.a.mark((function e(t,a,s){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s){e.next=10;break}return n(!0),M(s),sessionStorage.setItem("moduleid",s),e.next=7,(new Oe).getVideoInformation(a,s);case 7:c=e.sent,n(!1),c.ok?g(c.data):alert("Something went wrong while fetching all task");case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),ae=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(new z).getClassUnit(_);case 3:a=e.sent,n(!1),a.ok?(V(a.data),console.log(a.data,"herrrrerreer")):alert("Something went wrong while fetching course unit");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){k(!1)},ie=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),sessionStorage.getItem("moduleid"),e.next=4,(new z).deleteVideo(_,T);case 4:a=e.sent,n(!1),a.ok?ue():alert(a.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){R(e)};Object(a.useEffect)((function(){ae(),"LMS"!=te&&(window.location.href="/classes")}),[]);var ue=function(){return I.b.error("Video Deleted!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:$,clicked:function(){return ee(""),void W(!1)}}),Z?Object(E.jsx)(or,{selectedVideo:O,showVideos:Z,setShowVideos:W}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"content-pane-title",children:"Video"}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:le,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search unit or video here",type:"search",onChange:function(e){return le(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)(ir,{setVideoInfo:g,selectedVideo:O,openEditVideoModal:j,setOpenEditVideoModal:b}),Object(E.jsx)(rr,{setVideoInfo:g,openCreateVideoModal:r,setOpenCreateVideoModal:i}),Object(E.jsx)(Je.a,{defaultActiveKey:"0",children:null===U||void 0===U?void 0:U.map((function(e,t){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Je.a.Item,{eventKey:e.id,children:[Object(E.jsx)(Je.a.Header,{onClick:function(t){ne(t,e.courseId,e.id)},children:Object(E.jsx)("span",{className:"unit-title",children:e.moduleName})}),Object(E.jsxs)(Je.a.Body,{children:[v.filter((function(e){return e.title.toLowerCase().includes(Y.toLowerCase())})).map((function(e,t){return Object(E.jsx)(se.a,{style:{margin:"10px"},children:Object(E.jsx)(ce.a,{className:"lesson-header",md:9,children:Object(E.jsx)("span",{onClick:function(t){var n;ee((n=e).title),f(n),W(!0)},children:null===e||void 0===e?void 0:e.title})})})})),Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:y,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return function(e){ie(e),k(!1)}(e.id)},onCancel:re,focusCancelBtn:!0,children:"You will not be able to recover this Video!"})]})]})})}))})]})]})}function ur(e){var t=e.studentCount,n=Object(a.useContext)(D),c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=h[1],p=n.data.user,x=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new z).getClasses(p.isTeacher?null===p||void 0===p||null===(t=p.teacher)||void 0===t?void 0:t.id:null===p||void 0===p||null===(n=p.student)||void 0===n?void 0:n.id);case 3:a=e.sent,i(!1),a.ok?b(a.data):alert("Something went wrong while fetching all getClasses"),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getCoursesTeacher(null===p||void 0===p||null===(t=p.teacher)||void 0===t?void 0:t.id);case 3:n=e.sent,i(!1),n.ok?f(n.data.courses):alert("Something went wrong while fetching all getClasses"),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null===(null===p||void 0===p?void 0:p.student))return x(),v()}),[]);var g=j.length,w=O.length;return Object(E.jsx)(s.a.Fragment,{children:Object(E.jsxs)("div",{className:"dashboard-content mb-5 mt-3",children:[Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-white",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-user-graduate "})}),Object(E.jsx)("h5",{className:"color-black my-0 ml-5",children:"Students"})]}),Object(E.jsx)("h2",{className:"color-secondary analytics-value h2 text-align-right",children:t})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-white",children:[Object(E.jsxs)("div",{className:"analytics-label",style:{color:"#EE9337"},children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-chalkboard-teacher "})}),Object(E.jsx)("h5",{className:"color-black my-0 ml-5",children:"Courses"})]}),Object(E.jsx)("h2",{className:"color-black analytics-value h2 text-align-right",children:w})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-white",children:[Object(E.jsxs)("div",{className:"analytics-label",style:{color:"#EE9337"},children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-project-diagram "})}),Object(E.jsx)("h5",{className:"color-black my-0 ml-5",children:"Classes"})]}),Object(E.jsx)("h2",{className:"color-black analytics-value h2 text-align-right",children:g})]})]})})}function dr(e){var t,n=e.studentClasses,c=e.teacherClasses,r=Object(a.useContext)(D),i=Object(a.useState)(!1),u=Object(H.a)(i,2),d=(u[0],u[1]),j=Object(a.useState)([]),b=Object(H.a)(j,2),m=(b[0],b[1]),h=Object(a.useState)(""),O=Object(H.a)(h,2),f=O[0],p=O[1],x=r.data.user,v=(null===x||void 0===x||null===(t=x.student)||void 0===t||t.id,function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(new z).getClasses(x.isTeacher?null===x||void 0===x||null===(t=x.teacher)||void 0===t?void 0:t.id:null===x||void 0===x||null===(n=x.student)||void 0===n?void 0:n.id);case 3:a=e.sent,d(!1),a.ok?m(a.data):alert("Something went wrong while fetching all getClasses"),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),g=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).fetchAcademicTerm();case 2:(t=e.sent).ok&&(n=t.data,a=localStorage.getItem("academicTerm"),s=n.find((function(e){return!0===e.isCurrentTerm})),null===a&&(p(a||s.academicTermName),localStorage.setItem("academicTerm",s.academicTermName)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=localStorage.getItem("academicTerm");if(p(e),g(),null===(null===x||void 0===x?void 0:x.student))return v()}),[]),Object(E.jsx)(s.a.Fragment,{children:Object(E.jsxs)("div",{className:"dash-side-panel",children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsx)("div",{className:"dash-title-header",children:"My Classes"})}),Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)("div",{className:"dash-view-all",children:Object(E.jsx)(F.b,{to:"/classes",children:"View all"})})})]}),(null===x||void 0===x?void 0:x.isTeacher)&&Object(E.jsx)(E.Fragment,{children:c.length?c.slice(0,8).map((function(e){return e.termName==f&&Object(E.jsx)(s.a.Fragment,{children:Object(E.jsx)("div",{className:"dash-content",children:Object(E.jsx)(F.b,{to:"/classescontent/".concat(e.classId,"/feed"),children:null===e||void 0===e?void 0:e.className})})})})):Object(E.jsx)("span",{children:"No Classes Found"})}),(null===x||void 0===x?void 0:x.student)&&Object(E.jsx)(E.Fragment,{children:n.length?n.slice(0,8).map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"dash-content",children:Object(E.jsx)(F.b,{to:"/classescontent/".concat(e.classId,"/feed"),children:null===e||void 0===e?void 0:e.className})})})})):Object(E.jsx)("span",{children:"No Classes Found"})})]})})}function jr(){var e,t,n=Object(a.useContext)(D),c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=d[0],b=d[1],m=n.data.user,h=(null===m||void 0===m||null===(e=m.student)||void 0===e||e.id,function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new Oe).getCoursesTeacher(null===m||void 0===m||null===(t=m.teacher)||void 0===t?void 0:t.id);case 3:n=e.sent,i(!1),n.ok?b(n.data):alert("Something went wrong while fetching all getcourses"),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){if(null===(null===m||void 0===m?void 0:m.student))return h()}),[]),Object(E.jsx)(s.a.Fragment,{children:Object(E.jsxs)("div",{className:"dash-side-panel",children:[Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{sm:9,children:Object(E.jsx)("div",{className:"dash-title-header",children:"My Courses"})}),Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)("div",{className:"dash-view-all",children:Object(E.jsx)(F.b,{to:"/courses",children:"View all"})})})]}),(null===j||void 0===j||null===(t=j.courses)||void 0===t?void 0:t.length)?j.courses.slice(0,8).map((function(e){return Object(E.jsx)(s.a.Fragment,{children:Object(E.jsx)("div",{className:"dash-content",children:Object(E.jsx)(F.b,{to:"coursecontent/".concat(e.id,"/learn"),children:null===e||void 0===e?void 0:e.courseName})})})})):Object(E.jsx)("span",{children:"No courses Found"})]})})}function br(e){var t,n=e.setStudentCount,c=Object(a.useContext)(D),r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=(i[0],i[1]),d=Object(a.useState)([]),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=(O[0],O[1]),p=Object(a.useState)([]),x=Object(H.a)(p,2),v=x[0],g=x[1],w=c.data.user,N=null===w||void 0===w||null===(t=w.student)||void 0===t?void 0:t.id,y=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,s,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(new z).getClasses(w.isTeacher?null===w||void 0===w||null===(t=w.teacher)||void 0===t?void 0:t.id:null===w||void 0===w||null===(a=w.student)||void 0===a?void 0:a.id);case 3:s=e.sent,u(!1),s.ok?(m(s.data),c=s.data,r=0,c.map((function(e){r+=e.classEnrolledCount})),n(r),console.log(r,"-=-=-=-=-=-=-=-=-=-= test")):alert("Something went wrong while fetching all getClasses"),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(new Oe).getCoursesTeacher(null===w||void 0===w||null===(t=w.teacher)||void 0===t?void 0:t.id);case 3:n=e.sent,u(!1),n.ok?(f(n.data),console.log(n.data)):alert("Something went wrong while fetching all getClasses"),u(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null===(null===w||void 0===w?void 0:w.student))return y(),k()}),[]);var C=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,(new z).getClassesStudent(N);case 3:t=e.sent,u(!1),t.ok?g(t.data):alert("Something went wrong while fetching all getClassesStudent");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null===(null===w||void 0===w?void 0:w.teacher))return C()}),[]);var S=v.length;return Object(E.jsxs)(s.a.Fragment,{children:[(null===w||void 0===w?void 0:w.isStudent)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"dashboard-content mb-2",children:Object(E.jsxs)("div",{className:"dashboard-content-item rounded  bg-white",children:[Object(E.jsxs)("div",{className:"analytics-label",style:{color:"#EE9337"},children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-project-diagram "})}),Object(E.jsx)("h5",{className:"color-black my-0 ml-5",children:"Classes"})]}),Object(E.jsx)("h2",{className:"color-black analytics-value h2 text-align-right",children:S})]})})}),Object(E.jsx)(dr,{studentClasses:v,teacherClasses:b,setStudentCount:n}),(null===w||void 0===w?void 0:w.isTeacher)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(jr,{})})]})}var mr=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getAllAnnouncement=function(t){return e.sendRequest({path:"/api/Announcement/user",method:"GET"})},e.getMyAnnouncement=function(t){return e.sendRequest({path:"/api/Announcement",method:"GET"})},e.createAnnouncementForClasses=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/type/".concat(n),method:"POST",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteAnnouncement=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateAnnouncement=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Announcement/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(N);function hr(){var e=Object(a.useContext)(D).data.user,t=null===e||void 0===e?void 0:e.userId,n=Object(a.useState)([]),s=Object(H.a)(n,2),c=s[0],r=s[1],i=(Object(B.useParams)().id,Object(a.useState)([])),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)([]),h=Object(H.a)(b,2),O=h[0],f=h[1],p=null===O||void 0===O?void 0:O.map((function(e){return"/".concat(null===e||void 0===e?void 0:e.value)}));Object(a.useEffect)((function(){x("")}),[]),console.log("useruser123:",t);var x=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={subFolderLocation:n},e.next=3,(new Ct).getAddminFiles(t,a);case 3:(s=e.sent).ok?(r(null===s||void 0===s||null===(c=s.data)||void 0===c?void 0:c.files),j(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.folders)):alert("Something went wrong while fetching Course files.1111");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){navigator.clipboard.writeText(e),I.b.success("File link copied to clipboard.")};return Object(E.jsxs)("div",{children:[Object(E.jsx)(Tt,{type:"AdminFiles",title:"Files",id:t,subFolder:p.join(""),doneUpload:function(){return x()}}),Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{onClick:function(){x(""),f([])},className:0!=O.length?"colored-class-task":"fix-color-bread",children:"Files"}),null===O||void 0===O?void 0:O.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t){p.length=t+1,O.length=t+1,x(p.join(""))}(null===e||void 0===e||e.value,t)},className:O.length==t+1?"fix-color-bread":"colored-class-task",children:["  ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})," ",null===e||void 0===e?void 0:e.name]})}))]}),null===c||void 0===c?void 0:c.map((function(e,t){var n;return console.log(e),Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:e.name}))},children:(null===e||void 0===e||null===(n=e.pathBase)||void 0===n?void 0:n.match(/.(jpg|jpeg|png|gif|pdf)$/i))?Object(E.jsx)("img",{src:null===e||void 0===e?void 0:e.pathBase.replace("http:","https:"),onClick:function(){return v(null===e||void 0===e?void 0:e.pathBase)},className:"p-1",alt:null===e||void 0===e?void 0:e.name,height:30,width:30},t+(null===e||void 0===e?void 0:e.name)):Object(E.jsx)("i",{className:"fas fa-sticky-note",onClick:function(){return v(null===e||void 0===e?void 0:e.pathBase)},style:{paddingRight:5}})})})),null===d||void 0===d?void 0:d.map((function(e){return Object(E.jsx)(re.a,{placement:"bottom",delay:{show:1,hide:0},overlay:function(t){return Object(E.jsx)(ne.a,Object(m.a)(Object(m.a)({id:"button-tooltip"},t),{},{children:null===e||void 0===e?void 0:e.name}))},children:Object(E.jsx)("i",{className:"fas fa-folder-open",onClick:function(){return function(e){var t={name:e,value:e};O.push(t),f(O),x("".concat(p.join(""),"/").concat(e))}(null===e||void 0===e?void 0:e.name)},title:"",style:{height:30,width:30}})})}))]})}function Or(e){var t=e.getMyAnnouncement,n=e.setOpenCreateAnnouncementModal,s=e.openCreateAnnouncementModal,c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)(""),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)(""),h=Object(H.a)(m,2),O=h[0],f=h[1],p=Object(a.useState)(""),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useContext)(D),N=Object(a.useState)(!1),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(!1),T=Object(H.a)(S,2),A=T[0],L=T[1],M=(w.data.user,function(){var e=Object(l.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),L(!0),setTimeout((function(){return L(!1)}),1e3),""!==O){e.next=7;break}I.b.error("Please insert all the required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=13;break;case 7:return i(!0),e.next=10,(new mr).createAnnouncementForClasses(j,{title:O,content:v});case 10:(a=e.sent).ok?(F(),B(),t()):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=function(){I.b.success("Successfully created announcement",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},B=function(){n(!1),g(""),f(""),b(""),C(!1)};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:s,onHide:function(){return B()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Create an Announcement"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:M,children:[Object(E.jsx)("div",{className:k?"mb-3":"d-none",children:Object(E.jsx)(hr,{})}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"subjectArea",children:"Type"}),Object(E.jsxs)(me.a.Select,{size:"lg",onChange:function(e){return b(e.target.value)},children:[Object(E.jsx)("option",{children:"Select type..."}),Object(E.jsx)("option",{value:1,children:"All teacher"}),Object(E.jsx)("option",{value:2,children:"All student"}),Object(E.jsx)("option",{value:0,children:"All"})]})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Title"}),Object(E.jsx)(me.a.Control,{className:"custom-input",size:"lg",type:"text",placeholder:"Enter title announcement here",onChange:function(e){return f(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Content"}),Object(E.jsx)(Ea,{value:v,placeholder:"Enter Announcement here",onChange:function(e){return g(e)}})]})," ",Object(E.jsxs)("span",{style:{float:"right"},children:[Object(E.jsx)(ue.a,{className:"tficolorbg-button tficolorbg-button",onClick:function(){return C(!k)},children:"File Library"}),"\xa0",Object(E.jsx)(ue.a,{disabled:A,className:"tficolorbg-button",type:"submit",children:"Save Announcement"})]})]})})]})})}function fr(e){var t=e.getMyAnnouncement,n=e.title,s=e.setTitle,c=e.content,r=e.setContent,i=e.announcementId,u=e.openEditAnnoncementModal,d=e.setOpenEditAnnouncementModal,j=Object(a.useState)(!1),b=Object(H.a)(j,2),m=b[0],h=b[1],O=function(){d(!1),h(!1),r(""),s("")},f=function(){var e=Object(l.a)(o.a.mark((function e(a){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,(new mr).updateAnnouncement(i,{title:n,content:c});case 3:(l=e.sent).ok?(p(),s(""),r(""),t(),O()):I.b.error(l.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){I.b.success("Successfully updated announcement",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsx)("div",{children:Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:u,onHide:function(){return O()},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit an Announcement"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:f,children:[Object(E.jsx)("div",{className:m?"mb-3":"d-none",children:Object(E.jsx)(hr,{})})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Title"}),Object(E.jsx)(me.a.Control,{defaultValue:n,className:"custom-input",size:"lg",type:"text",placeholder:"Enter title announcement here",onChange:function(e){return s(e.target.value)}})]})," ",Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Content"}),Object(E.jsx)(Ea,{value:c,placeholder:"Enter Announcement here",onChange:function(e){return r(e)}})]})," ",Object(E.jsxs)("span",{style:{float:"right"},children:[Object(E.jsx)(ue.a,{className:"tficolorbg-button tficolorbg-button",onClick:function(){return h(!m)},children:"File Library"}),"\xa0",Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Announcement"})]})]})})]})})}var pr=function(e){var t=e.viewContent,n=e.viewTitle,a=e.viewDate,s=e.ViewAnnoncementModal,c=e.setViewAnnouncementModal;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(be.a,{size:"lg",show:s,onHide:function(){return c(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:Object(E.jsx)(se.a,{children:Object(E.jsx)(ce.a,{sm:10,className:"due-date-discusstion",style:{width:"auto",fontSize:"20px"},children:Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"dash-view-title",children:n}),Object(E.jsxs)("div",{className:"dash-view-date",children:["\xa0\xa0 ",ge()(a).format("ll"),"\xa0"]})]})})})})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsx)("div",{className:"text-color-707070",children:Object(E.jsx)(rt,{children:t})})})]})})},xr=n(112),vr=n.n(xr);var gr=function(e){var t=e.handleViewAnnoncement,n=e.announcement,s=e.searchTerm,c=Object(a.useState)(0),r=Object(H.a)(c,2),i=r[0],o=r[1],l=10*i,u=(n.slice(l,l+10).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"dash-title",children:null===e||void 0===e?void 0:e.title}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-date",children:Object(E.jsxs)("small",{children:[null===e||void 0===e?void 0:e.announcedBy," . ",ge()(null===e||void 0===e?void 0:e.createdDate).format("LL")]})}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-content",children:null===e||void 0===e?void 0:e.content}),Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(F.b,{to:"#",onClick:function(n){return t(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.createdDate)},children:" ...Read more "})}),Object(E.jsx)("br",{}),Object(E.jsx)("hr",{})]})})),Math.ceil(n.length/10));return console.log("displayAnnouncement:",n),Object(E.jsxs)(E.Fragment,{children:[n.slice(l,l+10).filter((function(e){return""==s||(null===e||void 0===e?void 0:e.title.toLowerCase().includes(s.toLocaleLowerCase()))?e:void 0})).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"dash-title",children:null===e||void 0===e?void 0:e.title}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-date",children:Object(E.jsxs)("small",{children:[null===e||void 0===e?void 0:e.announcedBy," . ",ge()(null===e||void 0===e?void 0:e.createdDate).format("LL")]})}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-content",children:Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.content.substring(0,70)})}),Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(F.b,{to:"#",onClick:function(n){return t(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.createdDate)},children:" ...Read more "})}),Object(E.jsx)("br",{}),Object(E.jsx)("hr",{})]})})),Object(E.jsx)(vr.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:u,onPageChange:function(e){var t=e.selected;o(t)},containerClassName:"paginationBtns",previousLinkClassName:"previousBtns",nextLinkClassName:"nextBtns",disabledClassName:"paginationDisabled",activeClassName:"paginationAcitve"})]})};function wr(){var e,t,n=Object(a.useContext)(D),c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=(r[0],r[1]),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)([]),h=Object(H.a)(m,2),O=h[0],f=(h[1],Object(a.useState)(!1)),p=Object(H.a)(f,2),x=(p[0],p[1],Object(a.useState)(!1)),v=Object(H.a)(x,2),g=(v[0],v[1],Object(a.useState)(!1)),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)("")),T=Object(H.a)(S,2),A=(T[0],T[1],Object(a.useState)("")),I=Object(H.a)(A,2),L=(I[0],I[1],Object(a.useState)("")),M=Object(H.a)(L,2),B=M[0],P=M[1],z=Object(a.useState)(""),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)(),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(0),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(2),X=Object(H.a)(K,2),$=X[0],ee=(X[1],10*Z),te=n.data.user,ne=(null===te||void 0===te||null===(e=te.student)||void 0===e||e.id,Object(a.useState)("")),ae=Object(H.a)(ne,2),re=ae[0],ie=ae[1],oe=(j.slice(ee,ee+10).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"dash-title",children:null===e||void 0===e?void 0:e.title}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-date",children:Object(E.jsxs)("small",{children:[null===e||void 0===e?void 0:e.announcedBy," . ",ge()(null===e||void 0===e?void 0:e.createdDate).format("LL")]})}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-content",children:null===e||void 0===e?void 0:e.content}),Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(F.b,{to:"#",onClick:function(){return le(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.createdDate)},children:" ...Read more "})}),Object(E.jsx)("br",{}),Object(E.jsx)("hr",{})]})})),Math.ceil(j.length/10)),le=function(e,t,n){P(e),q(t),_(n),y(!0)},ue=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,(new mr).getAllAnnouncement();case 3:t=e.sent,i(!1),t.ok?b(t.data):alert("Something went wrong while fetching all getcourses"),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null===(null===te||void 0===te?void 0:te.student))return ue()}),[]),Object(a.useEffect)((function(){if(null===(null===te||void 0===te?void 0:te.teacher))return ue()}),[]),console.log("myAnnouncement:",O);return console.log("teacherId:",null===te||void 0===te||null===(t=te.teacher)||void 0===t?void 0:t.id),Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsxs)("div",{className:"dash-side-panel",children:[Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:11,children:[Object(E.jsx)("div",{className:"dash-title-header",children:"Announcements"}),Object(E.jsx)("div",{className:"dash-link-btn",children:(null===te||void 0===te?void 0:te.isTeacher)&&Object(E.jsx)(E.Fragment,{})}),Object(E.jsx)("br",{})]}),Object(E.jsx)(ce.a,{sm:1,children:(null===te||void 0===te?void 0:te.isTeacher)&&Object(E.jsx)(E.Fragment,{})}),Object(E.jsxs)("div",{className:"col-md-12",children:[Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return t=e.target.value,void ie(t);var t},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search announcement here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]}),Object(E.jsx)("br",{})]})]}),(null===te||void 0===te?void 0:te.isTeacher)&&Object(E.jsx)(E.Fragment,{children:j.length?2===$?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(gr,{searchTerm:re,handleViewAnnoncement:le,announcement:j})}):Object(E.jsx)(E.Fragment,{}):Object(E.jsx)("span",{children:"No Announcement"})}),(null===te||void 0===te?void 0:te.isStudent)&&Object(E.jsx)(E.Fragment,{children:j.length?Object(E.jsxs)(E.Fragment,{children:[j.slice(ee,ee+10).filter((function(e){return""==re||(null===e||void 0===e?void 0:e.title.toLowerCase().includes(re.toLocaleLowerCase()))?e:void 0})).map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"dash-title",children:null===e||void 0===e?void 0:e.title}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-date",children:Object(E.jsxs)("small",{children:[null===e||void 0===e?void 0:e.announcedBy," . ",ge()(null===e||void 0===e?void 0:e.createdDate).format("LL")]})}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-content",children:Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.content.substring(0,350)})}),Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(F.b,{to:"#",onClick:function(t){return le(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.createdDate)},children:" ...Read more "})}),Object(E.jsx)("br",{}),Object(E.jsx)("hr",{})]})})),Object(E.jsx)("br",{}),Object(E.jsx)(vr.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:oe,onPageChange:function(e){var t=e.selected;W(t)},containerClassName:"paginationBtns",previousLinkClassName:"previousBtns",nextLinkClassName:"nextBtns",disabledClassName:"paginationDisabled",activeClassName:"paginationAcitve"})]}):Object(E.jsx)("span",{children:"No Announcement "})})]}),Object(E.jsx)(pr,{viewDate:V,viewTitle:B,viewContent:R,ViewAnnoncementModal:N,setViewAnnouncementModal:y})]})}function Nr(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)(0),n=Object(H.a)(t,2),s=n[0],c=n[1];return Object(E.jsxs)(te,{fluid:!0,title:"Teacher Dashboard",activeHeader:"teacherdashboard",children:[(null===e||void 0===e?void 0:e.isTeacher)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{sm:12,children:Object(E.jsx)(ur,{studentCount:s})}),Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:1}),Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(br,{setStudentCount:c})}),Object(E.jsx)(ce.a,{sm:7,children:Object(E.jsx)(wr,{})})]})]}),(null===e||void 0===e?void 0:e.isStudent)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:1}),Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(br,{})}),Object(E.jsx)(ce.a,{sm:7,children:Object(E.jsx)(wr,{})})]})})]})}var yr=n(270);function kr(){return Object(E.jsx)("div",{children:"Scratch"})}var Cr=n(273),Sr=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).fetchEvents=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n,"/feed"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N),Tr=Object(Cr.b)(ge.a);function Ar(){var e=Object(a.useState)(!1),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useContext)(D).data.user,j=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(new Sr).fetchEvents(null===d||void 0===d?void 0:d.userId);case 3:(t=e.sent).ok?(n=t.data.map((function(e){return{start:new Date(e.startDate),end:new Date(e.endDate),title:e.title}})),console.log({tempEvents:n}),u(n)):I.b.error("Something went wrong while fetching events"),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),Object(E.jsx)(te,{activeHeader:"classes",loading:n,children:Object(E.jsx)("div",{className:"page-container",children:Object(E.jsx)("div",{className:"containerpages",children:Object(E.jsx)("div",{className:"calendar-view",children:Object(E.jsx)(Cr.a,{localizer:Tr,dayLayoutAlgorithm:"no-overlap",events:i,startAccessor:"start",endAccessor:"end",defaultView:"month",onSelectEvent:function(e){return console.log("You click ".concat(e.title))}})})})})})}var Ir=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(0),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(2),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(""),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(!1),L=Object(H.a)(A,2),M=L[0],F=L[1],B=Object(a.useState)(""),P=Object(H.a)(B,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(""),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)(!1),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(!1),ee=Object(H.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),re=Object(H.a)(ae,2),ie=re[0],le=re[1],be=10*i,me=Object(a.useContext)(D).data.user,he=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new mr).getMyAnnouncement();case 2:(t=e.sent).ok?(n=t.data.sort((function(e,t){return t.id-e.id})),s(n)):alert("Something went wrong while fetching all getcourses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null===(null===me||void 0===me?void 0:me.student)&&null===(null===me||void 0===me?void 0:me.teacher))return he()}),[]);var Oe=function(e,t,n){O(e),v(t),y(n),T(!0)},fe=function(e,t,n){Y(e),U(t),Q(n),F(!0)},pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new mr).deleteAnnouncement(t);case 2:(n=e.sent).ok?(ve(),he(),ne(!1)):alert(null===(a=n.data)||void 0===a?void 0:a.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(e){ne(!0),Q(e)},ve=function(){I.b.success("Successfully deleted announcement",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},we=Math.ceil(n.length/10);return n.slice(be,be+10).map((function(e){var t;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"dash-title",children:null===e||void 0===e?void 0:e.title}),Object(E.jsxs)("div",{className:"inline-flex",style:(t={paddingTop:"20px"},Object(ka.a)(t,"paddingTop","6px"),Object(ka.a)(t,"float","right"),t),children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return fe(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-pencil-alt"}),"\xa0 "]})}),Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return xe(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"far fa-trash-alt"}),"\xa0 "]})})]}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-date",children:Object(E.jsxs)("small",{children:[null===e||void 0===e?void 0:e.announcedBy," . ",ge()(null===e||void 0===e?void 0:e.createdDate).format("LL")]})}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-content",children:null===e||void 0===e?void 0:e.content}),Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(Vt.Link,{to:"#",onClick:function(t){return Oe(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.createdDate)},children:" ...Read more "})}),Object(E.jsx)("br",{}),Object(E.jsx)("hr",{})]})})),console.log("myAnnouncement:",n),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(oe.a,{warning:!0,showCancel:!0,show:te,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){return pe(J)},onCancel:function(){ne(!1)},focusCancelBtn:!0,children:"You will not be able to recover this Announcement!"}),Object(E.jsxs)("div",{className:"rounded-white-container",children:[Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{sm:11,children:[Object(E.jsx)("div",{className:"dash-title-header",children:"Announcements"}),Object(E.jsx)("div",{className:"dash-link-btn"}),Object(E.jsx)("br",{})]}),Object(E.jsx)(ce.a,{sm:1,children:Object(E.jsx)(ue.a,{variant:"link",className:"btn-create-class",onClick:function(e){e.preventDefault(),X(!0)},children:Object(E.jsx)("i",{className:"fa fa-plus"})})}),Object(E.jsxs)("div",{className:"col-md-12",children:[Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return t=e.target.value,void le(t);var t},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search announcement here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]}),Object(E.jsx)("br",{})]})]}),n.slice(be,be+10).filter((function(e){return""==ie||(null===e||void 0===e?void 0:e.title.toLowerCase().includes(ie.toLocaleLowerCase()))?e:void 0})).map((function(e){var t;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"dash-title",children:null===e||void 0===e?void 0:e.title}),Object(E.jsxs)("div",{className:"inline-flex",style:(t={paddingTop:"20px"},Object(ka.a)(t,"paddingTop","6px"),Object(ka.a)(t,"float","right"),t),children:[Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return fe(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"fas fa-pencil-alt"}),"\xa0 "]})}),Object(E.jsx)("div",{style:{color:"#EE9337",fontSize:"18px",paddingTop:"4px"},children:Object(E.jsxs)(ue.a,{onClick:function(){return xe(null===e||void 0===e?void 0:e.id)},className:"m-r-5 color-white tficolorbg-button",size:"sm",children:[Object(E.jsx)("i",{class:"far fa-trash-alt"}),"\xa0 "]})})]}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-date",children:Object(E.jsxs)("small",{children:[null===e||void 0===e?void 0:e.announcedBy," . ",ge()(null===e||void 0===e?void 0:e.createdDate).format("LL")]})}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"dash-content",children:Object(E.jsx)(rt,{children:null===e||void 0===e?void 0:e.content.substring(0,350)})}),Object(E.jsx)("span",{className:"dash-read-more",children:Object(E.jsx)(Vt.Link,{to:"#",onClick:function(t){return Oe(null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.content,null===e||void 0===e?void 0:e.createdDate)},children:" ...Read more "})}),Object(E.jsx)("br",{}),Object(E.jsx)("hr",{})]})})})),Object(E.jsx)(vr.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:we,onPageChange:function(e){var t=e.selected;u(t)},containerClassName:"paginationBtns",previousLinkClassName:"previousBtns",nextLinkClassName:"nextBtns",disabledClassName:"paginationDisabled",activeClassName:"paginationAcitve"})]}),Object(E.jsx)(pr,{viewDate:N,viewTitle:h,viewContent:x,ViewAnnoncementModal:S,setViewAnnouncementModal:T}),Object(E.jsx)(fr,{getMyAnnouncement:he,announcementId:J,setContent:U,content:G,setTitle:Y,title:z,openEditAnnoncementModal:M,setOpenEditAnnouncementModal:F}),Object(E.jsx)(Or,{getMyAnnouncement:he,openCreateAnnouncementModal:K,setOpenCreateAnnouncementModal:X})]})};var Er=function(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"schoolannouncement"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Ir,{})})]})})};var Dr=function(){var e,t,n,s=Object(B.useParams)().id,c=Object(Vc.a)(),r=c.register,i=c.handleSubmit,u=(c.reset,c.setValue),d=c.formState.errors,j=Object(a.useContext)(D).data.user,b=Object(a.useState)(!0),h=Object(H.a)(b,2),O=h[0],f=h[1],p=j.subsType,x=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,(new z).getClassInformation(s);case 3:(t=e.sent).ok?(console.log({response:t}),u("meeting_link",null===(n=t.data)||void 0===n?void 0:n.meeting_Link),u("meeting_id",null===(a=t.data)||void 0===a?void 0:a.meeting_Id),u("meeting_password",null===(c=t.data)||void 0===c?void 0:c.password)):I.b.error((null===(r=t.data)||void 0===r?void 0:r.message)||"Something went wrong while fetching class information"),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){"LMS"!=p&&(window.location.href="/classes"),x()}),[]);var v=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={meeting_Id:t.meeting_id,meeting_Link:t.meeting_link,password:t.meeting_password},f(!0),e.next=5,(new z).updateMeeting(s,n);case 5:(a=e.sent).ok?I.b.success("Meeting updated successfully"):I.b.error((null===(c=a.data)||void 0===c?void 0:c.message)||"Something went wrong while updating meeting"),f(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"",clicked:function(){return console.log("")}}),Object(E.jsxs)(ln.a,{className:"bg-white py-3 rounded",children:[Object(E.jsx)("h1",{class:"exam-title mb-3",children:"Class Meeting"}),O&&Object(E.jsx)(ee,{}),Object(E.jsxs)("form",{onSubmit:i(v),children:[Object(E.jsx)("label",{className:"control-label mb-2",children:"Meeting Link"}),Object(E.jsx)("input",Object(m.a)(Object(m.a)({},r("meeting_link",{required:"Meeting link is required",pattern:{value:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,message:"Invalid meeting link"}})),{},{type:"text",size:"30",className:"form-control"})),Object(E.jsx)("p",{className:"text-danger",children:null===(e=d.meeting_link)||void 0===e?void 0:e.message}),Object(E.jsx)("label",{className:"control-label mb-2",children:"Meeting ID"}),Object(E.jsx)("input",Object(m.a)(Object(m.a)({},r("meeting_id",{required:"Meeting ID is required",pattern:{value:/^([0-9]{11})$/,message:"Invalid meeting ID"}})),{},{type:"text",size:"30",className:"form-control"})),Object(E.jsx)("p",{className:"text-danger",children:null===(t=d.meeting_id)||void 0===t?void 0:t.message}),Object(E.jsx)("label",{className:"control-label mb-2",children:"Meeting Password"}),Object(E.jsx)("input",Object(m.a)(Object(m.a)({},r("meeting_password",{required:"Meeting password is required"})),{},{type:"text",size:"30",className:"form-control"})),Object(E.jsx)("p",{className:"text-danger",children:null===(n=d.meeting_password)||void 0===n?void 0:n.message}),Object(E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})]})};function Lr(){return Object(a.useContext)(D).data.user.isParent?Object(E.jsx)(te,{title:"Dashboard",activeHeader:"dashboard",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"px-4",sm:8,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Analytics"}),Object(E.jsxs)("div",{className:"dashboard-content mb-5 mt-3",children:[Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-success",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-user-graduate "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Students"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"145,322"})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-warning",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-chalkboard-teacher "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Teacher"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"2,044"})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-info",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-project-diagram "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Classes"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"793"})]})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:"primary-color mb-3",children:"Sample Line Chart"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(Qs.b,{data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]}]}})})]})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:4,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Sample Doughnut chart"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(Qs.a,{data:{labels:["Red","Blue","Yellow"],datasets:[{label:"My First Dataset",data:[300,50,100],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],hoverOffset:4}]}})})]})]})}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}function Mr(){return Object(a.useContext)(D).data.user.isParent?Object(E.jsx)(te,{title:"Profile",activeHeader:"profile",children:Object(E.jsx)("div",{className:"container bg-white shadow  rounded px-3 py-4 mt-5",children:Object(E.jsx)("h3",{className:"text-center",children:"Parent Profile Page"})})}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}function Fr(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)([]),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1];Object(a.useEffect)((function(){if(e.isStudent)return window.location.href="/404"}),[]),Object(a.useEffect)((function(){y()}),[]);var y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getSchoolList();case 2:(t=e.sent).ok?c(t.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getSchoolInfo(t,n,a);case 2:(s=e.sent).ok?h(s.data):alert("Something went wrong while fetching all courses");case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return e.isSystemAdmin?Object(E.jsx)(te,{title:"Dashboard",activeHeader:"dashboard",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(ce.a,{className:"px-4",sm:8,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Analytics"}),Object(E.jsxs)("div",{className:"dashboard-content mb-5 mt-3",children:[Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-success",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-user-graduate "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Students"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"145,322"})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-warning",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-chalkboard-teacher "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Teacher"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"2,044"})]}),Object(E.jsxs)("div",{className:"dashboard-content-item rounded shadow bg-info",children:[Object(E.jsxs)("div",{className:"analytics-label",children:[Object(E.jsx)("div",{className:"analytics-icon",children:Object(E.jsx)("i",{className:"fas fa-project-diagram "})}),Object(E.jsx)("h5",{className:"color-white my-0 ml-5",children:"Classes"})]}),Object(E.jsx)("h2",{className:"color-white analytics-value h2 text-align-right",children:"793"})]})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:"primary-color mb-3",children:"Sample Line Chart"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(Qs.b,{data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]}]}})})]})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:4,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Sample Doughnut chart"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(Qs.a,{data:{labels:["Red","Blue","Yellow"],datasets:[{label:"My First Dataset",data:[300,50,100],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],hoverOffset:4}]}})})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:12,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Login Trail"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsx)(me.a,{children:Object(E.jsx)(ze.a.Item,{className:"list-group-item-o",children:Object(E.jsxs)(se.a,{children:[Object(E.jsxs)(me.a.Select,{onChange:function(e){return d(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"-- Select School Here --"}),s.map((function(e){return Object(E.jsxs)("option",{value:null===e||void 0===e?void 0:e.code,children:[" ",null===e||void 0===e?void 0:e.code]})}))]}),Object(E.jsx)("br",{}),"Date From: ",Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return N(e.target.value)}}),Object(E.jsx)("br",{}),"Date To: ",Object(E.jsx)(me.a.Control,{type:"date",onChange:function(e){return x(e.target.value)}}),Object(E.jsx)("br",{}),Object(E.jsx)(ue.a,{className:"tficolorbg-button",onClick:function(e){return k(u,w,p)},children:"Generate"})]})})})})]}),Object(E.jsxs)(ce.a,{className:"px-4",sm:12,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Login Trail"}),Object(E.jsx)("div",{className:"chart-container",children:Object(E.jsxs)(He.a,{striped:!0,bordered:!0,hover:!0,children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"#"}),Object(E.jsx)("th",{children:"Role Name"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Grade"}),Object(E.jsx)("th",{children:"No. Of Login"}),Object(E.jsx)("th",{children:"Last Login"})]})}),Object(E.jsx)("tbody",{children:m.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:e.id}),Object(E.jsx)("td",{children:e.roleName}),Object(E.jsxs)("td",{children:[null===e||void 0===e?void 0:e.teacherFullName,null===e||void 0===e?void 0:e.studentFullName]}),Object(E.jsx)("td",{children:e.gradeName}),Object(E.jsx)("td",{children:e.numberofLogin}),Object(E.jsx)("td",{children:ge()(e.loginDate).format("LLL")})]})}))})]})})]})]})}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}function Br(){return Object(a.useContext)(D).data.user.isSystemAdmin?Object(E.jsx)(te,{title:"Profile",activeHeader:"profile",children:Object(E.jsx)("div",{className:"container bg-white shadow  rounded px-3 py-4 mt-5",children:Object(E.jsx)("h3",{className:"text-center",children:"System Admin Profile Page"})})}):Object(E.jsx)(Vt.Redirect,{to:"/404"})}function Hr(e){var t=e.active;Object(a.useContext)(D).data.user.subsType;return Object(E.jsxs)("div",{className:"side-navigation",children:[Object(E.jsx)(F.b,{to:"/system-admin/school-profile",className:"side-navigation-item ".concat("school-profile"===t?"active":""),children:"School Profile"}),Object(E.jsx)(F.b,{to:"/system-admin/students",className:"side-navigation-item ".concat("students"===t?"active":""),children:"Students"}),Object(E.jsx)(F.b,{to:"/system-admin/teachers",className:"side-navigation-item ".concat("teachers"===t?"active":""),children:"Teachers"}),Object(E.jsx)(F.b,{to:"/system-admin/school_admin",className:"side-navigation-item ".concat("school_admin"===t?"active":""),children:"School Admin"})]})}function Pr(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)("")),T=Object(H.a)(S,2),D=(T[0],T[1],Object(a.useState)("")),L=Object(H.a)(D,2),M=(L[0],L[1],Object(a.useState)({})),F=Object(H.a)(M,2),B=F[0],P=F[1],z=Object(a.useState)(""),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)(""),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(""),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(""),X=Object(H.a)(K,2),$=X[0],ee=X[1],te=Object(a.useState)(""),ne=Object(H.a)(te,2),ae=ne[0],se=ne[1],ce=Object(a.useState)(""),re=Object(H.a)(ce,2),ie=re[0],le=re[1],je=Object(a.useState)(""),he=Object(H.a)(je,2),Oe=he[0],fe=he[1],pe=Object(a.useState)(""),xe=Object(H.a)(pe,2),ve=xe[0],we=xe[1],Ne=Object(a.useState)(""),ye=Object(H.a)(Ne,2),ke=ye[0],Ce=ye[1],Se=Object(a.useState)(""),Te=Object(H.a)(Se,2),Ae=Te[0],Ie=Te[1],Ee=Object(a.useState)(""),De=Object(H.a)(Ee,2),Le=De[0],Me=De[1],Fe=Object(a.useState)(""),Be=Object(H.a)(Fe,2),He=Be[0],Pe=Be[1],ze=Object(a.useState)(""),Ye=Object(H.a)(ze,2),Re=Ye[0],qe=Ye[1],Ge=Object(a.useState)(""),Ue=Object(H.a)(Ge,2),Ve=Ue[0],_e=Ue[1],Je=Object(a.useState)(""),Qe=Object(H.a)(Je,2),Ze=Qe[0],We=Qe[1],Ke=Object(a.useState)(""),Xe=Object(H.a)(Ke,2),$e=Xe[0],et=Xe[1],tt=Object(a.useState)(""),nt=Object(H.a)(tt,2),at=nt[0],st=nt[1],ct=Object(a.useState)("Edit"),rt=Object(H.a)(ct,2),it=rt[0],ot=rt[1],lt=Object(a.useState)(""),ut=Object(H.a)(lt,2),dt=ut[0],jt=ut[1],bt=Object(a.useState)(""),mt=Object(H.a)(bt,2),ht=mt[0],Ot=mt[1];Object(a.useEffect)((function(){pt()}),[]);var ft=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).deleteTeacher(h);case 2:e.sent.ok?(I.b.success("Teacher deleted successfully"),pt()):I.b.error("Something went wrong while deleting teacher."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getTeachersList();case 2:(t=e.sent).ok?(s(t.data),console.log(t.data,"=======")):I.b.error("Something went wrong while fetching exam information"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},vt=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.next=4,(new A).uploadTeacherList(B);case 4:e.sent.ok?(pt(),I.b.success("Successfully uploaded the teacher list.")):I.b.error("Something went wrong while uploading teacher list.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:dt,password:ht,teacher:{employeeNo:ke,prefix:R,fname:V,lname:Z,middleInitial:$,sex:ae,citizenship:Oe,status:ve,permanentAddress:Ae,presentAddress:Le,bday:"Invalid date"===ie?"":ie,contactNo:He,emailAdd:Re,emergencyContactNo:Ve,positionID:3}},e.next=3,(new A).registerTeacher(t);case 3:(null===(n=e.sent)||void 0===n?void 0:n.ok)?(pt(),Nt(),I.b.success("Successfully registered the teacher"),v(!1)):I.b.error(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:Ze,employeeNo:ke,prefixName:R,fname:V,lname:Z,middleInitial:$,sex:ae,citizenship:Oe,status:ve,permanentAddress:Ae,presentAddress:Le,bday:ie,contactNo:He,emailAdd:Re,emergencyContactNo:Ve,positionID:$e,userAccountID:at},e.next=3,(new A).updateTeacherInfo(Ze,t);case 3:(n=e.sent).ok?(v(!1),pt(),I.b.success("Successfully updated the teacher information."),q(""),_(""),W(""),ee(""),se(""),le(""),fe(""),we(""),Ce(""),Ie(""),Me(""),Pe(""),qe(""),_e(""),We(""),et(""),st("")):I.b.error(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){_(""),W(""),ee(""),se(""),fe(""),we(""),Ie(""),Me(""),le(""),Pe(""),qe(""),_e(""),_e(""),st(""),q(""),Ce(""),jt(""),Ot("")};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"m-t-5",children:"Teachers List"}),"|"," ",Object(E.jsxs)("button",{onClick:function(){v("Register"),ot("Register")},className:"tficolorbg-button btn btn-info btn-sm m-r-5",children:["Register Teacher"," ",Object(E.jsx)("i",{class:"fas fa-plus"})]}),"|"," ",Object(E.jsxs)("button",{onClick:function(){return y(!0)},className:"tficolorbg-button btn btn-info btn-sm m-r-5",children:["Upload Teachers"," ",Object(E.jsx)("i",{class:"fas fa-plus"})]}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:n,columns:[{Header:"",columns:[{Header:"Firstname",id:"fname",accessor:function(e){return e.fname}},{Header:"Lastname",id:"lname",accessor:function(e){return e.lname}},{Header:"Position",id:"password",accessor:function(e){return e.positionID},Cell:function(e){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:e.original.positionID})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(E.jsx)("button",{onClick:function(){!function(e){var t=ge()(e.bday).format("YYYY-MM-DD");q(e.prefixName),_(e.fname),W(e.lname),ee(e.middleInitial),se(e.sex),le(t),fe(e.citizenship),we(e.status),Ce(e.employeeNo),Ie(e.permanentAddress),Me(e.presetAddress),Pe(e.contactNo),qe(e.email),_e(e.emergencyContactNo),We(e.id),et(e.positionID),st(e.userAccountID),v(!0)}(e.original),ot("Edit")},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,O(t),void u(!0);var t},className:"btn btn-danger btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-trash"})})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return ft()},confirmBtnText:"Delete",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"You will not be able to recover this data!"}),Object(E.jsxs)(be.a,{size:"lg",show:N,onHide:function(){return y(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Teachers"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return vt(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,",onChange:function(e){return t=e.target.files[0],void xt(t).then((function(e){console.log(t.name);var n={base64String:e,fileName:t.name};P(n)}));var t}})}),Object(E.jsx)("p",{children:".xslx"}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]}),"Edit"==it?Object(E.jsxs)(be.a,{size:"lg",show:x,onHide:function(){v(!1),Nt()},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:"Edit Profile"}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Personal Information "})}),Object(E.jsx)("label",{className:"control-label",children:"Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-2 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:R,onChange:function(e){return q(e.target.value)},placeholder:"Prefix"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:V,onChange:function(e){return _(e.target.value)},placeholder:"First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Z,onChange:function(e){return W(e.target.value)},placeholder:"Last name"})})}),Object(E.jsx)("div",{className:"col-md-2 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:$,onChange:function(e){return ee(e.target.value)},placeholder:"Middle initial"})})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Gender"}),Object(E.jsxs)(me.a.Select,{value:ae,onChange:function(e){return se(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select Gender"}),Object(E.jsx)("option",{value:"Male",children:"Male"}),Object(E.jsx)("option",{value:"Female",children:"Female"})]})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Birthdate"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"date",format:"yyyy-MM-dd",value:ie,onChange:function(e){return le(e.target.value)}})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Citizenship"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Oe,onChange:function(e){return fe(e.target.value)},placeholder:"Citizenship"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{value:ve,onChange:function(e){return we(e.target.value)},children:[Object(E.jsx)("option",{children:"Select status"}),Object(E.jsx)("option",{value:"Single",children:"Single"}),Object(E.jsx)("option",{value:"Married",children:"Married"})]})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Account Information "})}),Object(E.jsx)("div",{className:"row row-space-10",children:Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Employee Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ke,onChange:function(e){return Ce(e.target.value)},placeholder:"Employee No."})})]})})}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Contact Information "})}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Permanent Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Ae,onChange:function(e){return Ie(e.target.value)},placeholder:"Permamnent Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Present Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Le,onChange:function(e){return Me(e.target.value)},placeholder:"Present Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Contact Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:He,onChange:function(e){return Pe(e.target.value)},placeholder:"Contact No."})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Email Address"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Re,onChange:function(e){return qe(e.target.value)},placeholder:"Email Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Emergency Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:Ve,onChange:function(e){return _e(e.target.value)},placeholder:"Emergency No."})})]})})]}),Object(E.jsx)("button",{className:"btn float-right tficolorbg-button mb-4",onClick:function(){return wt()},children:"Save Edit"}),Object(E.jsx)("button",{className:"btn float-right btn-danger mb-4 m-r-10",onClick:function(){return v(!1)},children:"Cancel"})]})]}):Object(E.jsxs)(be.a,{size:"lg",show:x,onHide:function(){return v(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:"Register Teacher"}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Personal Information "})}),Object(E.jsx)("label",{className:"control-label",children:"Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-2 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:R,onChange:function(e){return q(e.target.value)},placeholder:"Prefix"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:V,onChange:function(e){return _(e.target.value)},placeholder:"First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Z,onChange:function(e){return W(e.target.value)},placeholder:"Last name"})})}),Object(E.jsx)("div",{className:"col-md-2 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:$,onChange:function(e){return ee(e.target.value)},placeholder:"Middle initial"})})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Gender"}),Object(E.jsxs)(me.a.Select,{value:ae,onChange:function(e){return se(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select Gender"}),Object(E.jsx)("option",{value:"Male",children:"Male"}),Object(E.jsx)("option",{value:"Female",children:"Female"})]})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Birthdate"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"date",format:"yyyy-MM-dd",value:ie,onChange:function(e){return le(e.target.value)}})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Citizenship"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Oe,onChange:function(e){return fe(e.target.value)},placeholder:"Citizenship"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{value:ve,onChange:function(e){return we(e.target.value)},children:[Object(E.jsx)("option",{children:"Select status"}),Object(E.jsx)("option",{value:"Single",children:"Single"}),Object(E.jsx)("option",{value:"Married",children:"Married"})]})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Account Information "})}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Employee Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:ke,onChange:function(e){return Ce(e.target.value)},placeholder:"Employee No."})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Username"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:dt,onChange:function(e){return jt(e.target.value)},placeholder:"Username"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Password"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ht,onChange:function(e){return Ot(e.target.value)},placeholder:"Password"})})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Contact Information "})}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Permanent Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Ae,onChange:function(e){return Ie(e.target.value)},placeholder:"Permamnent Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Present Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Le,onChange:function(e){return Me(e.target.value)},placeholder:"Present Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Contact Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:He,onChange:function(e){return Pe(e.target.value)},placeholder:"Contact No."})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Email Address"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Re,onChange:function(e){return qe(e.target.value)},placeholder:"Email Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Emergency Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:Ve,onChange:function(e){return _e(e.target.value)},placeholder:"Emergency No."})})]})})]}),Object(E.jsx)("button",{className:"btn float-right tficolorbg-button mb-4",onClick:function(){return gt()},children:"Register"}),Object(E.jsx)("button",{className:"btn float-right btn-danger mb-4 m-r-10",onClick:function(){return v(!1)},children:"Cancel"})]})]})]})}function zr(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Hr,{active:"teachers"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Pr,{})})]})})}function Yr(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(!1),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)("")),T=Object(H.a)(S,2),D=(T[0],T[1],Object(a.useState)("")),L=Object(H.a)(D,2),M=(L[0],L[1],Object(a.useState)("")),F=Object(H.a)(M,2),B=(F[0],F[1],Object(a.useState)({})),P=Object(H.a)(B,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)(""),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)(""),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(""),ee=Object(H.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),se=Object(H.a)(ae,2),ce=se[0],re=se[1],ie=Object(a.useState)(""),le=Object(H.a)(ie,2),je=le[0],he=le[1],Oe=Object(a.useState)(""),fe=Object(H.a)(Oe,2),pe=fe[0],xe=fe[1],ve=Object(a.useState)(""),we=Object(H.a)(ve,2),Ne=we[0],ye=we[1],ke=Object(a.useState)(""),Ce=Object(H.a)(ke,2),Se=Ce[0],Te=Ce[1],Ae=Object(a.useState)(""),Ie=Object(H.a)(Ae,2),Ee=Ie[0],De=Ie[1],Le=Object(a.useState)(""),Me=Object(H.a)(Le,2),Fe=Me[0],Be=Me[1],He=Object(a.useState)(""),Pe=Object(H.a)(He,2),ze=Pe[0],Ye=Pe[1],Re=Object(a.useState)(""),qe=Object(H.a)(Re,2),Ge=qe[0],Ue=qe[1],Ve=Object(a.useState)(""),_e=Object(H.a)(Ve,2),Je=_e[0],Qe=_e[1],Ze=Object(a.useState)(""),We=Object(H.a)(Ze,2),Ke=We[0],Xe=We[1],$e=Object(a.useState)(""),et=Object(H.a)($e,2),tt=et[0],nt=et[1],at=Object(a.useState)(""),st=Object(H.a)(at,2),ct=st[0],rt=st[1],it=Object(a.useState)(""),ot=Object(H.a)(it,2),lt=ot[0],ut=ot[1],dt=Object(a.useState)(""),jt=Object(H.a)(dt,2),bt=jt[0],mt=jt[1],ht=Object(a.useState)(""),Ot=Object(H.a)(ht,2),ft=Ot[0],pt=Ot[1],xt=Object(a.useState)(""),vt=Object(H.a)(xt,2),gt=vt[0],wt=vt[1],Nt=Object(a.useState)("Edit"),yt=Object(H.a)(Nt,2),kt=yt[0],Ct=yt[1];Object(a.useEffect)((function(){Tt()}),[]);var St=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).deleteStudent(h);case 2:e.sent.ok?(I.b.success("Student deleted successfully"),Tt()):I.b.error("Something went wrong while deleting Student."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getStudentsList();case 2:(t=e.sent).ok?(s(t.data),console.log(t.data,"=======")):I.b.error("Something went wrong while fetching exam information"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),At=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},It=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.next=4,(new A).uploadStudentList(z);case 4:e.sent.ok?(Tt(),I.b.success("Successfully uploaded the Student list.")):I.b.error("Something went wrong while uploading Student list.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){X(""),ne(""),re(""),he(""),xe(""),ye(""),Te(""),De(""),Be(""),Ye(""),Ue(""),Qe(""),Xe(""),nt(""),rt(""),ut(""),mt(""),pt(""),pt(""),wt("")},Dt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Ge),t={id:te,studentNo:K,fname:ce,lname:je,mname:pe,sex:Ne,citizenship:Se,status:Ee,permanentAddress:Fe,presentAddress:ze,bday:"Invalid date"==Ge?"":Ge,contactNo:Je,emailAdd:Ke,mothersFname:tt,mothersLname:ct,fathersFname:lt,fathersLname:bt,emergencyContactNo:ft,userAccountID:gt},e.next=4,(new A).updateStudentInfo(te,t);case 4:(n=e.sent).ok?(Tt(),I.b.success("Successfully updated the student information."),ne(""),X(""),re(""),he(""),xe(""),ye(""),Te(""),De(""),Be(""),Ye(""),Ue(""),Qe(""),Xe(""),nt(""),rt(""),ut(""),mt(""),pt(""),wt(""),v(!1)):I.b.error(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={username:G,password:J,student:{studentNo:K,fname:ce,lname:je,mname:pe,sex:Ne,citizenship:Se,status:Ee,permanentAddress:Fe,presentAddress:ze,bday:"Invalid date"===Ge?"":Ge,contactNo:Je,emailAdd:Ke,mothersFname:tt,mothersLname:ct,fathersFname:lt,fathersLname:bt,emergencyContactNo:ft}},e.next=3,(new A).registerStudent(t);case 3:(n=e.sent).ok?(Tt(),I.b.success("Successfully registered the student."),Et(),v(!1)):I.b.error(n.data.errorMessage);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"m-t-5",children:"Students List"})," |"," ",Object(E.jsxs)("button",{onClick:function(){v("Register"),Ct("Register")},className:"tficolorbg-button btn btn-info btn-sm m-r-5",children:["Register Students"," ",Object(E.jsx)("i",{class:"fas fa-plus"})]}),"|"," ",Object(E.jsxs)("button",{onClick:function(){return y(!0)},className:"tficolorbg-button btn btn-info btn-sm m-r-5",children:["Upload Students"," ",Object(E.jsx)("i",{class:"fas fa-plus"})]}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:n,columns:[{Header:"",columns:[{Header:"Firstname",id:"fname",accessor:function(e){return e.fname}},{Header:"Lastname",id:"lname",accessor:function(e){return e.lname}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(E.jsx)("button",{onClick:function(){!function(e){console.log(e);var t=ge()(e.bday).format("YYYY-MM-DD");ne(e.id),X(e.studentNo),re(e.fname),he(e.lname),xe(e.mname),ye(e.sex),Te(e.citizenship),De(e.status),Be(e.permanentAddress),Ye(e.presentAddress),Ue(t),Qe(e.contactNo),Xe(e.emailAdd),nt(e.mothersFname),rt(e.mothersLname),ut(e.fathersFname),mt(e.fathersLName),pt(e.emergencyContactNo),wt(e.userAccountID),v(!0)}(e.original),Ct("Edit")},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,O(t),void u(!0);var t},className:"btn btn-danger btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-trash"})})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return St()},confirmBtnText:"Delete",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"You will not be able to recover this data!"}),Object(E.jsxs)(be.a,{size:"lg",show:N,onHide:function(){return y(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Students"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return It(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,",onChange:function(e){return t=e.target.files[0],void At(t).then((function(e){console.log(t.name);var n={base64String:e,fileName:t.name};Y(n)}));var t}})}),Object(E.jsx)("p",{children:".xslx"}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]}),"Edit"===kt?Object(E.jsxs)(be.a,{size:"lg",show:x,onHide:function(){v(!1),Et()},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:"Edit Profile"}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Personal Information "})}),Object(E.jsx)("label",{className:"control-label",children:"Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ce,onChange:function(e){return re(e.target.value)},placeholder:"First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:je,onChange:function(e){return he(e.target.value)},placeholder:"Last name"})})}),Object(E.jsx)("div",{className:"col-md-2 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:pe,onChange:function(e){return xe(e.target.value)},placeholder:"Middle initial"})})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Gender"}),Object(E.jsxs)(me.a.Select,{value:Ne,onChange:function(e){return ye(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select Gender"}),Object(E.jsx)("option",{value:"Male",children:"Male"}),Object(E.jsx)("option",{value:"Female",children:"Female"})]})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Birthdate"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"date",format:"yyyy-MM-dd",value:Ge,onChange:function(e){return Ue(e.target.value)}})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Citizenship"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Se,onChange:function(e){return Te(e.target.value)},placeholder:"Citizenship"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{value:Ee,onChange:function(e){return De(e.target.value)},children:[Object(E.jsx)("option",{children:"Select status"}),Object(E.jsx)("option",{value:"Single",children:"Single"}),Object(E.jsx)("option",{value:"Married",children:"Married"})]})]})})]}),Object(E.jsx)("label",{className:"control-label",children:"Mother's Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:tt,onChange:function(e){return nt(e.target.value)},placeholder:"Mother's First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ct,onChange:function(e){return rt(e.target.value)},placeholder:"Mother's Last name"})})})]}),Object(E.jsx)("label",{className:"control-label",children:"Fathe's Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:lt,onChange:function(e){return ut(e.target.value)},placeholder:"Father's First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:bt,onChange:function(e){return mt(e.target.value)},placeholder:"Father's Last name"})})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Account Information "})}),Object(E.jsx)("div",{className:"row row-space-10",children:Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Student Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:K,onChange:function(e){return X(e.target.value)},placeholder:"Student No."})})]})})}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Contact Information "})}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Permanent Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Fe,onChange:function(e){return Be(e.target.value)},placeholder:"Permamnent Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Present Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ze,onChange:function(e){return Ye(e.target.value)},placeholder:"Present Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Contact Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:Je,onChange:function(e){return Qe(e.target.value)},placeholder:"Contact No."})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Email Address"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Ke,onChange:function(e){return Xe(e.target.value)},placeholder:"Email Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Emergency Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:ft,onChange:function(e){return pt(e.target.value)},placeholder:"Emergency No."})})]})})]}),Object(E.jsx)("button",{className:"btn float-right tficolorbg-button mb-4",onClick:function(){return Dt()},children:"Save Edit"}),Object(E.jsx)("button",{className:"btn float-right btn-danger mb-4 m-r-10",onClick:function(){return v(!1)},children:"Cancel"})]})]}):Object(E.jsxs)(be.a,{size:"lg",show:x,onHide:function(){v(!1),Et()},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:"Register Student"}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Personal Information "})}),Object(E.jsx)("label",{className:"control-label",children:"Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ce,onChange:function(e){return re(e.target.value)},placeholder:"First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:je,onChange:function(e){return he(e.target.value)},placeholder:"Last name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:pe,onChange:function(e){return xe(e.target.value)},placeholder:"Middle initial"})})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Gender"}),Object(E.jsxs)(me.a.Select,{value:Ne,onChange:function(e){return ye(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select Gender"}),Object(E.jsx)("option",{value:"Male",children:"Male"}),Object(E.jsx)("option",{value:"Female",children:"Female"})]})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Birthdate"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"date",format:"yyyy-MM-dd",value:Ge,onChange:function(e){return Ue(e.target.value)}})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Citizenship"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Se,onChange:function(e){return Te(e.target.value)},placeholder:"Citizenship"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{value:Ee,onChange:function(e){return De(e.target.value)},children:[Object(E.jsx)("option",{children:"Select status"}),Object(E.jsx)("option",{value:"Single",children:"Single"}),Object(E.jsx)("option",{value:"Married",children:"Married"})]})]})})]}),Object(E.jsx)("label",{className:"control-label",children:"Mother's Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:tt,onChange:function(e){return nt(e.target.value)},placeholder:"Mother's First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ct,onChange:function(e){return rt(e.target.value)},placeholder:"Mother's Last name"})})})]}),Object(E.jsx)("label",{className:"control-label",children:"Fathe's Name"}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:lt,onChange:function(e){return ut(e.target.value)},placeholder:"Father's First name"})})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:bt,onChange:function(e){return mt(e.target.value)},placeholder:"Father's Last name"})})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Account Information "})}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Student Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",min:1,max:12,value:K,onChange:function(e){return X(e.target.value)},placeholder:"Student No."})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Username"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:G,onChange:function(e){return U(e.target.value)},placeholder:"Username"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Password"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:J,onChange:function(e){return Q(e.target.value)},placeholder:"Password"})})]})})]}),Object(E.jsx)("hr",{}),Object(E.jsx)("h3",{children:Object(E.jsx)("label",{className:"control-label",children:"Contact Information "})}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Permanent Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Fe,onChange:function(e){return Be(e.target.value)},placeholder:"Permamnent Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Present Addres"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:ze,onChange:function(e){return Ye(e.target.value)},placeholder:"Present Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Contact Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:Je,onChange:function(e){return Qe(e.target.value)},placeholder:"Contact No."})})]})})]}),Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Email Address"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"email",value:Ke,onChange:function(e){return Xe(e.target.value)},placeholder:"Email Address"})})]})}),Object(E.jsx)("div",{className:"col-md-4 m-b-15",children:Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Emergency Number"}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"number",value:ft,onChange:function(e){return pt(e.target.value)},placeholder:"Emergency No."})})]})})]}),Object(E.jsx)("button",{className:"btn float-right tficolorbg-button mb-4",onClick:function(){return Lt()},children:"Register"}),Object(E.jsx)("button",{className:"btn float-right btn-danger mb-4 m-r-10",onClick:function(){return v(!1)},children:"Cancel"})]})]})]})}function Rr(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Hr,{active:"students"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Yr,{})})]})})}function qr(){var e=Object(a.useContext)(D).data,t=e.themeColor,n=e.setThemeColor,s=e.themeLogo,c=e.setThemeLogo,r=Object(a.useState)(!1),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)(s),b=Object(H.a)(j,2),m=b[0],h=b[1],O=Object(a.useState)(""),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(t),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files||0!==t.target.files.length){e.next=3;break}return I.b.error("You need to select a file"),e.abrupt("return");case 3:return n=t.target.files[0],console.log({file:n}),e.next=7,Xs(n);case 7:a=e.sent,h(a.base64String),x(a.fileName),console.log({base64Img:a});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==p){e.next=3;break}return I.b.error("You need to select a file"),e.abrupt("return");case 3:return d(!0),e.next=6,(new A).updateSchoolLogo({base64String:m,fileName:p});case 6:e.sent.ok?(x(""),c(m),I.b.success("Logo saved successfully")):I.b.error("Something went wrong while saving logo"),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(new A).updateSchoolTheme({color:w});case 3:e.sent.ok?(S(!1),I.b.success("Theme saved successfully")):I.b.error("Something went wrong while saving theme"),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"rounded-white-container",children:[u&&Object(E.jsx)(Na,{}),Object(E.jsx)("h1",{className:"title mb-3",children:"School Profile"}),Object(E.jsx)("p",{className:"label m-0",children:"Logo"}),Object(E.jsx)("img",{src:m,onError:function(){return h("https://st3.depositphotos.com/23594922/31822/v/450/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg")},alt:"School Logo",className:"school-logo"}),Object(E.jsx)("input",{type:"file",className:"d-block mt-2",onChange:T}),Object(E.jsx)(ue.a,{type:"submit",className:"btn px-4 mt-2 btn-primary",disabled:""===p,onClick:L,children:"Save"}),Object(E.jsxs)("p",{className:"label mt-5 m-0",children:["Theme Color: ",w]}),Object(E.jsx)("input",{type:"color",className:"d-block",value:w,onChange:function(e){S(!0),N(e.target.value),n(e.target.value)}}),Object(E.jsx)(ue.a,{type:"submit",className:"btn px-4 mt-2 btn-primary",disabled:!C,onClick:M,children:"Save"})]})}function Gr(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Hr,{active:"school-profile"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(qr,{})})]})})}function Ur(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(""),j=Object(H.a)(d,2),b=j[0],h=(j[1],Object(a.useState)(!1)),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(""),T=Object(H.a)(S,2),D=T[0],L=T[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1],z=Object(a.useState)(""),Y=Object(H.a)(z,2),R=Y[0],q=Y[1],G=Object(a.useState)([]),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(!1),Q=Object(H.a)(J,2),Z=(Q[0],Q[1],Object(a.useState)({})),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(!1),ee=Object(H.a)($,2),ne=ee[0],ae=ee[1],re=Object(a.useState)([]),ie=Object(H.a)(re,2),le=ie[0],de=ie[1],he=Object(a.useState)([]),fe=Object(H.a)(he,2),pe=fe[0],xe=fe[1],ve=Object(a.useState)(""),ge=Object(H.a)(ve,2),we=ge[0],Ne=ge[1],ye=Object(a.useState)({}),ke=Object(H.a)(ye,2),Ce=(ke[0],ke[1]),Se=Object(a.useState)(""),Ae=Object(H.a)(Se,2),Ie=Ae[0],De=Ae[1];Object(a.useEffect)((function(){Fe(),Me(),qe()}),[]);var Le=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteCourse(b);case 2:e.sent.ok?(I.b.success("Course deleted successfully"),Me()):I.b.error("Something went wrong while deleting course."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,(new Oe).getCourses();case 3:(t=e.sent).ok?(console.log(t.data),n=t.data,a=n.filter((function(e){return null!==e.status&&!0!==e.deleted})),s(a)):I.b.error("Something went wrong while fetching exam information"),w(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ee).getSubjectArea();case 2:(t=e.sent).ok?(_(t.data),console.log(t.data)):I.b.error("Something went wrong while fetching all subject area");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=B&&""!=D&&""!=R){e.next=5;break}I.b.error("Please insert all the required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=10;break;case 5:return n={courseName:D,description:B,status:k,subjectAreaId:R},e.next=8,(new Oe).editCourse(K.id,n);case 8:(a=e.sent).ok?(Me(),p(!1),X({}),C(""),L(""),P(""),q("")):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,(new Oe).editCourse(t.id,Object(m.a)(Object(m.a)({},t),{},{status:!t.status}));case 3:e.sent.ok?(Me(),I.b.success("Course status updated successfully.")):I.b.error("Something went wrong while fetching exam information");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n={courseId:we,userAccountId:t.userAccountID},e.next=4,(new Oe).addDistributor(we,n);case 4:(a=e.sent).ok?(I.b.success("Contributor added successfully"),Ye(we)):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.distributorInformation.userAccountId!=Ie){e.next=5;break}I.b.error("You can't remove the author of this course."),e.next=9;break;case 5:return e.next=7,(new Oe).removeContributor(we,t.distributorInformation.id);case 7:(n=e.sent).ok?(I.b.success("Contributor removed successfully"),Ye(we)):I.b.error(null===(a=n.data)||void 0===a?void 0:a.errorMessage.replace("distributor","contributor"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(t);case 2:(n=e.sent).ok?xe(Object(Te.a)(n.data)):I.b.error(null===(a=n.data)||void 0===a?void 0:a.errorMessage.replace("distributor","contributor"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(t);case 2:(n=e.sent).ok?(Ce(n.data),De(n.data.createdBy),console.log(n,"-=-=-")):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getTeachers();case 2:(t=e.sent).ok?de(t.data):I.b.error(null===(n=t.data)||void 0===n?void 0:n.errorMessage.replace("distributor","contributor"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(te,{title:"Dashboard",activeHeader:"courses",loading:g,children:[Object(E.jsx)("h3",{className:"m-b-20 m-t-20",children:"Course List"}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:n,columns:[{Header:"",columns:[{Header:"Course Name",id:"fname",accessor:function(e){return e.courseName}},{Header:"Author",id:"lname",accessor:function(e){return e.authorName}},{Header:"Subject Area",id:"subjectArea",accessor:function(e){var t;return null===(t=e.subjectArea)||void 0===t?void 0:t.subjectAreaName},Cell:function(e){var t;return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:null===(t=e.original.subjectArea)||void 0===t?void 0:t.subjectAreaName})}},{Header:"Status",id:"toggle",accessor:function(e){return e.status?"Active":"Inactive"},Cell:function(e){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(E.jsx)(me.a,{children:Object(E.jsx)(me.a.Check,{disabled:g,checked:!!e.original.status,type:"switch",id:"custom-switch",label:e.original.status?"Active":"Inactive",onClick:function(){return He(e.original)}})})})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(E.jsx)("button",{onClick:function(){return t=e.original,X(t),C(t.status),L(t.courseName),P(t.description),q(t.subjectAreaId),void p(!0);var t},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,ae(!ne),Ye(t),Ne(t),void Re(t);var t},className:"btn tficolorbg-button btn-sm m-r-5",children:"CONTRIBUTOR"})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return Le()},confirmBtnText:"Delete",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"You will not be able to recover this data!"}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:f,onHide:function(){return p(!f)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Course"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:Be,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Course Name"}),Object(E.jsx)(je.a,{defaultValue:D,className:"custom-input",size:"lg",type:"text",onChange:function(e){return L(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Description"}),Object(E.jsx)(je.a,{defaultValue:B,className:"custom-input",size:"lg",type:"text",onChange:function(e){return P(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"subjectArea",children:"Subject Area"}),Object(E.jsx)(me.a.Select,{size:"lg",onChange:function(e){return q(e.target.value)},children:V.map((function(e){return Object(E.jsx)("option",{value:e.id,selected:(null===K||void 0===K?void 0:K.subjectAreaId)===e.id,children:e.subjectAreaName})}))})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{size:"lg",onChange:function(e){return C(e.target.value)},children:[Object(E.jsx)("option",{value:!0,selected:!0===(null===K||void 0===K?void 0:K.status),children:"Active"}),Object(E.jsx)("option",{value:!1,selected:!1===(null===K||void 0===K?void 0:K.status),children:"Inactive"})]})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Course"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:ne,onHide:function(){return ae(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Contributor"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("div",{className:"contributors-container",children:[Object(E.jsx)("p",{className:"font-20",children:"Contributor/s"}),pe.map((function(e,t){return Object(E.jsxs)(se.a,{className:"mb-3",children:[Object(E.jsx)(ce.a,{md:8,children:Object(E.jsxs)("span",{children:[e.userInformation.firstname," ",e.userInformation.lastname," "]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("span",{children:Object(E.jsx)("i",{onClick:function(){return ze(e)},className:"fa fa-minus bg-danger color-white d-flex justify-content-center align-items-center br-3",style:{width:23,height:23}})})})]})}))]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("div",{className:"contributors-container",children:[Object(E.jsx)("p",{className:"font-20",children:"Teacher/s"}),le.map((function(e,t){return Object(E.jsxs)(se.a,{className:"mb-3",children:[Object(E.jsx)(ce.a,{md:8,children:Object(E.jsxs)("span",{className:"w-75",children:[e.fname," ",e.lname]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("span",{children:Object(E.jsx)("i",{onClick:function(){return Pe(e)},className:"fa fa-plus tficolorbg-button color-white d-flex justify-content-center align-items-center br-3",style:{width:23,height:23}})})})]})}))]})})]})})]})]})}function Vr(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(!1),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)("")),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=(C[0],C[1],Object(a.useState)("")),T=Object(H.a)(S,2),D=(T[0],T[1],Object(a.useState)("")),L=Object(H.a)(D,2),M=(L[0],L[1],Object(a.useState)({})),F=Object(H.a)(M,2),B=F[0],P=F[1],z=Object(a.useState)(""),Y=Object(H.a)(z,2),R=(Y[0],Y[1],Object(a.useState)("")),q=Object(H.a)(R,2),G=(q[0],q[1],Object(a.useState)("")),U=Object(H.a)(G,2),V=(U[0],U[1],Object(a.useState)("")),_=Object(H.a)(V,2),J=(_[0],_[1],Object(a.useState)("")),Q=Object(H.a)(J,2),Z=(Q[0],Q[1],Object(a.useState)("")),W=Object(H.a)(Z,2),K=(W[0],W[1],Object(a.useState)("")),X=Object(H.a)(K,2),$=(X[0],X[1],Object(a.useState)("")),ee=Object(H.a)($,2),te=(ee[0],ee[1],Object(a.useState)("")),ne=Object(H.a)(te,2),ae=(ne[0],ne[1],Object(a.useState)("")),se=Object(H.a)(ae,2),ce=(se[0],se[1],Object(a.useState)("")),re=Object(H.a)(ce,2),ie=(re[0],re[1],Object(a.useState)("")),le=Object(H.a)(ie,2),je=(le[0],le[1],Object(a.useState)("")),he=Object(H.a)(je,2),Oe=(he[0],he[1],Object(a.useState)("")),fe=Object(H.a)(Oe,2),pe=(fe[0],fe[1],Object(a.useState)("")),xe=Object(H.a)(pe,2),ve=xe[0],ge=xe[1],we=Object(a.useState)(""),Ne=Object(H.a)(we,2),ye=(Ne[0],Ne[1]),ke=Object(a.useState)(""),Ce=Object(H.a)(ke,2),Se=(Ce[0],Ce[1]),Te=Object(a.useState)("Edit"),Ae=Object(H.a)(Te,2),Ie=Ae[0],Ee=Ae[1],De=Object(a.useState)(""),Le=Object(H.a)(De,2),Me=Le[0],Fe=Le[1],Be=Object(a.useState)(""),He=Object(H.a)(Be,2),Pe=He[0],ze=He[1];Object(a.useEffect)((function(){Ye()}),[]);var Ye=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getSchoolAdmin();case 2:(t=e.sent).ok?(s(t.data),console.log(t.data,"=======!")):I.b.error("Something went wrong while fetching exam information"),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},qe=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.next=4,(new A).uploadTeacherList(B);case 4:e.sent.ok?(Ye(),I.b.success("Successfully uploaded the teacher list.")):I.b.error("Something went wrong while uploading teacher list.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={username:Me,password:Pe},""==Me||""==Pe){e.next=8;break}return e.next=4,(new A).createSchoolAdmin(t);case 4:(null===(n=e.sent)||void 0===n?void 0:n.ok)?(Ye(),_e(),I.b.success("Successfully registered the school admin"),v(!1)):I.b.error(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage),e.next=9;break;case 8:I.b.error("Please input all required fileds.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).deleteAccount(h);case 2:e.sent.ok?(I.b.success("School Admin deleted successfully"),Ye()):I.b.error("Something went wrong while deleting Student."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={username:Me,password:Pe},""==Me||""==Pe){e.next=8;break}return e.next=4,(new A).updateAccount(ve,t);case 4:(n=e.sent).ok?(v(!1),Ye(),I.b.success("Successfully updated the teacher information."),ge(""),ye(""),Se("")):I.b.error(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errorMessage),e.next=9;break;case 8:I.b.error("Please input all required fileds.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){Fe(""),ze("")};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"m-t-5",children:"School Admin List"}),"|"," ",Object(E.jsxs)("button",{onClick:function(){v("Register"),Ee("Register")},className:"tficolorbg-button btn btn-info btn-sm m-r-5",children:["Add School Admin"," ",Object(E.jsx)("i",{class:"fas fa-plus"})]}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:n,columns:[{Header:"",columns:[{Header:"Username",id:"fname",accessor:function(e){return e.username}},{Header:"Password",id:"lname",accessor:function(e){return e.password}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(E.jsx)("button",{onClick:function(){var t;t=e.original,Fe(t.username),ze(t.password),v(!0),ge(t.id),Ee("Edit")},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,O(t),void u(!0);var t},className:"btn btn-danger btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-trash"})})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return Ue()},confirmBtnText:"Delete",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"You will not be able to recover this data!"}),Object(E.jsxs)(be.a,{size:"lg",show:N,onHide:function(){return y(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Teachers"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return qe(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,",onChange:function(e){return t=e.target.files[0],void Re(t).then((function(e){console.log(t.name);var n={base64String:e,fileName:t.name};P(n)}));var t}})}),Object(E.jsx)("p",{children:".xslx"}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",show:x,onHide:function(){v(!1),_e()},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:"Edit"==Ie?"Edit Account":"Register School Admin"}),Object(E.jsxs)(be.a.Body,{children:[Object(E.jsxs)("div",{className:"row row-space-10",children:[Object(E.jsxs)("div",{className:"col-md-6 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["Username ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Me,onChange:function(e){return Fe(e.target.value)},placeholder:"Username"})})]}),Object(E.jsxs)("div",{className:"col-md-6 m-b-15",children:[Object(E.jsxs)("label",{className:"control-label",children:["Password ",Object(E.jsx)("span",{className:"text-danger",children:"*"})]}),Object(E.jsx)(de.a,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{type:"text",value:Pe,onChange:function(e){return ze(e.target.value)},placeholder:"Password"})})]})]}),"Edit"==Ie?Object(E.jsx)("button",{className:"btn float-right tficolorbg-button mb-4",onClick:function(){return Ve()},children:"Save Edit"}):Object(E.jsx)("button",{className:"btn float-right tficolorbg-button mb-4",onClick:function(){return Ge()},children:"Register"}),Object(E.jsx)("button",{className:"btn float-right btn-danger mb-4 m-r-10",onClick:function(){return v(!1)},children:"Cancel"})]})]})]})}function _r(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Hr,{active:"school_admin"})}),Object(E.jsx)(ce.a,{sm:9,className:"scrollable vh-85 pb-5",children:Object(E.jsx)(Vr,{})})]})})}var Jr=function(e){e.classesModules,e.setClassesModules,e.selectedClassId;var t,n,s,c,r=e.examAnalysis,i=(e.setExamAnalysis,e.getExamAnalysis),u=Object(a.useState)([]),d=Object(H.a)(u,2),j=(d[0],d[1],Object(a.useState)("")),b=Object(H.a)(j,2),m=(b[0],b[1],Object(a.useState)(!1)),h=Object(H.a)(m,2),O=(h[0],h[1],Object(a.useState)(!1)),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)([]),g=Object(H.a)(v,2),w=(g[0],g[1],Object(a.useState)("")),N=Object(H.a)(w,2),y=(N[0],N[1],Object(a.useState)("")),k=Object(H.a)(y,2),C=(k[0],k[1]),S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],D=T[1],L=Object(a.useState)(""),M=Object(H.a)(L,2),F=M[0],B=M[1],P=Object(a.useState)(""),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=Object(a.useState)(""),U=Object(H.a)(G,2),V=U[0],_=U[1],J=Object(a.useState)(!1),Q=Object(H.a)(J,2),Z=Q[0],W=Q[1],K=Object(a.useState)(!1),X=Object(H.a)(K,2),$=(X[0],X[1]),ee=(ge()().format("YYYY-MM-DD"),ge()().format("HH:mm"),sessionStorage.getItem("testName")),te=new URL(window.location.href).searchParams.get("classId"),ne=sessionStorage.getItem("studentid"),ae=sessionStorage.getItem("testid");console.log({testname:ee,classid:te,studentidsession:ne,testidsession:ae});var re=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!0,e.next=4,(new z).considerAnswerExamTrue(s,te,c,a,{isConsider:true});case 4:i=e.sent,console.log({CONSIDER:i.data}),i.ok||I.b.error(i.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,l){var u,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!1,e.next=4,(new z).considerAnswerExamTrue(s,te,c,a,{isConsider:false});case 4:u=e.sent,console.log({UNCONSIDER:u.data}),u.ok?(fe(),i(ne,te,ae,null===(d=r.student)||void 0===d?void 0:d.lname,null===(j=r.student)||void 0===j?void 0:j.fname)):I.b.error(u.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,l){var u,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!0,e.next=4,(new z).updateExamPoints(F,te,R,A,{isConsider:true,studentScore:V});case 4:(u=e.sent).ok?($(!0),x(!1),Oe(),i(F,te,R,null===(d=r.student)||void 0===d?void 0:d.lname,null===(j=r.student)||void 0===j?void 0:j.fname)):I.b.error(u.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();console.log("examAnalysis:",r);var de=function(e,t,n,a,s,c){e.preventDefault(),je(e,e.target.checked,t,n,a,s,c)},je=function(e,t,n,a,s,c,r){!0===t?(re(e,n,a,s,c,r),function(e,t,n,a,s,c){e.preventDefault(),x(!0),_(c),B(a),q(s),D(n),C(t)}(e,n,a,s,c,r)):ie(e,n,a,s,c,r)},he=function(){W(!1)};Object(a.useEffect)((function(){W(!1),null!==V&&_(V)}),[V]);var Oe=function(){return I.b.success("Considered",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},fe=function(){return I.b.warning("Unconsidered",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I.a,{}),Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("span",{className:"font-exam-analysis-header",children:[null===r||void 0===r||null===(t=r.student)||void 0===t?void 0:t.lname,",  ",null===r||void 0===r||null===(n=r.student)||void 0===n?void 0:n.fname]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("span",{className:"font-exam-analysis-header float-right",children:[null===r||void 0===r?void 0:r.score," / ",null===r||void 0===r?void 0:r.assignedRawScore]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("p",{className:"font-exam-analysis-content-24-tfi",children:[ee," "]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("p",{className:"font-exam-analysis-content-24-tfi float-right",children:[ge()(null===r||void 0===r||null===(s=r.classTest)||void 0===s?void 0:s.startDate).format("LL")," "]})})]}),null===r||void 0===r||null===(c=r.testPartAnswers)||void 0===c?void 0:c.map((function(e,t){var n;return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsxs)("p",{className:"font-exam-analysis-content-24-tfi",children:["PART ",t+1]})," ",Object(E.jsx)("p",{style:{marginLeft:5},className:"font-exam-analysis-content-24",dangerouslySetInnerHTML:{__html:e.testPart.instructions}})]}),null===e||void 0===e||null===(n=e.questionDetails)||void 0===n?void 0:n.map((function(t,n){var a;return null===t||void 0===t||null===(a=t.answerDetails)||void 0===a?void 0:a.map((function(n,a){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("br",{}),Object(E.jsxs)("div",{className:"inline-flex",children:[Object(E.jsx)("span",{className:"font-exam-analysis-content-24",style:{marginBottom:"100px !important"}})," ",Object(E.jsx)("span",{className:"font-exam-analysis-content-24",children:Object(E.jsx)(rt,{children:null===n||void 0===n?void 0:n.assignedQuestion})})]}),Object(E.jsxs)(se.a,{style:{textAlign:"center",padding:10},children:[Object(E.jsx)(ce.a,{sm:6,style:{border:"1px solid gray",paddingTop:10,borderRadius:5},children:Object(E.jsxs)("div",{children:[Object(E.jsxs)("span",{className:"font-exam-analysis-content-24",style:{marginRight:10},children:[Object(E.jsx)("span",{style:{marginRight:10},children:n.studentScore>=1&&Object(E.jsx)("i",{className:"fa fa-1x fa-check-circle",style:{color:"green",marginLeft:"10px"}})}),Object(E.jsx)("span",{style:{marginRight:10},children:0==n.studentScore&&Object(E.jsx)("i",{class:"fa fa-times-circle",style:{color:"red",marginLeft:"10px"}})}),"Student Answer :"]}),Object(E.jsx)("span",{className:"font-exam-analysis-content-24",children:null===(null===n||void 0===n?void 0:n.studentAnswer)?Object(E.jsx)("span",{style:{color:"red"},children:"Student has no answer"}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(rt,{children:null===n||void 0===n?void 0:n.studentAnswer})})})]})}),Object(E.jsxs)(ce.a,{sm:6,style:{border:"1px solid gray",paddingTop:10,borderRadius:5},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{className:"font-exam-analysis-content-24",style:{marginRight:10},children:"Correct Answer :"}),Object(E.jsx)("span",{className:"font-exam-analysis-content-24",style:{marginRight:10},children:Object(E.jsx)(rt,{children:null===n||void 0===n?void 0:n.assignedAnswer})})]}),0===(null===n||void 0===n?void 0:n.studentScore)&&!1===(null===n||void 0===n?void 0:n.isConsider)?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(me.a,{children:Object(E.jsx)("div",{style:{display:"inline-flex"},children:Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Check,{label:"Consider",name:"answerid"+n.id,type:"checkbox",checked:n.isConsider,onChange:function(a){return de(a,n.questionId,n.id,n.studentId,e.testPart.testId,t.questionRate)}})})})})}):Object(E.jsx)(E.Fragment,{}),(null===n||void 0===n?void 0:n.studentScore)>=0&&!0===n.isConsider?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(me.a,{children:Object(E.jsx)("div",{style:{display:"inline-flex"},children:Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Check,{label:"Unconsider",name:"answerid"+n.id,type:"checkbox",checked:n.isConsider,style:{},onChange:function(a){return de(a,n.questionId,n.id,n.studentId,e.testPart.testId,t.questionRate)}})})})})}):Object(E.jsx)(E.Fragment,{})]})]}),Object(E.jsx)("hr",{})]})}))})),Object(E.jsx)(oe.a,{success:!0,title:"Good job!",show:Z,onConfirm:he,onCancel:he,children:"You clicked the button!"})]})})),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:p,onHide:function(){return x(!p)},backdrop:"static",children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Update Points"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:le,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Rate / Points"}),Object(E.jsx)(me.a.Control,{defaultValue:V,className:"custom-input",size:"lg",type:"text",placeholder:"Enter points",onChange:function(e){return _(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Point"})})]})})]})]})};function Qr(e){var t=e.title,n=e.clicked,a=e.secondItem,s=e.clickedSecondItem,c=(sessionStorage.getItem("breadname"),window.location.pathname.split("/")[2]);return Object(E.jsx)("div",{className:"row font-20",children:Object(E.jsxs)("div",{className:"bread-margin bread-crumbs-position",children:[Object(E.jsxs)("span",{children:[Object(E.jsx)("span",{className:"text-decoration-none text-black",to:"",children:"Reports"})," ",Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"})]}),Object(E.jsxs)("span",{className:""==t?"tfi-font-color capitalize":"capitalize hand",onClick:n,children:[function(){switch(c){case"exam":return"Exam";case"assignment":return"Assignment";case"interactives":return"Interactive Exercises";default:return c}}()," "]}),""!==t&&Object(E.jsxs)("span",{className:""!==a?"hand capitalize":"tfi-font-color capitalize",onClick:s,children:[Object(E.jsx)("i",{class:"text-black fas fa-chevron-right m-l-10 m-r-10 "}),t]}),""!==a&&Object(E.jsxs)("span",{className:"hand capitalize"!==a?"tfi-font-color capitalize":"",children:[Object(E.jsx)("i",{class:"text-black fas fa-chevron-right m-l-10 m-r-10 "}),a]})]})})}var Zr=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)({}),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)("accordion"),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=T[0],D=T[1],L=Object(a.useState)(""),M=Object(H.a)(L,2),F=M[0],B=M[1],P=Object(a.useState)(!1),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=function(e){s(e)},U=sessionStorage.getItem("testName"),V=new URL(window.location.href).searchParams.get("classId");Object(a.useEffect)((function(){_(V),w(V)}),[]);var _=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),console.log(t),e.next=4,(new z).getClassModules(t);case 4:(n=e.sent).ok?(p(n.data),q(!1)):I.b.error("Something went wrong while fetching class modules.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("testReport"),q(!0),sessionStorage.setItem("testName",n),sessionStorage.setItem("testid",t),e.next=6,(new z).getTestReport(g,t);case 6:s=e.sent,q(!1),s.ok?(u(s.data),q(!1)):(q(!1),I.b.error(null===(c=s.data)||void 0===c?void 0:c.ErrorMessage));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({studentid:t}),m("analysis"),B("".concat(s,", ").concat(c)),e.next=5,(new z).getExamAnalysis(t,n,a);case 5:(r=e.sent).ok&&D(r.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c){return e.apply(this,arguments)}}();return Object(E.jsxs)(ft,{children:[R&&Object(E.jsx)(ee,{}),Object(E.jsx)(Qr,{title:k||"",secondItem:F||"",clicked:function(){return m("accordion"),B(""),void C("")},clickedSecondItem:function(){return m("testReport"),void B("")}}),Object(E.jsx)("div",{children:Object(E.jsx)("div",{className:"row m-b-20",children:"accordion"==b?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Grade Report - Exam "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){_(V)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:G,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search for exam name here ...",type:"search",onChange:function(e){return G(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]}):Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:U}),"testReport"==b&&Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){var e=sessionStorage.getItem("testid"),t=sessionStorage.getItem("testName");"testReport"==b&&J(e,t,g)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]})})}),"accordion"==b&&Object(E.jsx)(ut,{filter:n,setFilter:s,getTestReport:function(e){console.log(e,"--------"),C(e.test.testName),J(e.test.id,e.test.testName,e.test.classId)},classesModules:f,selectedClassId:g}),"testReport"==b&&Object(E.jsx)(lt,{testName:U,showReportHeader:!0,getExamAnalysis:Q,setShowReportHeader:function(){return console.log("")},setTestReport:function(){return alert("setTestReport")},testReport:i}),"analysis"==b&&Object(E.jsx)(Jr,{examAnalysis:A,setExamAnalysis:D,getExamAnalysis:Q})]})};var Wr=function(e){var t,n,s,c,r,i,u,d,j,b,m=e.taskAnalysis,h=e.setTaskAnalysis,O=Object(a.useState)([]),f=Object(H.a)(O,2),p=(f[0],f[1]),x=Object(a.useState)(!1),v=Object(H.a)(x,2),g=(v[0],v[1],Object(a.useState)(!1)),w=Object(H.a)(g,2),N=(w[0],w[1]),y=Object(a.useState)(!1),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),D=A[0],L=A[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1],Y=Object(a.useState)(""),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(""),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)(""),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=Object(a.useState)({}),$=Object(H.a)(X,2),ee=$[0],te=$[1],ne=null===m||void 0===m||null===(t=m.task)||void 0===t?void 0:t.rate,ae=new URL(window.location.href).searchParams.get("classId"),re=sessionStorage.getItem("studentid"),ie=function(e,t,n,a,s,c,r){e.preventDefault(),S(!0),G(t),J(a),K(s),L(c),P(r)},oe=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""===D||D<0)){e.next=5;break}I.b.error("Points cannot be less than 0"),e.next=11;break;case 5:return e.next=7,(new z).updateTaskPoints(q,ae,_,W,{taskGrade:D,feedback:B});case 7:N(!0),S(!1),he(),de(t,q,ae,_);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""===D||D<0||null==D)){e.next=5;break}I.b.error("Points cannot be empty!"),e.next=11;break;case 5:return e.next=7,(new z).updateTaskPoints(q,ae,_,W,{taskGrade:D,feedback:B});case 7:N(!0),S(!1),Oe(),de(t,q,ae,_);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.next=4,(new z).getTaskAnalysis(n,a,s);case 4:(c=e.sent).ok?h(c.data):I.b.error(c.data.errorMessage);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getStudentTaskAnwswer(t,n,a);case 2:(s=e.sent).ok&&te(s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e;null!=(null===m||void 0===m?void 0:m.studentTask)&&je(re,ae,null===m||void 0===m||null===(e=m.task)||void 0===e?void 0:e.id)}),[m]);var he=function(){return I.b.success("Successfully Updated Points",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Oe=function(){return I.b.success("Successfully Saved Points",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I.a,{}),Object(E.jsx)(se.a,{children:null===m.studentTask?Object(E.jsx)(ce.a,{md:12,children:"No Answer Yet "}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("hr",{}),Object(E.jsxs)(ce.a,{md:12,children:["Task Name : ",null===(n=m.task)||void 0===n?void 0:n.taskName]}),Object(E.jsx)("hr",{}),Object(E.jsx)(ce.a,{md:12,children:null===(s=m.studentTask)||void 0===s?void 0:s.taskAnswer}),Object(E.jsx)("hr",{}),Object(E.jsxs)(ce.a,{md:12,children:[null===(c=m.studentTask)||void 0===c?void 0:c.taskGrade,null===(null===(r=m.studentTask)||void 0===r?void 0:r.taskGrade)?Object(E.jsxs)(ue.a,{variant:"outline-warning",className:"mb-2 mx-3",size:"sm",onClick:function(e){return ie(e,m.student.id,0,m.task.id,m.studentTask.id,m.studentTask.taskGrade,m.studentTask.feedback)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Add Points"]}):Object(E.jsxs)(ue.a,{variant:"outline-warning",className:"mb-2 mx-3",size:"sm",onClick:function(e){return ie(e,m.student.id,0,m.task.id,m.studentTask.id,m.studentTask.taskGrade,m.studentTask.feedback)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Update Points"]})]}),Object(E.jsx)(ce.a,{className:"mb-3",children:Object(E.jsx)(se.a,{children:null===ee||void 0===ee||null===(i=ee.uploadedFiles)||void 0===i?void 0:i.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("a",{href:e.filePath,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"fas fa-download td-file-page"})})})}))})}),Object(E.jsx)(ce.a,{md:12,children:null===(u=m.studentTask)||void 0===u?void 0:u.feedback})]})}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:C,onHide:function(){return S(!C)},backdrop:"static",children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:null===(null===(d=m.studentTask)||void 0===d?void 0:d.taskGrade)?Object(E.jsx)(E.Fragment,{children:"Add Points"}):Object(E.jsx)(E.Fragment,{children:"Update Points"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:null===(null===(j=m.studentTask)||void 0===j?void 0:j.taskGrade)?le:oe,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsxs)(me.a.Label,{for:"courseName",children:["Total Rate / Points: ",ne]}),Object(E.jsx)(me.a.Control,{defaultValue:D,className:"custom-input",size:"lg",type:"number",placeholder:"Enter points",onChange:function(e){var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)>ne?I.b.error("Points must not be greater than the total rate."):L(e.target.value),L(e.target.value)}})]}),Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Control,{defaultValue:B,className:"custom-input",size:"lg",type:"text",placeholder:"Enter feedback",onChange:function(e){return P(e.target.value)}})}),D<=ne&&Object(E.jsx)("span",{style:{float:"right"},children:null===(null===(b=m.studentTask)||void 0===b?void 0:b.taskGrade)?Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Points"}):Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Points"})})]})})]})]})};var Kr=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)("accordion"),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=T[0],D=T[1],L=Object(a.useState)(""),M=Object(H.a)(L,2),F=M[0],B=M[1],P=Object(a.useState)(!1),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=function(e){s(e)},U=new URL(window.location.href).searchParams.get("classId");Object(a.useEffect)((function(){V(U),w(U)}),[]);var V=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,(new z).getClassModules(t);case 3:(n=e.sent).ok?(p(n.data),q(!1),console.log(n.data)):(I.b.error("Something went wrong while fetching all class modules."),q(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),m("taskReport"),C(a),sessionStorage.setItem("taskName",a),sessionStorage.setItem("taskId",n),e.next=7,(new z).getTaskReport(g,n,a);case 7:(s=e.sent).ok?(u(s.data),q(!1)):I.b.error(s.data.errorMessage);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),J=sessionStorage.getItem("taskName"),Q=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("studentid",n),B("".concat(c,", ").concat(r)),m("analysis"),e.next=5,(new z).getTaskAnalysis(n,g,s);case 5:(i=e.sent).ok?(D(i.data),console.log(i.data)):I.b.error(i.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();return Object(E.jsxs)(ft,{children:[R&&Object(E.jsx)(ee,{}),Object(E.jsx)(Qr,{title:k||"",secondItem:F||"",clicked:function(){return m("accordion"),B(""),void C("")},clickedSecondItem:function(){return function(){var e=sessionStorage.getItem("taskId"),t=sessionStorage.getItem("taskName");m("taskReport"),B(""),_(null,e,t)}()}}),"accordion"==b?Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Grade Report - Task "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){V(U)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:G,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search for task name here ...",type:"search",onChange:function(e){return G(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]}):Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:J}),"taskReport"==b&&Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(e){var t=sessionStorage.getItem("taskId"),n=sessionStorage.getItem("taskName");"taskReport"==b&&_(e,t,n)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),"accordion"==b&&Object(E.jsx)(mt,{filter:n,setFilter:s,getTaskReport:_,classesModules:f,setClassesModules:p}),"taskReport"==b&&Object(E.jsx)(bt,{getTaskReport:_,taskname:J,setTaskReport:u,getTaskAnalysis:Q,taskReport:i}),"analysis"==b&&Object(E.jsx)(Wr,{taskAnalysis:A,setTaskAnalysis:D})]})};var Xr=function(e){var t,n,s,c,r,i,u,d,j,b,m=e.assignmentAnalysis,h=e.setAssignmentAnalysis;console.log({assignmentAnalysis:m});var O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(""),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),A=Object(H.a)(T,2),D=A[0],L=A[1],M=Object(a.useState)(""),F=Object(H.a)(M,2),B=F[0],P=F[1],Y=Object(a.useState)(""),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(""),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)({}),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1],X=new URL(window.location.href).searchParams.get("classId"),$=sessionStorage.getItem("studentid"),ee=null===m||void 0===m||null===(t=m.assignment)||void 0===t?void 0:t.rate,te=function(e,t,n,a,s,c){e.preventDefault(),x(!0),L(t),P(X),G(n),J(a),N(s),S(c)},ne=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(new z).getAssignmentAnalysis(n,a,s);case 3:(c=e.sent).ok?h(c.data):I.b.error(c.data.ErrorMessage);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e;null!=(null===m||void 0===m?void 0:m.studentAssignment)&&ae($,X,null===m||void 0===m||null===(e=m.assignment)||void 0===e?void 0:e.id)}),[]);var ae=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new z).getStudentAssignmentAnswer(t,X,a);case 2:(s=e.sent).ok&&K(s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log({assignmentGrade:w}),t.preventDefault(),!(""==w||w<0||null==w)){e.next=6;break}I.b.error("Points cannot be empty!"),e.next=11;break;case 6:return e.next=8,(new z).updateAssignmentPoints(D,B,q,_,{assignmentGrade:w,feedback:C});case 8:x(!1),le(),ne(t,D,B,q);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(""==w||w<0)){e.next=5;break}I.b.error("Points cannot be less than 0"),e.next=10;break;case 5:return e.next=7,(new z).updateAssignmentPoints(D,B,q,_,{assignmentGrade:w,feedback:C});case 7:x(!1),oe(),ne(t,D,B,q);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){return I.b.success("Successfully Updated Points",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},le=function(){return I.b.success("Successfully Saved Points",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I.a,{}),Object(E.jsx)(se.a,{children:null===m.studentAssignment?Object(E.jsx)(ce.a,{md:12,children:"No Answer Yet"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ce.a,{md:12,children:["Assignment Name: ",null===(n=m.assignment)||void 0===n?void 0:n.assignmentName]}),Object(E.jsx)("hr",{}),Object(E.jsx)(ce.a,{md:12,children:null===(s=m.studentAssignment)||void 0===s?void 0:s.assignmentAnswer}),Object(E.jsx)("hr",{}),Object(E.jsxs)(ce.a,{md:12,children:[null===(c=m.studentAssignment)||void 0===c?void 0:c.assignmentGrade,null===(null===(r=m.studentAssignment)||void 0===r?void 0:r.assignmentGrade)?Object(E.jsxs)(ue.a,{variant:"outline-warning",size:"sm",className:"mx-3 mb-2",onClick:function(e){return te(e,m.student.id,m.assignment.id,m.studentAssignment.id,m.studentAssignment.assignmentGrade,m.studentAssignment.feedback)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Add Points"]}):Object(E.jsxs)(ue.a,{variant:"outline-warning",size:"sm",className:"mx-3 mb-2",onClick:function(e){return te(e,m.student.id,m.assignment.id,m.studentAssignment.id,m.studentAssignment.assignmentGrade,m.studentAssignment.feedback)},children:[Object(E.jsx)("i",{class:"fas fa-redo",style:{paddingRight:"10px"}}),"Update Points"]})]}),Object(E.jsx)(ce.a,{className:"mb-3",children:Object(E.jsx)(se.a,{children:null===W||void 0===W||null===(i=W.uploadedFiles)||void 0===i?void 0:i.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("a",{href:e.filePath,download:!0,target:"_blank",children:Object(E.jsx)("i",{class:"fas fa-download td-file-page"})})})}))})}),Object(E.jsx)("hr",{}),Object(E.jsx)(ce.a,{md:12,children:null===(u=m.studentAssignment)||void 0===u?void 0:u.feedback})]})}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:p,onHide:function(){return x(!p)},backdrop:"static",children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:null===(null===(d=m.studentAssignment)||void 0===d?void 0:d.assignmentGrade)?Object(E.jsx)(E.Fragment,{children:"Add Points"}):Object(E.jsx)(E.Fragment,{children:"Update Points"})}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:null===(null===(j=m.studentAssignment)||void 0===j?void 0:j.assignmentGrade)?re:ie,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsxs)(me.a.Label,{for:"courseName",children:["Total Rate / Points: ",ee]}),Object(E.jsx)(me.a.Control,{defaultValue:w,className:"custom-input",size:"lg",type:"number",placeholder:"Enter points",onChange:function(e){var t;N(e.target.value),(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)>ee?I.b.error("Points must not be greater than the total rate."):N(e.target.value)}})]}),Object(E.jsx)(me.a.Group,{className:"m-b-20",children:Object(E.jsx)(me.a.Control,{defaultValue:C,className:"custom-input",size:"lg",type:"text",placeholder:"Enter feedback",onChange:function(e){return S(e.target.value)}})}),w<=ee&&Object(E.jsx)("span",{style:{float:"right"},children:null===(null===(b=m.studentAssignment)||void 0===b?void 0:b.assignmentGrade)?Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Save Points"}):Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Points"})})]})})]})]})};var $r=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)("accordion"),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(),v=Object(H.a)(x,2),g=(v[0],v[1]),w=Object(a.useState)(""),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)([]),S=Object(H.a)(C,2),T=S[0],A=S[1],D=Object(a.useState)(""),L=Object(H.a)(D,2),M=L[0],F=L[1],P=Object(a.useState)(!1),Y=Object(H.a)(P,2),R=Y[0],q=Y[1],G=Object(B.useParams)().id,U=function(e){s(e)};console.log("classId",G);var V=new URL(window.location.href).searchParams.get("classId");Object(a.useEffect)((function(){_(V),g(V)}),[]);var _=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,(new z).getClassModules(t);case 3:(n=e.sent).ok?(p(n.data),q(!1)):(I.b.error("Something went wrong while fetching all class modules."),q(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),m("assignmentReport"),k(a),sessionStorage.setItem("assignmentName",a),sessionStorage.setItem("assignmentId",n),e.next=7,(new z).getAssignmentReport(V,n);case 7:(s=e.sent).ok?(u(s.data),q(!1)):(I.b.error(s.data.errorMessage),q(!1));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("analysis"),sessionStorage.setItem("analysis","true"),sessionStorage.setItem("studentid",n),F("".concat(c,", ").concat(r)),e.next=6,(new z).getAssignmentAnalysis(n,V,s);case 6:(i=e.sent).ok?A(i.data):I.b.error(i.data.errorMessage);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();return Object(E.jsxs)(ft,{children:[R&&Object(E.jsx)(ee,{}),Object(E.jsx)(Qr,{title:y||"",secondItem:M||"",clicked:function(){return m("accordion"),F(""),void k("")},clickedSecondItem:function(){return function(){var e=sessionStorage.getItem("assignmentId"),t=sessionStorage.getItem("assignmentName");m("assignmentReport"),F(""),J(null,e,t)}()}}),"accordion"==b?Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Grade Report - Assignment "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){_(V)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:U,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search for assignment name here ...",type:"search",onChange:function(e){return U(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]}):Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:y}),"assignmentReport"==b&&Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(e){var t=sessionStorage.getItem("assignmentId"),n=sessionStorage.getItem("assignmentName");"assignmentReport"==b&&J(e,t,n)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),"accordion"==b&&Object(E.jsx)(jt,{filter:n,setFilter:s,getAssignmentReport:J,classesModules:f,setClassesModules:p}),"assignmentReport"==b&&Object(E.jsx)(dt,{getAssignmentReport:J,assignmentName:y,setAssignmentReport:u,getAssignmentAnalysis:Q,assignmentReport:i}),"analysis"==b&&Object(E.jsx)(Xr,{assignmentAnalysis:T,setAssignmentAnalysis:A})]})};var ei=function(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)("accordion"),j=Object(H.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(),v=Object(H.a)(x,2),g=v[0],w=v[1],N=Object(a.useState)(""),y=Object(H.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)([]),T=Object(H.a)(S,2),A=(T[0],T[1]),D=Object(a.useState)(""),L=Object(H.a)(D,2),M=L[0],F=L[1],B=Object(a.useState)(!1),P=Object(H.a)(B,2),Y=P[0],R=P[1],q=function(e){s(e)},G=new URL(window.location.href).searchParams.get("classId");Object(a.useEffect)((function(){U(G),w(G)}),[]);var U=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,(new z).getClassModules(t);case 3:(n=e.sent).ok?(p(n.data),R(!1),console.log(n.data)):(I.b.error("Something went wrong while fetching all class modules."),R(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("interactiveReport"),C(a),sessionStorage.setItem("interactiveName",a),e.next=5,(new z).getInteractiveReport(G,n,a);case 5:(s=e.sent).ok?(u(s.data),console.log(s.data)):I.b.error(null===(c=s.data)||void 0===c?void 0:c.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,s,c,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("studentid",n),F("".concat(c,", ").concat(r)),m("analysis"),e.next=5,(new z).getTaskAnalysis(n,g,s);case 5:(i=e.sent).ok?(A(i.data),console.log(i.data)):I.b.error(i.data.errorMessage);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}();return Object(E.jsxs)(ft,{children:[Y&&Object(E.jsx)(ee,{}),Object(E.jsx)(Qr,{title:k||"",secondItem:M||"",clicked:function(){return m("accordion"),F(""),void C("")},clickedSecondItem:function(){return m("taskReport"),void F("")}}),"accordion"==b?Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"col-md-10 pages-header fd-row mr-3",children:[Object(E.jsx)("p",{className:"title-header m-0",children:"Grade Report - Interactive "}),Object(E.jsx)("div",{children:Object(E.jsx)(ue.a,{onClick:function(){U(G)},className:"ml-3",children:Object(E.jsx)("i",{className:"fa fa-sync"})})})]}),Object(E.jsx)("div",{className:"row m-b-20 m-t-30",onSearch:q,children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search for interactive name here ...",type:"search",onChange:function(e){return q(e.target.value)}}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})})]}):Object(E.jsx)("div",{className:"col-md-10 pages-header fd-row mr-3",children:Object(E.jsx)("p",{className:"title-header m-0",children:k})}),"accordion"==b&&Object(E.jsx)(Ot,{filter:n,setFilter:s,getInteractiveReport:V,classesModules:f,setClassesModules:p}),"interactiveReport"==b&&Object(E.jsx)(ht,{interactiveName:k,getTaskAnalysis:_,interactiveReport:i})]})};function ti(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1];Object(a.useEffect)((function(){j()}),[]);var j=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,(new Sr).fetchEvents(null===e||void 0===e?void 0:e.userId);case 3:(n=t.sent).ok?(console.log(n.data),a=n.data.filter((function(e){return ge()(e.endDate).isAfter(ge()(new Date))})),s=a.sort((function(e,t){if(ge()(e.dateUpdated)>ge()(t.dateUpdated))return-1})),d(s)):I.b.error("Something went wrong while fetching notifications"),c(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsx)(te,{loading:s,title:"",activeHeader:"",children:Object(E.jsxs)(ce.a,{className:"px-4",sm:12,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-3",children:"Notifications"}),u.map((function(e,t){return Object(E.jsxs)(ce.a,{children:[Object(E.jsxs)(se.a,{className:"justify-content-around",children:[Object(E.jsxs)(ce.a,{md:10,children:[Object(E.jsx)("h3",{children:e.class}),Object(E.jsx)("h4",{children:e.title}),Object(E.jsx)("p",{children:e.description?e.description:"No description available."})]}),Object(E.jsx)(ce.a,{md:2,children:Object(E.jsx)("p",{className:"float-end",children:ge()(e.dateUpdated).startOf().fromNow()})})]}),Object(E.jsx)("hr",{})]},t)}))]})})}function ni(){var e,t,n=Object(a.useState)(!0),s=Object(H.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)([]),u=Object(H.a)(i,2),d=u[0],j=u[1],b=Object(a.useState)(!1),h=Object(H.a)(b,2),O=h[0],f=h[1],p=Object(a.useState)(!1),x=Object(H.a)(p,2),v=x[0],g=x[1],w=Object(a.useState)(null),N=Object(H.a)(w,2),y=N[0],k=N[1],C=Object(a.useState)(null),S=Object(H.a)(C,2),T=S[0],A=S[1],D=Object(a.useState)(!1),L=Object(H.a)(D,2),M=L[0],F=L[1],B=Object(Vc.a)(),P=B.register,z=B.handleSubmit,R=B.reset,q=B.setValue,G=B.formState.errors;Object(a.useEffect)((function(){U()}),[]);var U=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).fetchAcademicTerm();case 2:t=e.sent,r(!0),t.ok?(console.log(t,"--=-=-=-=-="),j(null===t||void 0===t?void 0:t.data)):I.b.error("Something went wrong while fetching all Academic Term"),r(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==y){e.next=7;break}return e.next=3,(new Y).updateAcademicTerm(y.id,Object(m.a)(Object(m.a)({},t),{},{isCurrentTerm:y.isCurrentTerm}));case 3:e.sent.ok?(I.b.success("Successfully Updated Term"),U(),R(),f(!1),k(null)):I.b.error("Something went wrong while updating the term"),e.next=11;break;case 7:return e.next=9,(new Y).addAcademicTerm(Object(m.a)(Object(m.a)({},t),{},{isCurrentTerm:!1}));case 9:(n=e.sent).ok?(I.b.success("Successfully Created Term"),U(),R(),f(!1)):I.b.error(n.data.errorMessage);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),g(!1),e.next=4,(new Y).deleteAcademicTerm(t);case 4:e.sent.ok?(I.b.success("Successfully Deleted Term"),U()):I.b.error("Something went wrong while deleting terms"),k(null),r(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Y).setCurrentAcademicTerm(T);case 2:e.sent.ok?(I.b.success("Successfully updated term"),U(),F(!1)):I.b.error("Something went wrong while updating current term");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[c&&Object(E.jsx)(ee,{}),Object(E.jsx)(Dc.a,{pageCount:100,list:d,filterable:!0,data:d,columns:[{Header:"",columns:[{Header:"Current School Year",id:"term",accessor:function(e){return e.academicTermName},Cell:function(e){return Object(E.jsx)("input",{type:"checkbox",onClick:function(){return e.original.isCurrentTerm?"":(t=e.original.id,console.log(t),A(t),void F(!0));var t},checked:e.original.isCurrentTerm,name:"academicTermName"})}},{Header:"School Year",id:"term",accessor:function(e){return e.academicTermName}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{style:{textAlign:"center"},className:"",children:[Object(E.jsx)("button",{onClick:function(){q("academicTermName",e.original.academicTermName),q("description",e.original.description),k(e.original),f(!0)},className:"btn btn-info btn-sm m-r-5",children:"Edit"}),Object(E.jsx)("button",{onClick:function(){k(e.original),g(!0)},className:"btn btn-danger btn-sm m-r-5",children:"Delete"})]})}}]}],csv:!0,edited:d,defaultPageSize:10,className:"-highlight"}),Object(E.jsx)("button",{class:"btn btn-primary px-5 mt-3",onClick:function(){return f(!0)},children:"Create new school year"}),Object(E.jsx)(oe.a,{showCancel:!0,show:v,onConfirm:function(){return _(y.id)},confirmBtnText:"Confirm",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"secondary",title:"Are you sure to delete this term?",onCancel:function(){return g(!1)}}),Object(E.jsx)(oe.a,{showCancel:!0,show:M,onConfirm:function(){return J()},confirmBtnText:"Confirm",confirmBtnBsStyle:"danger",cancelBtnBsStyle:"secondary",title:"Are you sure to set this to current term?",onCancel:function(){return F(!1)}}),Object(E.jsx)(be.a,{size:"lg",show:O,onHide:function(){return f(!1),void k(null)},children:Object(E.jsxs)("form",{onSubmit:z(V),children:[Object(E.jsx)(be.a.Header,{className:"font-10",closeButton:!0,children:Object(E.jsx)("span",{className:"font-20",children:null!=y?"Update School Year":"Create School Year"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)("div",{className:"row",children:[Object(E.jsxs)("div",{className:"col-md-4 m-b-15",children:[Object(E.jsx)("label",{className:"control-label mb-2",children:"School Year"}),Object(E.jsx)("input",Object(m.a)(Object(m.a)({},P("academicTermName",{required:"Term name is required"})),{},{type:"text",size:"30",className:"form-control",placeholder:"Enter text here"})),Object(E.jsx)("p",{className:"text-danger",children:null===(e=G.academicTermName)||void 0===e?void 0:e.message})]}),Object(E.jsxs)("div",{className:"col-md-4 m-b-15",children:[Object(E.jsx)("label",{className:"control-label mb-2",children:"Description"}),Object(E.jsx)("input",Object(m.a)(Object(m.a)({},P("description",{required:"Term description is required"})),{},{type:"text",size:"30",className:"form-control",placeholder:"Enter text here"})),Object(E.jsx)("p",{className:"text-danger",children:null===(t=G.description)||void 0===t?void 0:t.message})]})]})}),Object(E.jsx)(be.a.Footer,{children:null!=y?Object(E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update School Year"}):Object(E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save School Year"})})]})})]})}function ai(){return Object(E.jsx)(te,{title:"School",activeHeader:"school",style:"not-scrollable",children:Object(E.jsxs)(se.a,{className:"mt-4",children:[Object(E.jsx)(ce.a,{sm:3,children:Object(E.jsx)(Ws,{active:"academicTerm"})}),Object(E.jsx)(ce.a,{sm:9,className:"rounded-white-container px-4",children:Object(E.jsx)(ni,{})})]})})}var si=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).fetchMirandaAccounts=function(t){return e.sendRequest({path:"/api/Miranda",method:"GET"})},e.updateMirandaAccounts=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Miranda/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.uploadAccounts=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Miranda/excel",method:"POST",data:n}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N);function ci(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(""),j=Object(H.a)(d,2),b=(j[0],j[1],Object(a.useState)(!1)),m=Object(H.a)(b,2),h=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(H.a)(f,2),x=p[0],v=p[1],g=Object(a.useState)(!1),w=Object(H.a)(g,2),N=w[0],y=w[1],k=Object(a.useState)(""),C=Object(H.a)(k,2),S=C[0],T=C[1],A=Object(a.useState)(""),D=Object(H.a)(A,2),L=D[0],M=D[1],F=Object(a.useState)(""),B=Object(H.a)(F,2),P=B[0],z=B[1],Y=Object(a.useState)(""),R=Object(H.a)(Y,2),q=R[0],G=R[1],U=Object(a.useState)(""),V=Object(H.a)(U,2),_=V[0],J=V[1],Q=Object(a.useState)({}),Z=Object(H.a)(Q,2),W=Z[0],K=Z[1];Object(a.useEffect)((function(){$()}),[]);var X=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).deleteCourse(_);case 2:e.sent.ok?(I.b.success("Course deleted successfully"),$()):I.b.error("Something went wrong while deleting course."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,(new si).fetchMirandaAccounts();case 3:(t=e.sent).ok?s(t.data):I.b.error("Something went wrong while fetching exam information"),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=S&&""!=L&&""!=P&&""!=q){e.next=5;break}I.b.error("Please insert all the required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=10;break;case 5:return n={id:_,username:S,password:L,connectionCode:P,roomNumber:q},e.next=8,(new si).updateMirandaAccounts(_,n);case 8:(a=e.sent).ok?(I.b.success("Account updated successfully."),$(),O(!1),T(""),M(""),z(""),G("")):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},ae=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!1),e.next=4,(new si).uploadAccounts(W);case 4:e.sent.ok?($(),I.b.success("Successfully uploaded the Student list.")):I.b.error("Something went wrong while uploading Student list.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(te,{title:"Dashboard",activeHeader:"miranda",loading:x,children:[Object(E.jsx)("p",{}),Object(E.jsx)("span",{className:"font-24",children:"Miranda Accounts"})," |"," ",Object(E.jsxs)("button",{onClick:function(){y("Register")},className:"tficolorbg-button btn btn-info btn-sm m-r-5 my-3",children:["Add Miranda Account"," ",Object(E.jsx)("i",{class:"fas fa-plus"})]}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:n,columns:[{Header:"",columns:[{Header:"Username",id:"username",accessor:function(e){return e.username}},{Header:"Password",id:"password",accessor:function(e){return e.password}},{Header:"Connection Code",id:"connectionCode",accessor:function(e){return e.connectionCode}},{Header:"Room",id:"room",accessor:function(e){return e.roomNumber}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(E.jsx)("button",{onClick:function(){return t=e.original,T(t.username),M(t.password),z(t.connectionCode),G(t.roomNumber),J(t.id),void O(!0);var t},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})})})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"}),Object(E.jsxs)(be.a,{size:"lg",show:N,onHide:function(){return N(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Students"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return ae(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{type:"file",accept:".xls,.xlsx,",onChange:function(e){return t=e.target.files[0],void ne(t).then((function(e){var n={base64String:e,fileName:t.name};K(n)}));var t}})}),Object(E.jsx)("p",{children:".xslx"}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return X()},confirmBtnText:"Delete",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"You will not be able to recover this data!"}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:h,onHide:function(){return O(!h)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Account"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:ee,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Username"}),Object(E.jsx)(je.a,{defaultValue:S,className:"custom-input",size:"lg",type:"text",onChange:function(e){return T(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Password"}),Object(E.jsx)(je.a,{defaultValue:L,className:"custom-input",size:"lg",type:"text",onChange:function(e){return M(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Connection Code"}),Object(E.jsx)(je.a,{defaultValue:P,className:"custom-input",size:"lg",type:"text",onChange:function(e){return z(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Room"}),Object(E.jsx)(je.a,{defaultValue:q,className:"custom-input",size:"lg",type:"text",onChange:function(e){return G(e.target.value)}})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Account"})})]})})]})]})}var ri=function(){var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(B.useParams)().id,j=Object(a.useState)(""),b=Object(H.a)(j,2),m=(b[0],b[1]),h=Object(a.useState)([]),O=Object(H.a)(h,2),f=O[0],p=O[1],x=Object(a.useState)(""),v=Object(H.a)(x,2),g=v[0],w=v[1],N=f.map((function(e){return"/".concat(e.value)}));Object(a.useEffect)((function(){y("")}),[]);var y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),n={subFolderLocation:t},e.next=4,(new Ct).ebooksFiles(d,n);case 4:(a=e.sent).ok?(s(a.data.files),u(a.data.folders),console.log(a.data,"!!!!!")):alert("Something went wrong while fetching Course files.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(Ye,{children:[Object(E.jsx)(Lt,{title:"",clicked:function(){return console.log("")}}),Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return w(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search File here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsxs)("p",{style:{fontSize:"20px"},children:[Object(E.jsx)("span",{onClick:function(){return p([]),void y("")},className:0==f.length?"fix-color-bread":"colored-files-bread",children:"Course Files"}),f.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){"Course"==n&&(N.length=t+1,f.length=t+1,y(N.join("")))}(e.value,t,"Course")},className:f.length==t+1?"fix-color-bread":"colored-files-bread",children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))]}),Object(E.jsx)(yn,{filter:g,data:n,folders:i,subFolder:N.join(""),clickedFolder:function(e){return function(e){var t={naame:e,value:e};f.push(t),y("".concat(N.join(""),"/").concat(e))}(e.name)},deleted:function(){y(N.join(""))},type:"Ebooks",id:d})]})]})};var ii=function(){var e=Object(B.useParams)().id,t=Object(a.useState)([]),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1],j=Object(a.useState)([]),b=Object(H.a)(j,2),m=b[0],h=(b[1],Object(a.useContext)(D).data.user),O=Object(a.useState)([]),f=Object(H.a)(O,2),p=f[0],x=(f[1],Object(a.useState)("")),v=Object(H.a)(x,2),g=v[0],w=v[1],N=p.map((function(e){return"/".concat(e.value)})),y=(h.subsType,Object(a.useState)(!1)),k=Object(H.a)(y,2),C=(k[0],k[1]),S=Object(a.useState)(""),T=Object(H.a)(S,2),A=T[0],I=T[1],L=Object(a.useState)(null),M=Object(H.a)(L,2),F=M[0],P=M[1],Y=Object(a.useState)(!0),R=Object(H.a)(Y,2);R[0],R[1],Object(a.useEffect)((function(){q()}),[]);var q=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new z).getClassInformation(e);case 2:(n=t.sent).ok&&(P(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.courseId),console.log({response:n}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){F&&U("")}),[F]);var G=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).ebooksFiles(F,n);case 3:(a=e.sent).ok?(c(a.data.files),d(a.data.folders)):alert("Something went wrong while fetching class files.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={subFolderLocation:t},e.next=3,(new Ct).ebooksFiles(F,n);case 3:(a=e.sent).ok?(c(a.data.files),d(a.data.folders)):alert("Something went wrong while fetching Course files.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(_n,{children:[Object(E.jsx)(Jn,{title:"Class Files",clicked:function(){C(!1),I("")}}),Object(E.jsxs)("div",{className:"row m-b-20 file-content",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"title-header",children:"Files"})}),Object(E.jsx)("div",{className:"row m-b-20",children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)(de.a,{size:"lg",children:[Object(E.jsx)(je.a,{onChange:function(e){return w(e.target.value)},"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",placeholder:"Search File here",type:"search"}),Object(E.jsx)(de.a.Text,{id:"basic-addon2",className:"search-button",children:Object(E.jsx)("i",{className:"fas fa-search fa-1x"})})]})})}),Object(E.jsx)("p",{style:{fontSize:"20px"},children:m.map((function(e,t){return Object(E.jsxs)("span",{onClick:function(){return function(e,t,n){N.length=t+1,p.length=t+1,U(N.join(""))}(e.value,t)},className:m.length==t+1?"fix-color-bread":"colored-files-bread",children:[Object(E.jsx)("i",{class:"fas fa-chevron-right m-l-10 m-r-10"}),e.naame]})}))}),Object(E.jsx)(yn,{filter:g,data:s,folders:u,subFolder:N.join(""),clickedFolder:function(e){return function(e,t){var n={naame:e,value:e};p.push(n),U("".concat(N.join(""),"/").concat(e))}(e.name)},deleted:function(){"Class"==A?G(N.join("")):U(N.join(""))},type:"Ebooks",id:e})]})]})},oi=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).studentEbooks=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Account/".concat(n,"/ebooks"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uploadLinks=function(){var t=Object(l.a)(o.a.mark((function t(n,a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/ebooklink/").concat(a,"/upload"),method:"POST",data:s}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getEbooksPerCourse=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/Course/".concat(n,"/ebooklink"),method:"GET"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateEbookLink=function(){var t=Object(l.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/UserEbook/".concat(n),method:"PUT",data:a}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.deleteEbookLink=function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.sendRequest({path:"/api/UserEbook/".concat(n),method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(N);function li(){var e=Object(a.useContext)(D).data.user,t=Object(a.useState)(!1),n=Object(H.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(H.a)(r,2),u=i[0],d=i[1];Object(a.useEffect)((function(){j()}),[]);var j=function(){var t=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,(new oi).studentEbooks(null===e||void 0===e?void 0:e.userId);case 3:(n=t.sent).ok?d(n.data):I.b.error("Something went wrong while fetching ebooks links."),c(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(E.jsx)(te,{loading:s,title:"",activeHeader:"",children:Object(E.jsxs)(ce.a,{className:"px-4",sm:12,children:[Object(E.jsx)("h2",{className:"primary-color mt-5 mb-5",children:"Ebook Links"}),null===u||void 0===u?void 0:u.map((function(e,t){var n,a,s;return Object(E.jsxs)(ce.a,{children:[Object(E.jsx)("h4",{children:null===(n=e.course)||void 0===n?void 0:n.courseName}),Object(E.jsxs)("h5",{className:"m-3",children:["Link: ",Object(E.jsx)("a",{target:"_blank",className:"class-links",href:null===(a=e.ebook)||void 0===a?void 0:a.ebookLink,children:null===(s=e.ebook)||void 0===s?void 0:s.ebookLink})]}),Object(E.jsx)("hr",{})]},t)}))]})})}function ui(){Object(a.useContext)(D).data.user.subsType;var e=Object(a.useState)([]),t=Object(H.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(H.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(""),j=Object(H.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)(!1),f=Object(H.a)(O,2),p=f[0],x=f[1],v=Object(a.useState)(!1),g=Object(H.a)(v,2),w=g[0],N=g[1],y=Object(a.useState)(""),k=Object(H.a)(y,2),C=k[0],S=k[1],T=Object(a.useState)(""),L=Object(H.a)(T,2),M=L[0],F=L[1],B=Object(a.useState)(""),P=Object(H.a)(B,2),z=P[0],Y=P[1],R=Object(a.useState)(""),q=Object(H.a)(R,2),G=q[0],U=q[1],V=Object(a.useState)([]),_=Object(H.a)(V,2),J=_[0],Q=_[1],Z=Object(a.useState)({}),W=Object(H.a)(Z,2),K=W[0],X=W[1],$=Object(a.useState)(!1),ee=Object(H.a)($,2),ne=ee[0],ae=ee[1],re=Object(a.useState)([]),ie=Object(H.a)(re,2),le=ie[0],de=ie[1],he=Object(a.useState)([]),fe=Object(H.a)(he,2),pe=fe[0],xe=fe[1],ve=Object(a.useState)(""),ge=Object(H.a)(ve,2),we=ge[0],Ne=ge[1],ye=Object(a.useState)({}),ke=Object(H.a)(ye,2),Ce=ke[0],Se=ke[1],Ae=Object(a.useState)(""),Ie=Object(H.a)(Ae,2),De=Ie[0],Le=Ie[1],Me=Object(a.useState)(!1),Fe=Object(H.a)(Me,2),Be=Fe[0],He=Fe[1],Pe=Object(a.useState)({}),ze=Object(H.a)(Pe,2),Ye=ze[0],Re=ze[1],qe=Object(a.useState)(""),Ge=Object(H.a)(qe,2),Ue=Ge[0],Ve=Ge[1],_e=Object(a.useState)(!1),Je=Object(H.a)(_e,2),Qe=Je[0],Ze=Je[1],We=Object(a.useState)([]),Ke=Object(H.a)(We,2),Xe=Ke[0],$e=Ke[1],et=Object(a.useState)(""),tt=Object(H.a)(et,2),nt=tt[0],at=tt[1],st=Object(a.useState)(!1),ct=Object(H.a)(st,2),rt=ct[0],it=ct[1],ot=Object(a.useState)({}),lt=Object(H.a)(ot,2),ut=(lt[0],lt[1]),dt=Object(a.useState)(""),jt=Object(H.a)(dt,2),bt=jt[0],mt=jt[1];Object(a.useEffect)((function(){ft(),Ot(),yt()}),[]);var ht=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new oi).deleteEbookLink(b);case 2:e.sent.ok?(I.b.success("Link deleted successfully"),Ct(we)):I.b.error("Something went wrong while deleting link."),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,(new Oe).getCourses();case 3:(t=e.sent).ok?(n=t.data,a=n.filter((function(e){return null!==e.status&&!0!==e.deleted})),s(a)):I.b.error("Something went wrong while fetching exam information"),N(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Ee).getSubjectArea();case 2:(t=e.sent).ok?Q(t.data):I.b.error("Something went wrong while fetching all subject area");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=z&&""!=M&&""!=G){e.next=5;break}I.b.error("Please insert all the required fields",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=10;break;case 5:return n={courseName:M,description:z,status:C,subjectAreaId:G},e.next=8,(new Oe).editCourse(K.id,n);case 8:(a=e.sent).ok?(Ot(),x(!1),X({}),S(""),F(""),Y(""),U("")):I.b.error(a.data.errorMessage,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).editCourse(t.id,Object(m.a)(Object(m.a)({},t),{},{status:!t.status}));case 2:e.sent.ok?(Ot(),I.b.success("Course status updated successfully.")):I.b.error("Something went wrong while fetching exam information");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={courseId:we,userAccountId:t.userAccountID},e.next=3,(new Oe).addDistributor(we,n);case 3:(a=e.sent).ok?(I.b.success("Contributor added successfully"),wt(we)):I.b.error(null===(s=a.data)||void 0===s?void 0:s.errorMessage.replace("distributor","contributor"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.distributorInformation.userAccountId!=De){e.next=4;break}I.b.error("You can't remove the author of this course."),e.next=8;break;case 4:return e.next=6,(new Oe).removeContributor(we,t.distributorInformation.id);case 6:(n=e.sent).ok?(I.b.success("Contributor removed successfully"),wt(we)):I.b.error(null===(a=n.data)||void 0===a?void 0:a.errorMessage.replace("distributor","contributor"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getContributor(t);case 2:(n=e.sent).ok?xe(Object(Te.a)(n.data)):I.b.error(null===(a=n.data)||void 0===a?void 0:a.errorMessage.replace("distributor","contributor"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new Oe).getCourseInformation(t);case 2:(n=e.sent).ok?(Se(n.data),Le(n.data.createdBy)):alert("Something went wrong while fetching course information");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getTeachers();case 2:(t=e.sent).ok?de(t.data):I.b.error(null===(n=t.data)||void 0===n?void 0:n.errorMessage.replace("distributor","contributor"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kt=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""==Ue){e.next=11;break}return He(!1),N(!0),e.next=6,(new oi).uploadLinks(we,Ue,Ye);case 6:e.sent.ok?(Ot(),Ne(""),Ve(""),I.b.success("Successfully uploaded Ebook links.")):I.b.error("Something went wrong while uploading teacher list."),N(!1),e.next=12;break;case 11:I.b.error("Please select user type.");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(!1),N(!0),e.next=4,(new oi).getEbooksPerCourse(t);case 4:(n=e.sent).ok?$e(n.data):I.b.error("Something went wrong while getting ebooks links."),N(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(e){e&&function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}(e).then((function(t){var n={base64String:t,fileName:e.name};Re(n)}))},Tt=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),it(!1),n={ebookLink:bt},e.next=5,(new oi).updateEbookLink(nt,n);case 5:e.sent.ok?Ct(we):I.b.error("Something went wrong while updating ebook link.");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(te,{title:"Dashboard",activeHeader:"courses",loading:w,children:[Qe?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("button",{onClick:function(){return Ze(!1)},className:"float-right btn btn-success btn-sm m-r-5",children:"Back to Course List"}),Object(E.jsx)("h3",{className:"m-b-20 m-t-20",children:null===Ce||void 0===Ce?void 0:Ce.courseName}),Object(E.jsx)(Dc.a,{pageCount:100,list:Xe,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:Xe,columns:[{Header:"",columns:[{Header:"First Name",id:"fname",accessor:function(e){var t;return e.student?null===(t=e.student)||void 0===t?void 0:t.fname:e.teacher.fname},Cell:function(e){var t,n;return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:e.original.student?null===(t=e.original.student)||void 0===t?void 0:t.fname:null===(n=e.original.teacher)||void 0===n?void 0:n.fname})}},{Header:"Last Name",id:"lname",accessor:function(e){var t;return e.student?null===(t=e.student)||void 0===t?void 0:t.lname:e.teacher.lname},Cell:function(e){var t,n;return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:e.original.student?null===(t=e.original.student)||void 0===t?void 0:t.lname:null===(n=e.original.teacher)||void 0===n?void 0:n.lname})}},{Header:"Link",id:"link",accessor:function(e){return e.userEbook.ebookLink},Cell:function(e){var t;return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:null===(t=e.original.userEbook)||void 0===t?void 0:t.ebookLink})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(E.jsx)("button",{onClick:function(){return t=e.original,ut(t),at(t.userEbook.id),it(!0),void mt(t.userEbook.ebookLink);var t},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})}),Object(E.jsx)("button",{onClick:function(){return t=e.original.userEbook.id,h(t),void u(!0);var t},className:"btn btn-danger btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-trash"})})]})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h3",{className:"m-b-20 m-t-20",children:"Course List"}),Object(E.jsx)(Dc.a,{pageCount:100,list:n,filterable:!0,defaultFilterMethod:function(e,t){var n=e.value.toLowerCase(),a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(n)},data:n,columns:[{Header:"",columns:[{Header:"Course Name",id:"fname",accessor:function(e){return e.courseName}},{Header:"Author",id:"lname",accessor:function(e){return e.authorName}},{Header:"Subject Area",id:"subjectArea",accessor:function(e){var t;return null===(t=e.subjectArea)||void 0===t?void 0:t.subjectAreaName},Cell:function(e){var t;return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:null===(t=e.original.subjectArea)||void 0===t?void 0:t.subjectAreaName})}},{Header:"Status",id:"toggle",accessor:function(e){return e.status?"Active":"Inactive"},Cell:function(e){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(E.jsx)(me.a,{children:Object(E.jsx)(me.a.Check,{disabled:w,checked:!!e.original.status,type:"switch",id:"custom-switch",label:e.original.status?"Active":"Inactive",onClick:function(){return xt(e.original)}})})})}},{Header:"Actions",id:"edit",accessor:function(e){return e.id},Cell:function(e){return Object(E.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(E.jsx)("button",{onClick:function(){return t=e.original,X(t),S(t.status),F(t.courseName),Y(t.description),U(t.subjectAreaId),void x(!0);var t},className:"btn btn-info btn-sm m-r-5",children:Object(E.jsx)("i",{class:"fas fa-edit"})}),Object(E.jsx)("button",{onClick:function(){return t=e.original.id,ae(!ne),wt(t),Ne(t),void Nt(t);var t},className:"btn tficolorbg-button btn-sm m-r-5",children:"CONTRIBUTOR"})]})}},{Header:"Upload",id:"ebook",accessor:function(e){return"Upload Ebook Links"},Cell:function(e){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(E.jsx)("button",{onClick:function(){return t=e.original.id,Ne(t),void He(!0);var t},className:"btn btn-success btn-sm m-r-5",children:"Upload Ebook Links"})})}},{Header:"Links",id:"links",accessor:function(e){return"See Links"},Cell:function(e){return Object(E.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(E.jsx)("button",{onClick:function(){return t=e.original,Ne(t.id),Ct(t.id),Se(t),void Ze(!0);var t},className:"btn btn-warning btn-sm m-r-5",children:"See Links"})})}}]}],csv:!0,edited:n,defaultPageSize:10,className:"-highlight"})]}),Object(E.jsxs)(be.a,{size:"lg",show:Be,onHide:function(){return He(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Upload Ebook links"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return kt(e)},children:[Object(E.jsxs)(me.a.Group,{className:"mb-4",children:[Object(E.jsx)(me.a.Label,{children:"User Type"}),Object(E.jsxs)(me.a.Select,{required:!0,onChange:function(e){return Ve(e.target.value)},children:[Object(E.jsx)("option",{value:"",children:"Select user"}),Object(E.jsx)("option",{value:"teacher",children:"Teacher"}),Object(E.jsx)("option",{value:"student",children:"Student"})]})]}),Object(E.jsx)(me.a.Group,{className:"mb-3",children:Object(E.jsx)(me.a.Control,{required:!0,type:"file",accept:".xls,.xlsx,",onChange:function(e){return St(e.target.files[0])}})}),Object(E.jsx)("p",{children:".xslx"}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Upload"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",show:rt,onHide:function(){return it(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(E.jsx)(be.a.Header,{className:"class-modal-header",closeButton:!0,children:Object(E.jsx)(be.a.Title,{id:"example-modal-sizes-title-lg",children:"Edit Ebook links"})}),Object(E.jsx)(be.a.Body,{children:Object(E.jsxs)(me.a,{onSubmit:function(e){return Tt(e)},children:[Object(E.jsx)(me.a.Group,{className:"mb-4",children:Object(E.jsx)(me.a.Control,{value:bt,required:!0,type:"text",onChange:function(e){return mt(e.target.value)}})}),Object(E.jsx)(me.a.Group,{className:"right-btn",children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Link"})})]})})]}),Object(E.jsx)(oe.a,{showCancel:!0,show:i,onConfirm:function(){return ht()},confirmBtnText:"Delete",confirmBtnBsStyle:"info",cancelBtnBsStyle:"error",title:"Are you sure?",onCancel:function(){return u(!1)},children:"You will not be able to recover this data!"}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:p,onHide:function(){return x(!p)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Edit Course"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(me.a,{onSubmit:pt,children:[Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"courseName",children:"Course Name"}),Object(E.jsx)(je.a,{defaultValue:M,className:"custom-input",size:"lg",type:"text",onChange:function(e){return F(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"description",children:"Description"}),Object(E.jsx)(je.a,{defaultValue:z,className:"custom-input",size:"lg",type:"text",onChange:function(e){return Y(e.target.value)}})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"subjectArea",children:"Subject Area"}),Object(E.jsx)(me.a.Select,{size:"lg",onChange:function(e){return U(e.target.value)},children:J.map((function(e){return Object(E.jsx)("option",{value:e.id,selected:(null===K||void 0===K?void 0:K.subjectAreaId)===e.id,children:e.subjectAreaName})}))})]}),Object(E.jsxs)(me.a.Group,{className:"m-b-20",children:[Object(E.jsx)(me.a.Label,{for:"status",children:"Status"}),Object(E.jsxs)(me.a.Select,{size:"lg",onChange:function(e){return S(e.target.value)},children:[Object(E.jsx)("option",{value:!0,selected:!0===(null===K||void 0===K?void 0:K.status),children:"Active"}),Object(E.jsx)("option",{value:!1,selected:!1===(null===K||void 0===K?void 0:K.status),children:"Inactive"})]})]}),Object(E.jsx)("span",{style:{float:"right"},children:Object(E.jsx)(ue.a,{className:"tficolorbg-button",type:"submit",children:"Update Course"})})]})})]}),Object(E.jsxs)(be.a,{size:"lg",className:"modal-all",show:ne,onHide:function(){return ae(!1)},children:[Object(E.jsx)(be.a.Header,{className:"modal-header",closeButton:!0,children:"Contributor"}),Object(E.jsx)(be.a.Body,{className:"modal-label b-0px",children:Object(E.jsxs)(se.a,{children:[Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("div",{className:"contributors-container",children:[Object(E.jsx)("p",{className:"font-20",children:"Contributor/s"}),pe.map((function(e,t){return Object(E.jsxs)(se.a,{className:"mb-3",children:[Object(E.jsx)(ce.a,{md:8,children:Object(E.jsxs)("span",{children:[e.userInformation.firstname," ",e.userInformation.lastname," "]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("span",{children:Object(E.jsx)("i",{onClick:function(){return gt(e)},className:"fa fa-minus bg-danger color-white d-flex justify-content-center align-items-center br-3",style:{width:23,height:23}})})})]})}))]})}),Object(E.jsx)(ce.a,{md:6,children:Object(E.jsxs)("div",{className:"contributors-container",children:[Object(E.jsx)("p",{className:"font-20",children:"Teacher/s"}),le.map((function(e,t){return Object(E.jsxs)(se.a,{className:"mb-3",children:[Object(E.jsx)(ce.a,{md:8,children:Object(E.jsxs)("span",{className:"w-75",children:[e.fname," ",e.lname]})}),Object(E.jsx)(ce.a,{children:Object(E.jsx)("span",{children:Object(E.jsx)("i",{onClick:function(){return vt(e)},className:"fa fa-plus tficolorbg-button color-white d-flex justify-content-center align-items-center br-3",style:{width:23,height:23}})})})]})}))]})})]})})]})]})}function di(){var e=Object(a.useContext)(D),t=e.data,n=t.loading,s=t.refreshUser;e.data.user;return Object(a.useEffect)((function(){s()}),[]),Object(E.jsx)("div",{className:"content",children:n?Object(E.jsx)(Is,{}):Object(E.jsx)(F.a,{children:Object(E.jsxs)(B.Switch,{children:[Object(E.jsx)(Ts,{path:"/courses",exact:!0,component:Fe}),Object(E.jsx)(Ts,{path:"/coursecontent/:id/learn",exact:!0,component:Ft}),Object(E.jsx)(Ts,{path:"/courses/:id/exam",exact:!0,component:dn}),Object(E.jsx)(Ts,{path:"/course/:id/exam/:examid",exact:!0,component:Un}),Object(E.jsx)(Ts,{path:"/courses/:id/discussion",exact:!0,component:hn}),Object(E.jsx)(Ts,{path:"/courses/:id/assignment",exact:!0,component:xn}),Object(E.jsx)(Ts,{path:"/courses/:id/task",exact:!0,component:Nn}),Object(E.jsx)(Ts,{path:"/courses/:id/files",exact:!0,component:Cn}),Object(E.jsx)(Ts,{path:"/courses/:id/videos",exact:!0,component:zn}),Object(E.jsx)(Ts,{path:"/courses/:id/resources",exact:!0,component:qn}),Object(E.jsx)(Ts,{path:"/courses/:id/links",exact:!0,component:Ln}),Object(E.jsx)(Ts,{path:"/classes",exact:!0,component:Se}),Object(E.jsx)(Ts,{path:"/classescontent/:id/feed",exact:!0,component:Fa}),Object(E.jsx)(Ts,{path:"/class/:id/exam/:examid",exact:!0,component:Qn}),Object(E.jsx)(Ts,{path:"/classes/:id/learn",exact:!0,component:Ra}),Object(E.jsx)(Ts,{path:"/classes/:id/exam",exact:!0,component:ya}),Object(E.jsx)(Ts,{path:"/classes/:id/discussion",exact:!0,component:ma}),Object(E.jsx)(Ts,{path:"/classes/:id/assignment",exact:!0,component:ca}),Object(E.jsx)(Ts,{path:"/classes/:id/task",exact:!0,component:cs}),Object(E.jsx)(Ts,{path:"/classes/:id/interactives",exact:!0,component:js}),Object(E.jsx)(Ts,{path:"/classes/:id/links",exact:!0,component:Qa}),Object(E.jsx)(Ts,{path:"/classes/:id/classList",exact:!0,component:xs}),Object(E.jsx)(Ts,{path:"/classes/:id/class_grading",exact:!0,component:Zc}),Object(E.jsx)(Ts,{path:"/classes/:id/class_grading/:term_id",exact:!0,component:$c}),Object(E.jsx)(Ts,{path:"/classes/:id/class_grading/:term_id/computation",exact:!0,component:cr}),Object(E.jsx)(Ts,{path:"/classes/:id/class_grading/:term_id/new",exact:!0,component:tr}),Object(E.jsx)(Ts,{path:"/classes/:id/class_meeting",exact:!0,component:Dr}),Object(E.jsx)(Ts,{path:"/classes/:id/files",exact:!0,component:ws}),Object(E.jsx)(Ts,{path:"/classes/:id/videos",exact:!0,component:lr}),Object(E.jsx)(Ts,{path:"/classes/:id/resources",exact:!0,component:Ns}),Object(E.jsx)(Ts,{path:"/exam",exact:!0,component:Re}),Object(E.jsx)(Ts,{path:"/reports",exact:!0,component:ft}),Object(E.jsx)(Ts,{path:"/archive",exact:!0,component:ks}),Object(E.jsx)(Ts,{path:"/classExam/:class_id/exam/:id",exact:!0,component:Us}),Object(E.jsx)(Ts,{path:"/",exact:!0,component:Ve}),Object(E.jsx)(Ts,{path:"/classescontent/:id",exact:!0,component:Cs}),Object(E.jsx)(Ts,{path:"/class/:id/exam/:examid",exact:!0,component:Us}),Object(E.jsx)(Ts,{path:"/classes",exact:!0,component:Se}),Object(E.jsx)(Ts,{path:"/",exact:!0,component:Ve}),Object(E.jsx)(Ts,{path:"/profile/:id",exact:!0,component:Js}),Object(E.jsx)(Ts,{path:"/exam_creation/:id",exact:!0,component:un}),Object(E.jsx)(Ts,{path:"/files",exact:!0,component:zc}),Object(E.jsx)(Ts,{path:"/files/course",exact:!0,component:Yc}),Object(E.jsx)(Ts,{path:"/teacherdashboard",exact:!0,component:Nr}),Object(E.jsx)(Ts,{path:"/dashboard",exact:!0,component:Zs}),Object(E.jsx)(Ts,{path:"/schoolannouncement",exact:!0,component:Er}),Object(E.jsx)(Ts,{path:"/school",exact:!0,component:ec}),Object(E.jsx)(Ts,{path:"/school_courses/:id",exact:!0,component:pc}),Object(E.jsx)(Ts,{path:"/school_courses/:id/discussion",exact:!0,component:vc}),Object(E.jsx)(Ts,{path:"/school_courses/:id/exam",exact:!0,component:Nc}),Object(E.jsx)(Ts,{path:"/school_courses/:id/assignment",exact:!0,component:kc}),Object(E.jsx)(Ts,{path:"/school_courses/:id/task",exact:!0,component:Sc}),Object(E.jsx)(Ts,{path:"/school_courses/:id/interactive",exact:!0,component:Ac}),Object(E.jsx)(Ts,{path:"/school_courses/:id/files",exact:!0,component:Ec}),Object(E.jsx)(Ts,{path:"/schoolTeacher",exact:!0,component:Mc}),Object(E.jsx)(Ts,{path:"/studentsList",exact:!0,component:Bc}),Object(E.jsx)(Ts,{path:"/schoolAdmin",exact:!0,component:Pc}),Object(E.jsx)(Ts,{path:"/schoolAdminClasses",exact:!0,component:nc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/feed",exact:!0,component:sc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/exam/:examid",exact:!0,component:Oc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/learn",exact:!0,component:cc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/exam",exact:!0,component:oc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/discussion",exact:!0,component:lc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/assignment",exact:!0,component:uc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/task",exact:!0,component:dc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/interactives",exact:!0,component:jc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/links",exact:!0,component:bc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/classList",exact:!0,component:mc}),Object(E.jsx)(Ts,{path:"/school_classes/:id/files",exact:!0,component:hc}),Object(E.jsx)(Ts,{path:"/reports/exam",exact:!0,component:Zr}),Object(E.jsx)(Ts,{path:"/reports/assignment",component:$r}),Object(E.jsx)(Ts,{path:"/reports/task",exact:!0,component:Kr}),Object(E.jsx)(Ts,{path:"/reports/interactive",exact:!0,component:ei}),Object(E.jsx)(Ts,{path:"/parent/dashboard",exact:!0,component:Lr}),Object(E.jsx)(Ts,{path:"/parent/profile",exact:!0,component:Mr}),Object(E.jsx)(Ts,{path:"/system-admin/dashboard",exact:!0,component:Fr}),Object(E.jsx)(Ts,{path:"/system-admin/profile",exact:!0,component:Br}),Object(E.jsx)(Ts,{path:"/system-admin/teachers",exact:!0,component:zr}),Object(E.jsx)(Ts,{path:"/system-admin/students",exact:!0,component:Rr}),Object(E.jsx)(Ts,{path:"/system-admin/school-profile",exact:!0,component:Gr}),Object(E.jsx)(Ts,{path:"/system-admin/courses",exact:!0,component:Ur}),Object(E.jsx)(Ts,{path:"/system-admin/school_admin",exact:!0,component:_r}),Object(E.jsx)(Ts,{path:"/system-admin/miranda",exact:!0,component:ci}),Object(E.jsx)(Ts,{path:"/system-admin/ebooks",exact:!0,component:ui}),Object(E.jsx)(Ts,{path:"/notifications",exact:!0,component:ti}),Object(E.jsx)(Ts,{path:"/academicTerm",exact:!0,component:ai}),Object(E.jsx)(Ts,{path:"/courses/:id/ebooks",exact:!0,component:ri}),Object(E.jsx)(Ts,{path:"/classes/:id/ebooksFiles",exact:!0,component:ii}),Object(E.jsx)(Ts,{path:"/ebook_links",exact:!0,component:li}),Object(E.jsx)(Ts,{path:"/terms",exact:!0,component:Qc}),Object(E.jsx)(Ts,{path:"/admin/grading",exact:!0,component:Uc}),Object(E.jsx)(As,{path:"/calendar",exact:!0,component:Ar}),Object(E.jsx)(As,{path:"/scratch",exact:!0,component:kr}),Object(E.jsx)(As,{path:"/zoom-client",exact:!0,component:Ya}),Object(E.jsx)(Es,{path:"/login",exact:!0,component:_e}),Object(E.jsx)(Es,{path:"/forgot_password",exact:!0,component:Ue}),Object(E.jsx)(As,{path:"/404",exact:!0,component:Ds}),Object(E.jsx)(Ts,{path:"/",exact:!0,component:Ve}),Object(E.jsx)(B.Redirect,{to:"/404"})]})})})}function ji(){return Object(E.jsx)(yr.a,{pageId:"103022335784792",language:"en_US",themeColor:"#EE9337",bottomSpacing:44,loggedInGreeting:"Hi. How can I help you?",loggedOutGreeting:"Thank you for visiting. Please log in to continue.",greetingDialogDisplay:"show",debugMode:!0,onMessengerShow:function(){console.log("onMessengerShow")},onMessengerHide:function(){console.log("onMessengerHide")},onMessengerDialogShow:function(){console.log("onMessengerDialogShow")},onMessengerDialogHide:function(){console.log("onMessengerDialogHide")},onMessengerMounted:function(){console.log("onMessengerMounted")},onMessengerLoad:function(){console.log("onMessengerLoad")}})}function bi(){return Object(E.jsxs)(M,{children:[Object(E.jsx)(di,{}),Object(E.jsx)(I.a,{}),Object(E.jsx)(Ya,{}),Object(E.jsx)(ji,{})]})}n(791),n(792),n(793),n(794),n(886),n(887),n(888);var mi=n(47);mi.e.register(mi.d,mi.a,mi.j,mi.l,mi.i,mi.p,mi.q,mi.g),r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(bi,{})}),document.getElementById("root"))}},[[889,1,2]]]);
//# sourceMappingURL=main.9323caa8.chunk.js.map